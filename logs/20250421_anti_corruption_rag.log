2025-04-21 11:41:57,925 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 11:41:57,925 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 11:41:57,925 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 11:41:57,925 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 11:41:58,796 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 11:42:06,100 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 11:42:08,297 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 11:42:08,299 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 11:42:08,300 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 11:42:08,301 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 11:42:08,302 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 11:42:08,627 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 11:42:17,958 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:42:17,961 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 11:42:18,035 - app_setup - ERROR - Failed to initialize OpenRouterManager: name 'logger' is not defined
Traceback (most recent call last):
  File "/home/t/lm_rag/src/utils/openrouter_manager.py", line 86, in __init__
    logger.info(f"OpenRouter manager initialized. Base URL: {self.base_url}")
    ^^^^^^
NameError: name 'logger' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app_setup.py", line 126, in initialize_active_llm_manager
    manager = OpenRouterManager(CONFIG["openrouter"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/utils/openrouter_manager.py", line 90, in __init__
    logger.error(f"Error initializing OpenAI client for OpenRouter: {e}", exc_info=True)
    ^^^^^^
NameError: name 'logger' is not defined
2025-04-21 11:42:18,043 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 11:42:18,045 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 11:42:18,046 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 11:42:18,054 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 11:42:18,056 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 11:42:18,057 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 11:42:18,058 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 11:42:18,059 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 11:42:18,060 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 11:42:18,061 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 11:42:18,062 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.36 GB, VMS: 37.63 GB
2025-04-21 11:42:18,209 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:42:18,212 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemma-3-27b-it:free)
2025-04-21 11:42:18,290 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 11:42:18,292 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:45:01,845 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 11:45:01,845 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 11:45:01,845 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 11:45:01,845 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 11:45:02,663 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 11:45:08,177 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 11:45:10,128 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 11:45:10,130 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 11:45:10,131 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 11:45:10,131 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 11:45:10,132 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 11:45:10,411 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 11:45:17,232 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:45:17,235 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 11:45:17,307 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1
2025-04-21 11:45:17,308 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 11:45:17,311 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 11:45:17,312 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 11:45:17,313 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 11:45:17,342 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 11:45:17,344 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 11:45:17,345 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 11:45:17,346 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 11:45:17,347 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 11:45:17,348 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 11:45:17,349 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 11:45:17,350 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.63 GB
2025-04-21 11:45:17,431 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:45:17,434 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemma-3-27b-it:free)
2025-04-21 11:45:17,506 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 11:45:17,507 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:45:50,024 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:45:50,094 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 11:45:50,096 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:45:51,030 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:45:51,092 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 11:45:51,093 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:45:51,100 - app_setup - INFO - Starting processing with LLM: google/gemma-3-27b-it:free (Backend: OPENROUTER)
2025-04-21 11:45:51,552 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:45:51,617 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 11:45:51,618 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:46:04,049 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:46:04,102 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 11:46:04,103 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:46:04,109 - app_setup - INFO - Starting processing with LLM: google/gemma-3-27b-it:free (Backend: OPENROUTER)
2025-04-21 11:46:04,502 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:46:04,564 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 11:46:04,565 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:46:06,423 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:46:06,476 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 11:46:06,477 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:46:06,483 - app_setup - INFO - Starting processing with LLM: google/gemma-3-27b-it:free (Backend: OPENROUTER)
2025-04-21 11:46:06,894 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:46:06,952 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 11:46:06,953 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:56:06,971 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 11:56:06,971 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 11:56:06,972 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 11:56:06,972 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 11:56:07,797 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 11:56:13,280 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 11:56:15,260 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 11:56:15,262 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 11:56:15,263 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 11:56:15,264 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 11:56:15,265 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 11:56:15,536 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 11:56:23,780 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:56:23,783 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 11:56:23,784 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 11:56:23,784 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 11:56:23,857 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 11:56:23,859 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 11:56:23,861 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 11:56:23,862 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 11:56:23,863 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 11:56:23,872 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 11:56:23,874 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 11:56:23,875 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 11:56:23,876 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 11:56:23,877 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 11:56:23,878 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 11:56:23,879 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 11:56:23,880 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.63 GB
2025-04-21 11:56:23,966 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:56:23,969 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemma-3-27b-it:free)
2025-04-21 11:56:24,033 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 11:56:24,035 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:56:45,458 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:56:45,522 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 11:56:45,523 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:56:46,363 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:56:46,421 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 11:56:46,423 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:56:46,429 - app_setup - INFO - Starting processing with LLM: google/gemma-3-27b-it:free (Backend: OPENROUTER)
2025-04-21 11:56:46,846 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:56:46,907 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 11:56:46,908 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:56:59,793 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:56:59,844 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 11:56:59,845 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 11:56:59,851 - app_setup - INFO - Starting processing with LLM: google/gemma-3-27b-it:free (Backend: OPENROUTER)
2025-04-21 11:57:00,245 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 11:57:00,307 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 11:57:00,309 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:02:43,273 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:02:43,273 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:02:43,273 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:02:43,273 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:02:44,095 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:02:49,682 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 12:02:51,580 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:02:51,582 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:02:51,583 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:02:51,584 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:02:51,584 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:02:51,850 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 12:03:00,113 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:03:00,116 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 12:03:00,117 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 12:03:00,118 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 12:03:00,191 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 12:03:00,192 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 12:03:00,195 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 12:03:00,196 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 12:03:00,196 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 12:03:00,205 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 12:03:00,208 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 12:03:00,209 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 12:03:00,210 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 12:03:00,211 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 12:03:00,211 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 12:03:00,212 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 12:03:00,213 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.63 GB
2025-04-21 12:03:00,297 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:03:00,301 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemma-3-27b-it:free)
2025-04-21 12:03:00,363 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 12:03:00,364 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:03:25,774 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:03:25,843 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 12:03:25,844 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:03:26,829 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:03:26,892 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 12:03:26,893 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:03:26,898 - app_setup - INFO - Starting processing with LLM: google/gemma-3-27b-it:free (Backend: OPENROUTER)
2025-04-21 12:03:26,903 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 12:03:26,906 - app_setup - INFO - Starting document processing. Files: ['The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf']. LLM: google/gemma-3-27b-it:free (Backend: openrouter)
2025-04-21 12:03:26,908 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 12:03:26,910 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:03:26,912 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 12:03:26,914 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 12:03:26,936 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 12:03:26,940 - app_setup - INFO - Loading regular document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:03:26,942 - src.core.document_processing.document_loader - INFO - Loading document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (Type: .pdf)
2025-04-21 12:03:26,943 - src.core.document_processing.document_loader - INFO - Processing with Docling: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:03:26,944 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf...
2025-04-21 12:03:39,586 - src.core.document_processing.document_loader - INFO - Exporting The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf content to Markdown...
2025-04-21 12:03:39,652 - src.core.document_processing.document_loader - INFO - Docling processing successful for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf. Word count: 4135, Page count: 10
2025-04-21 12:03:39,655 - app_setup - INFO - Document loaded: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf, Content items: 1
2025-04-21 12:03:39,656 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 12:03:39,657 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 12:03:39,658 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.24 GB, VMS: 40.13 GB
2025-04-21 12:03:39,659 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 12:03:39,660 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 12:03:39,662 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 12:03:39,663 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 12:03:40,071 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 12:03:40,072 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 12:03:40,093 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 12:03:40,095 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 12:03:40,097 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.24 GB, VMS: 40.13 GB
2025-04-21 12:03:40,098 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:03:40,099 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 12:03:40,495 - app_setup - INFO - Document loader shut down complete.
2025-04-21 12:03:40,497 - app_setup - INFO - Process memory - RSS: 2.23 GB, VMS: 40.12 GB
2025-04-21 12:03:40,498 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:03:40,499 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 12:03:40,500 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 12:03:40,501 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.23 GB, VMS: 40.12 GB
2025-04-21 12:03:40,502 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:03:40,503 - app_setup - INFO - Loading chunking model...
2025-04-21 12:03:40,503 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:03:40,504 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 12:03:40,505 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 12:03:40,506 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 12:03:40,506 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 12:03:43,226 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 12:03:43,227 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 2.72 seconds
2025-04-21 12:03:43,228 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.59 GB, VMS: 41.64 GB
2025-04-21 12:03:43,229 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:03:43,230 - app_setup - INFO - Chunking document 1/1: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:03:43,230 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (ID: 29ccba57-3bb2-428b-b4c6-dd5dffbb135c, Type: .pdf)
2025-04-21 12:03:43,231 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf.
2025-04-21 12:03:43,232 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 28181 chars) using Markdown Header + Semantic chunking.
2025-04-21 12:03:43,234 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 7 initial structural chunks.
2025-04-21 12:03:43,634 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 25 potential chunks.
2025-04-21 12:03:43,635 - src.core.document_processing.document_chunker - WARNING - Chunk (length 16110) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:03:43,636 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 39 basic chunks.
2025-04-21 12:03:43,637 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 1 oversized chunks.
2025-04-21 12:03:43,638 - src.core.document_processing.document_chunker - INFO - Final processing created 63 chunks from text of length 28181.
2025-04-21 12:03:43,639 - src.core.document_processing.document_chunker - INFO - Chunking for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf completed in 0.41s.
2025-04-21 12:03:43,640 - src.core.document_processing.document_chunker - INFO - Created 63 total chunks: 0 spreadsheet rows, 24 semantic chunks, 0 sentence fallback chunks, 39 basic fallback chunks.
2025-04-21 12:03:43,641 - src.core.document_processing.document_chunker - INFO - Average chunk size: 449.7 characters.
2025-04-21 12:03:43,642 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.59 GB, VMS: 41.64 GB
2025-04-21 12:03:43,643 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.60 GB, Total: 8.00 GB
2025-04-21 12:03:43,644 - app_setup - INFO - Created 63 chunks for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:03:43,645 - app_setup - INFO - Shutting down chunking model...
2025-04-21 12:03:43,646 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:03:43,647 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 12:03:43,648 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 12:03:43,650 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 12:03:43,653 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 12:03:44,239 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 12:03:44,240 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.59 GB, VMS: 41.64 GB
2025-04-21 12:03:44,241 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:03:44,676 - app_setup - INFO - Process memory - RSS: 2.59 GB, VMS: 41.64 GB
2025-04-21 12:03:44,678 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:03:44,679 - app_setup - INFO - Total chunks generated: 63
2025-04-21 12:03:44,680 - app_setup - INFO - Creating entity extractor with model google/gemma-3-27b-it:free (Backend: openrouter)
2025-04-21 12:03:44,681 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 12:03:44,682 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 12:03:44,682 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 12:03:44,685 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 12:03:44,687 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemma-3-27b-it:free, debug=True
2025-04-21 12:03:44,688 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.59 GB, VMS: 41.64 GB
2025-04-21 12:03:44,689 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:03:44,690 - app_setup - INFO - Starting entity extraction on 63 chunks (0 visual chunks)
2025-04-21 12:03:44,691 - src.core.extraction.entity_extractor - INFO - Adding 63 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 12:03:44,692 - src.core.extraction.entity_extractor - INFO - Added 63 chunks to queue. Processing now.
2025-04-21 12:03:44,693 - src.core.extraction.entity_extractor - INFO - Processing all 63 chunks using OPENROUTER backend...
2025-04-21 12:03:44,694 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.59 GB, VMS: 41.64 GB
2025-04-21 12:03:44,695 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:03:44,696 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 12:03:44,697 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 12:03:44,697 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 12:03:44,698 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 12:03:44,699 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemma-3-27b-it:free).
2025-04-21 12:03:44,700 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 12:03:44,700 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks (0 spreadsheet rows)
2025-04-21 12:03:44,701 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 12:03:44,702 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (63 chunks)
2025-04-21 12:03:44,703 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 12:03:44,704 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 12:03:44,704 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks sequentially via OpenRouter...
2025-04-21 12:03:44,705 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:03:44,706 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:03:53,757 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:03:53,759 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "GlobalTech Solutions Inc.",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Delaware",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Incorporation location",
      "to_entity_name": "GlobalTech Solutions Inc.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Wilmington",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Address location",
      "to_entity_name": "GlobalTech Solutions Inc.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "EVENT",
      "from_entity_name": "Fiscal Year Ending 2023",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Asia",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This document is an annual report summarizing business performance for a fiscal year. It highlights growth in Asian markets driven by partnerships with a commercial company incorporated in Delaware. The report mentions key business areas like cloud services and notes the impact of global market volatility. The content involves a commercial company and a location.",
    "red_flags": "Red flags: None detected. The information appears to be standard business reporting."
  }
}
```
2025-04-21 12:03:53,763 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 3c4ed77d-a215-46a2-b809-7ee74660d458: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:03:53,765 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:03:53,765 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:04:00,308 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:04:00,310 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Europe",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "European Data Dynamics GmbH",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Headquartered in",
      "to_entity_name": "Berlin",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Germany",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "EU",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text discusses business operations and regulatory challenges faced within a specific geographic region. It highlights difficulties experienced by a commercial company due to a changing regulatory environment, specifically concerning data privacy regulations implemented by a major governmental body. The content focuses on a company, a location, and a government body.",
    "red_flags": "Red flags: None detected. The text describes regulatory challenges, but does not indicate any corrupt practices."
  }
}
```
2025-04-21 12:04:00,313 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk efacb5d1-b3b8-42c9-953f-d08e93b40fdd: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:04:00,314 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:04:00,315 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:05:59,578 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:05:59,578 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:05:59,578 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:05:59,579 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:06:00,516 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:06:07,287 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 12:06:09,397 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:06:09,399 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:06:09,399 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:06:09,400 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:06:09,401 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:06:09,666 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 12:06:17,599 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:06:17,602 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 12:06:17,603 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 12:06:17,603 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 12:06:17,675 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 12:06:17,677 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 12:06:17,679 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 12:06:17,680 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 12:06:17,681 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 12:06:17,689 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 12:06:17,691 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 12:06:17,692 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 12:06:17,693 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 12:06:17,694 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 12:06:17,694 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 12:06:17,695 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 12:06:17,696 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.36 GB, VMS: 37.63 GB
2025-04-21 12:06:17,790 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:06:17,792 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemma-3-27b-it:free)
2025-04-21 12:06:17,856 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 12:06:17,857 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:06:23,983 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:06:24,042 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 12:06:24,043 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:06:26,146 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:06:26,204 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 12:06:26,205 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:06:29,525 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:06:29,583 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 12:06:29,585 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:06:29,756 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:06:29,826 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:06:31,803 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:06:31,853 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 12:06:31,854 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:06:31,980 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:06:32,047 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:06:32,645 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:06:32,700 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 12:06:32,701 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:06:32,840 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:06:32,911 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:06:33,403 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:06:33,479 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 12:06:33,480 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:06:33,485 - app_setup - INFO - Clearing all indexed and extracted data...
2025-04-21 12:06:33,638 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-21 12:06:34,665 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 12:06:34,672 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-21 12:06:34,673 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 12:06:34,674 - src.core.query_system.query_engine - INFO - Internal BM25 state cleared.
2025-04-21 12:06:34,675 - app_setup - INFO - Data clearing successful via QueryEngine.
2025-04-21 12:06:34,677 - app_setup - INFO - Cleared relevant session state caches after data deletion.
2025-04-21 12:06:34,729 - app_setup - INFO - Collection info after clearing: {'exists': False}
2025-04-21 12:06:35,157 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.71 GB
2025-04-21 12:06:35,159 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:06:35,161 - app_setup - ERROR - Unhandled error in main application loop: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 127, in <module>
    main()
  File "/home/t/lm_rag/src/ui/app.py", line 74, in main
    selected_page = render_sidebar()
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/ui/app_ui_core.py", line 159, in render_sidebar
    st.session_state.confirm_delete = False; st.rerun()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 136, in __setattr__
    self[key] = value
    ~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 114, in __setitem__
    get_session_state()[key] = value
    ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py", line 101, in __setitem__
    self._state[key] = value
    ~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py", line 515, in __setitem__
    raise StreamlitAPIException(
streamlit.errors.StreamlitAPIException: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
2025-04-21 12:06:39,958 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:06:40,009 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.71 GB
2025-04-21 12:06:40,010 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:06:46,062 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:06:46,110 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.71 GB
2025-04-21 12:06:46,112 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:06:47,613 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:06:47,659 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.71 GB
2025-04-21 12:06:47,660 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:06:47,666 - app_setup - INFO - Starting processing with LLM: google/gemma-3-27b-it:free (Backend: OPENROUTER)
2025-04-21 12:06:47,668 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 12:06:47,669 - app_setup - INFO - Starting document processing. Files: ['The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf']. LLM: google/gemma-3-27b-it:free (Backend: openrouter)
2025-04-21 12:06:47,671 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.71 GB
2025-04-21 12:06:47,673 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:06:47,677 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 12:06:47,679 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 12:06:47,685 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 12:06:47,688 - app_setup - INFO - Loading regular document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:06:47,689 - src.core.document_processing.document_loader - INFO - Loading document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (Type: .pdf)
2025-04-21 12:06:47,690 - src.core.document_processing.document_loader - INFO - Processing with Docling: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:06:47,691 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf...
2025-04-21 12:06:59,754 - src.core.document_processing.document_loader - INFO - Exporting The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf content to Markdown...
2025-04-21 12:06:59,797 - src.core.document_processing.document_loader - INFO - Docling processing successful for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf. Word count: 4135, Page count: 10
2025-04-21 12:06:59,800 - app_setup - INFO - Document loaded: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf, Content items: 1
2025-04-21 12:06:59,801 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 12:06:59,802 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 12:06:59,803 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.27 GB, VMS: 40.14 GB
2025-04-21 12:06:59,804 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 12:06:59,805 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 12:06:59,808 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 12:06:59,809 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 12:07:00,239 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 12:07:00,240 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 12:07:00,264 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 12:07:00,265 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 12:07:00,266 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.26 GB, VMS: 40.14 GB
2025-04-21 12:07:00,267 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:07:00,268 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 12:07:00,685 - app_setup - INFO - Document loader shut down complete.
2025-04-21 12:07:00,688 - app_setup - INFO - Process memory - RSS: 2.26 GB, VMS: 40.14 GB
2025-04-21 12:07:00,689 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:07:00,690 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 12:07:00,692 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 12:07:00,693 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.26 GB, VMS: 40.14 GB
2025-04-21 12:07:00,694 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:07:00,695 - app_setup - INFO - Loading chunking model...
2025-04-21 12:07:00,696 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:07:00,696 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 12:07:00,697 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 12:07:00,698 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 12:07:00,699 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 12:07:05,202 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 12:07:05,203 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.50 seconds
2025-04-21 12:07:05,204 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.61 GB, VMS: 41.65 GB
2025-04-21 12:07:05,205 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:07:05,206 - app_setup - INFO - Chunking document 1/1: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:07:05,207 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (ID: a39ed05e-eeec-4d2d-af6f-ca898b263f7f, Type: .pdf)
2025-04-21 12:07:05,208 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf.
2025-04-21 12:07:05,209 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 28181 chars) using Markdown Header + Semantic chunking.
2025-04-21 12:07:05,211 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 7 initial structural chunks.
2025-04-21 12:07:05,587 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 25 potential chunks.
2025-04-21 12:07:05,588 - src.core.document_processing.document_chunker - WARNING - Chunk (length 16110) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:07:05,589 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 39 basic chunks.
2025-04-21 12:07:05,590 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 1 oversized chunks.
2025-04-21 12:07:05,591 - src.core.document_processing.document_chunker - INFO - Final processing created 63 chunks from text of length 28181.
2025-04-21 12:07:05,592 - src.core.document_processing.document_chunker - INFO - Chunking for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf completed in 0.38s.
2025-04-21 12:07:05,593 - src.core.document_processing.document_chunker - INFO - Created 63 total chunks: 0 spreadsheet rows, 24 semantic chunks, 0 sentence fallback chunks, 39 basic fallback chunks.
2025-04-21 12:07:05,594 - src.core.document_processing.document_chunker - INFO - Average chunk size: 449.7 characters.
2025-04-21 12:07:05,595 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.62 GB, VMS: 41.65 GB
2025-04-21 12:07:05,596 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.60 GB, Total: 8.00 GB
2025-04-21 12:07:05,596 - app_setup - INFO - Created 63 chunks for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:07:05,598 - app_setup - INFO - Shutting down chunking model...
2025-04-21 12:07:05,598 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:07:05,599 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 12:07:05,600 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 12:07:05,601 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 12:07:05,604 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 12:07:06,200 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 12:07:06,202 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.61 GB, VMS: 41.65 GB
2025-04-21 12:07:06,203 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:07:06,627 - app_setup - INFO - Process memory - RSS: 2.61 GB, VMS: 41.65 GB
2025-04-21 12:07:06,629 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:07:06,630 - app_setup - INFO - Total chunks generated: 63
2025-04-21 12:07:06,631 - app_setup - INFO - Creating entity extractor with model google/gemma-3-27b-it:free (Backend: openrouter)
2025-04-21 12:07:06,631 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 12:07:06,632 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 12:07:06,633 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 12:07:06,636 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 12:07:06,637 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemma-3-27b-it:free, debug=True
2025-04-21 12:07:06,637 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.61 GB, VMS: 41.65 GB
2025-04-21 12:07:06,639 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:07:06,640 - app_setup - INFO - Starting entity extraction on 63 chunks (0 visual chunks)
2025-04-21 12:07:06,641 - src.core.extraction.entity_extractor - INFO - Adding 63 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 12:07:06,642 - src.core.extraction.entity_extractor - INFO - Added 63 chunks to queue. Processing now.
2025-04-21 12:07:06,643 - src.core.extraction.entity_extractor - INFO - Processing all 63 chunks using OPENROUTER backend...
2025-04-21 12:07:06,644 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.61 GB, VMS: 41.65 GB
2025-04-21 12:07:06,645 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:07:06,646 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 12:07:06,646 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 12:07:06,647 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 12:07:06,648 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 12:07:06,649 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemma-3-27b-it:free).
2025-04-21 12:07:06,649 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 12:07:06,650 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks (0 spreadsheet rows)
2025-04-21 12:07:06,651 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 12:07:06,652 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (63 chunks)
2025-04-21 12:07:06,653 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 12:07:06,653 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 12:07:06,654 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks sequentially via OpenRouter...
2025-04-21 12:07:06,655 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:07:06,656 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:07:15,480 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:07:15,481 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "GlobalTech Solutions Inc.",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Delaware",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Incorporation location",
      "to_entity_name": "GlobalTech Solutions Inc.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Wilmington",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Address location",
      "to_entity_name": "GlobalTech Solutions Inc.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "EVENT",
      "from_entity_name": "Fiscal Year Ending 2023",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Asia",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This document is an annual report summarizing business performance for a fiscal year. It highlights growth in Asian markets driven by partnerships with a commercial company incorporated in Delaware. The report mentions key business areas like cloud services and notes the impact of global market volatility. The content involves a commercial company and a location.",
    "red_flags": "Red flags: None detected. The information appears to be standard business reporting."
  }
}
```
2025-04-21 12:07:15,486 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 43584bd4-c72a-4637-91bc-a0cb87bc15a3: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:07:15,488 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:07:15,488 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:07:20,655 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:07:20,656 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Europe",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "European Data Dynamics GmbH",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Headquartered in",
      "to_entity_name": "Berlin",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Germany",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "EU",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text discusses business operations and regulatory challenges faced within a specific geographical region. It highlights difficulties experienced by a commercial company due to a changing regulatory environment, particularly concerning data privacy regulations implemented by a major governmental body. The text focuses on a company and its location, and the impact of regulations.",
    "red_flags": "Red flags: None detected. The text describes regulatory challenges, but does not indicate any corrupt practices."
  }
}
```
2025-04-21 12:07:20,659 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 9728325c-75ab-4c7b-96f8-7bbd57e71cdd: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:07:20,660 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:07:20,660 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:07:33,318 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:07:33,320 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "EDD",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Collaborating with for compliance",
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Acme Logistics Corp.",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Brooklyn, NY 11220",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Address of",
      "to_entity_name": "Acme Logistics Corp.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Worldwide Distributors Ltd.",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "London, SW1A 2AA",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Registered office of",
      "to_entity_name": "Worldwide Distributors Ltd.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Pacific Rim Innovations Pte. Ltd.",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Singapore 048616",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Address of",
      "to_entity_name": "Pacific Rim Innovations Pte. Ltd.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "EVENT",
      "from_entity_name": "New York legal dispute",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text details business operations, including legal challenges, competitive dynamics, and new ventures. It involves a commercial company facing a legal dispute, another company with potential tax issues, and a new joint venture focused on AI solutions. The document references various locations and regulatory bodies. ",
    "red_flags": "Red flags: Ongoing investigations into a competitor's tax practices and potential bypassing of regulatory hurdles raise concerns about compliance and ethical business conduct."
  }
}
```
2025-04-21 12:07:33,325 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk ea1f86d1-f260-41d7-9496-37fe2fb1b47c: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:07:33,326 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:07:33,327 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:07:39,034 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:07:39,035 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "MONETARY_AMOUNT",
      "from_entity_name": "significant capital",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Venture Capital Group LLC",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Menlo Park, CA 94025",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Address of",
      "to_entity_name": "Venture Capital Group LLC",
      "to_entity_type": "COMMERCIAL_COMPANY"
    }
  ],
  "metadata": {
    "summary": "This text describes a successful funding round, with a notable investment secured from a commercial company. The content centers around financial transactions and involves a commercial company and a location. The mention of a California Secretary of State ID suggests a registered business entity.",
    "red_flags": "Red flags: The lack of readily available Secretary of State ID information could indicate a reluctance to provide full transparency."
  }
}
```
2025-04-21 12:07:39,038 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 4b36626d-ad57-4e65-9b82-5a8122ac00b9: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:07:39,040 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:07:39,040 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:07:45,583 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:07:45,585 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Renewable Energy Systems Ltd.",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Ireland",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Company is based in",
      "to_entity_name": "Renewable Energy Systems Ltd.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "They",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text discusses the business activities of a commercial company, including potential acquisitions and research & development funding, particularly in the sustainable energy sector. Preliminary discussions are underway with another commercial company based in a specific location. The text also briefly touches upon corporate social responsibility.",
    "red_flags": "Red flags: The vague reference to 'They' as a registered LLC without further detail could indicate an attempt to obscure ownership or identity. The 'TBD' status of key company information is also a minor concern."
  }
}
```
2025-04-21 12:07:45,588 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 2a370adc-c33f-4a62-8127-de8ccf256e96: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:07:45,588 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:07:45,589 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:07:52,235 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:07:52,236 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Global Aid Foundation",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "London",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Address of",
      "to_entity_name": "Global Aid Foundation",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "EVENT",
      "from_entity_name": "Carbon Neutrality",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "Electric vehicle fleets",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "Renewable energy",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text details a commercial company's sustainability initiatives and ongoing partnership with a charitable organization focused on humanitarian aid. It highlights efforts towards environmental responsibility, including targets for carbon neutrality and investments in sustainable assets. The text also acknowledges a challenge in monitoring the environmental impact of its supply chain.",
    "red_flags": "Red flags: None detected. The text describes standard corporate social responsibility efforts and doesn't contain any immediate indicators of corruption."
  }
}
```
2025-04-21 12:07:52,239 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 07208b44-f16f-4356-b38d-54d9ba6cb0b9: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:07:52,240 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:07:52,241 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:08:00,358 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:00,359 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Materials Supply Co.",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Company address",
      "to_entity_name": "Las Vegas",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Las Vegas",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Materials Supply Co.",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "NV20001234567",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Nevada Business ID",
      "to_entity_name": "Materials Supply Co.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    }
  ],
  "metadata": {
    "summary": "This text concerns a commercial company and its lack of transparency regarding sustainability data. The document references the company's location and a business identifier. The overall context suggests potential issues with corporate reporting and accountability.",
    "red_flags": "Red flags: Mention of 'less than transparent' data practices raises concerns about potential misrepresentation or concealment of information."
  }
}
```
2025-04-21 12:08:00,362 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk daa219b1-796a-4678-9432-f5a5e8ac382f: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:00,364 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:08:00,364 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:08:08,985 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:08,986 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "Regulatory Body",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "DataGuard Security Solutions Inc.",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Austin, TX",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "City and State",
      "to_entity_name": "DataGuard Security Solutions Inc.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "Vendor Contracts",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "EVENT",
      "from_entity_name": "Data Incident",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Involved",
      "to_entity_name": "DataGuard Security Solutions Inc.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    }
  ],
  "metadata": {
    "summary": "This text details the findings of an internal audit focused on compliance and data security. It highlights the need for improved data privacy training and a review of vendor contracts in response to increasing regulatory scrutiny. A minor security incident involving a commercial company was quickly contained, emphasizing the importance of ongoing vigilance. The text also mentions a review of subsidiary operations.",
    "red_flags": "Red flags: A data incident, even if contained, suggests potential vulnerabilities and requires further investigation. The need for enhanced data privacy training indicates existing weaknesses in security protocols."
  }
}
```
2025-04-21 12:08:08,990 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk ebe70b28-57bf-4c4d-8be0-8812c99b4cea: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:08,991 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:08:08,992 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:08:17,262 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:17,264 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "North American Sales Corp.",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Headquarters located at",
      "to_entity_name": "Chicago",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Southern Hemisphere Exports Ltd.",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Headquarters located at",
      "to_entity_name": "Sydney",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Brand Protectors Ltd.",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Registered in",
      "to_entity_name": "Cayman Islands",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "North American Sales Corp.",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Southern Hemisphere Exports Ltd.",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Brand Protectors Ltd.",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This document outlines the performance of several commercial companies, detailing successes and challenges in different markets. It describes a trademark dispute between two companies, potentially involving intellectual property rights. The text references locations where these companies are based. The overall context is business operations and legal matters.",
    "red_flags": "Red flags: The involvement of a company registered in the Cayman Islands, a jurisdiction known for financial secrecy, in a trademark dispute warrants further investigation."
  }
}
```
2025-04-21 12:08:17,271 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 70ea3f3f-7f79-45b5-ba2d-236f5df07796: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:17,272 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:08:17,273 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:08:26,645 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:26,646 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "POSITION",
      "from_entity_name": "HR",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Stanford University Computer Science Department",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Located at",
      "to_entity_name": "353 Serra Mall, Stanford, CA 94305",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Stanford University",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Partnership with",
      "to_entity_name": "the company",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "Intellectual property",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "Cryptocurrency",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text outlines internal company operations and strategic initiatives. It discusses human resources, intellectual property, and recruitment efforts, particularly in the competitive field of artificial intelligence. The company is actively building partnerships with academic institutions and is exploring emerging technologies. The content involves a commercial company, a university, and mentions assets like intellectual property.",
    "red_flags": "Red flags: The brief mention of 'Cryptocurrency' without further context could indicate potential involvement in unregulated or high-risk financial activities, warranting further investigation."
  }
}
```
2025-04-21 12:08:26,650 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 86b0c044-a2f9-4140-9b73-55b188859700: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:26,651 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:08:26,652 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:08:35,029 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:35,031 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "SEC",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "ECB",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "CryptoSecure Innovations Inc.",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Headquartered at",
      "to_entity_name": "San Francisco",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "San Francisco",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "California",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "EVENT",
      "from_entity_name": "Marketing campaigns",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text discusses the evolving regulatory environment surrounding cryptocurrency. It mentions the involvement of governmental bodies and a commercial company operating within the crypto space. The content focuses on regulatory considerations and marketing activities. The text highlights a company and a location, but avoids specific details about individuals.",
    "red_flags": "Red flags: Lack of publicly available identification for the commercial company raises concerns about transparency and potential regulatory compliance issues."
  }
}
```
2025-04-21 12:08:35,035 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 16c82041-7347-499c-8e94-1a0c8c8faf2b: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:35,037 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:08:35,038 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:08:43,061 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:43,063 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Social Media Marketing Masters Ltd.",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Partnered with for a campaign",
      "to_entity_name": "Our company",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "London",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Address of the company",
      "to_entity_name": "Social Media Marketing Masters Ltd.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "30 Digital Drive, E1 6AN",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Address of the company",
      "to_entity_name": "Social Media Marketing Masters Ltd.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "MONETARY_AMOUNT",
      "from_entity_name": "09876543",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "UK Company Number",
      "to_entity_name": "Social Media Marketing Masters Ltd.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    }
  ],
  "metadata": {
    "summary": "This text describes a marketing campaign and a partnership with a commercial company specializing in social media marketing. The campaign focused on promoting sustainable products and utilized a multi-channel approach. The text also references financial performance, reporting strong results. It involves a commercial company and a location.",
    "red_flags": "Red flags: None detected. The text appears to describe standard business activities."
  }
}
```
2025-04-21 12:08:43,066 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 4ff5adbd-4030-4839-b5b3-2d2003a7754f: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:43,067 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:08:43,068 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:08:49,611 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:49,613 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Jane Doe",
      "relationship_type": "WORKS_FOR",
      "relationship_description": "Is the CFO of",
      "to_entity_name": "Company",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "PriceWaterhouseCoopers LLP (PwC)",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "300 Madison Avenue, New York, NY 10017",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Address of",
      "to_entity_name": "PriceWaterhouseCoopers LLP (PwC)",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Company",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text details positive financial performance, including exceeding revenue and profit expectations, and successful debt refinancing. It highlights the role of a key financial officer and the issuance of an unqualified audit opinion by a major accounting firm. The content centers around a commercial company, a person in a position of financial leadership, and an auditing firm.",
    "red_flags": "Red flags: None apparent. The unqualified audit opinion suggests no immediate concerns, but further investigation into the company's financial practices may be warranted."
  }
}
```
2025-04-21 12:08:49,616 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 0fcdcc3a-ccd6-44e7-8ee6-b998cb7f36ce: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:49,617 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:08:49,618 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:08:57,942 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:57,943 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Indo-Pacific Trading Co.",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Jakarta",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Address of",
      "to_entity_name": "Indo-Pacific Trading Co.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Indonesia",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Country of",
      "to_entity_name": "Jakarta",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "NPWP",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Tax ID of",
      "to_entity_name": "Indo-Pacific Trading Co.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    }
  ],
  "metadata": {
    "summary": "This text discusses business development and market expansion efforts, specifically focusing on a distribution agreement with a commercial company in Southeast Asia. The content references a location and a tax identification number, indicating a focus on establishing a business presence. The text also mentions ongoing research and development and investment in innovation.",
    "red_flags": "Red flags: The need to confirm the tax ID (NPWP) of a partner company could indicate potential issues with due diligence or financial transparency. The description of the Southeast Asian market as 'tricky' suggests possible challenges or risks."
  }
}
```
2025-04-21 12:08:57,947 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 1fd3d6e3-f09f-4ca3-a3df-874b65457047: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:08:57,948 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:08:57,949 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:08:58,623 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:08:58,676 - app_setup - INFO - Process memory - RSS: 2.62 GB, VMS: 41.72 GB
2025-04-21 12:08:58,678 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:08:58,794 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 12:08:58,854 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 12:09:02,664 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:09:02,665 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Jakarta",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "City within",
      "to_entity_name": "Indonesia",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Indonesia",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text describes the challenges of expanding business operations into a new international market, specifically Indonesia. It highlights the complexities of navigating local regulations and the necessity of thorough due diligence, including verifying tax identification numbers. The content focuses on a location and the regulatory environment within it.",
    "red_flags": "Red flags: Mention of confirming a tax ID (NPWP) suggests potential issues with financial transparency or compliance. The need for 'extensive legal consultation' could indicate a complex or potentially problematic regulatory landscape."
  }
}
```
2025-04-21 12:09:02,668 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 5e0661ac-8074-4140-9048-524be3f4d6de: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:09:02,669 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:09:02,670 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:09:08,356 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:09:08,358 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "We",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "suppliers",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text describes a commercial company's response to a costly experience, leading to a strengthened vetting process for international partnerships. The company emphasizes its commitment to sustainability throughout its value chain, actively working with suppliers to promote environmentally responsible practices. The content focuses on business strategy and supply chain management.",
    "red_flags": "Red flags: The mention of a 'costly lesson' suggests potential past failures or irregularities, though details are absent. Further investigation into the nature of this lesson may be warranted."
  }
}
```
2025-04-21 12:09:08,360 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk cf607388-60c9-4971-86df-9162fdb8e840: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:09:08,361 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:09:08,362 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:09:15,517 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:09:15,518 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "We",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "suppliers",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "We",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "building relationships with",
      "to_entity_name": "suppliers",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "suppliers",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text describes a long-term project focused on improving environmental performance through collaboration with suppliers. It highlights a commitment to supporting these suppliers, particularly smaller businesses, with resources and financial assistance. The content involves a commercial company and its suppliers, emphasizing a collaborative approach to operational improvements.",
    "red_flags": "Red flags: The mention of 'financial assistance' to suppliers without further detail could potentially indicate a risk of improper payments or conflicts of interest, requiring further investigation."
  }
}
```
2025-04-21 12:09:15,521 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk fef4d712-16c9-4b9c-85f0-5ab067f43032: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:09:15,522 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:09:15,523 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:09:20,856 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:09:20,857 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Eco-Friendly Packaging Solutions Ltd.",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "County Cork",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Operating in",
      "to_entity_name": "Ireland",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "The Green, Ballydehob, Co. Cork",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Address of",
      "to_entity_name": "Eco-Friendly Packaging Solutions Ltd.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Ireland",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text describes a business partnership with a commercial company based in a rural location. It details the company's operational base and provides its address. The content focuses on a commercial company and a location, with a mention of collaborative efforts. The description of searching for the address suggests potential organizational issues.",
    "red_flags": "Red flags: Difficulty recalling the company's address and a 'frantic search' of files could indicate poor record-keeping or attempts to obscure information."
  }
}
```
2025-04-21 12:09:20,860 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 1d9e9522-51bd-4878-9678-5e8c374ec51c: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:09:20,862 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:09:20,862 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:09:28,085 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:09:28,086 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Cork",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Ireland",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "Irish Company Registration Office",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "They",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Registered in",
      "to_entity_name": "Ireland",
      "to_entity_type": "LOCATION"
    }
  ],
  "metadata": {
    "summary": "This text discusses a potential partnership with a commercial company based in a European location. The company's registration details are currently being verified with a government body. The text highlights the company's commitment to sustainability and expresses optimism regarding a collaboration to improve a supply chain. ",
    "red_flags": "Red flags: The uncertainty surrounding the company's registration number and the reliance on awaiting official documentation could indicate a lack of transparency or potential issues with the company's legal standing."
  }
}
```
2025-04-21 12:09:28,090 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 651da509-40ca-4f4a-87e3-31946156478f: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:09:28,091 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:09:28,091 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:10:18,060 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:10:18,061 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 12d48196-0243-4e0f-b1a3-988586f2e533: Model response was empty or malformed.
2025-04-21 12:10:18,062 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:10:18,063 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:10:21,696 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:10:21,697 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "board of directors",
      "relationship_type": "APPROVED",
      "relationship_description": "Formally approved",
      "to_entity_name": "strategic plan",
      "to_entity_type": "EVENT"
    },
    {
      "from_entity_type": "EVENT",
      "from_entity_name": "strategic plan",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text describes a strategic planning process undertaken by a governing body. It details the approval of a new plan outlining priorities and objectives for future growth. The content focuses on organizational governance and forward planning, involving a government body and a strategic event.",
    "red_flags": "Red flags: None detected. The text describes standard business practices and does not contain any immediately apparent indicators of corruption."
  }
}
```
2025-04-21 12:10:21,699 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 22b4ef6d-97fd-48f9-b282-9cbc20378c70: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:10:21,700 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:10:21,701 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:10:30,246 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:10:30,247 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Our operations",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "EVENT",
      "from_entity_name": "relentless innovation",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "EVENT",
      "from_entity_name": "strategic expansion",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "EVENT",
      "from_entity_name": "unwavering commitment to sustainability",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Our operations",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Expansion into",
      "to_entity_name": "carefully selected new markets",
      "to_entity_type": "LOCATION"
    }
  ],
  "metadata": {
    "summary": "This text outlines a strategic plan for a commercial company, focusing on key areas like innovation, market expansion, and sustainability. The plan emphasizes a long-term vision and value creation for stakeholders. It describes a commitment to operational improvements and growth into new geographic areas.",
    "red_flags": "Red flags: None detected. The text describes a standard business strategy and does not contain any immediately apparent indicators of corruption."
  }
}
```
2025-04-21 12:10:30,252 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 54b5795d-3f90-4ab9-b3f1-e205652e8a59: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:10:30,253 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:10:30,254 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:10:37,630 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:10:37,631 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "board",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Global Competitor Group SA",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Based in",
      "to_entity_name": "Luxembourg",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "213800ABC123DEF456GH",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Legal Entity Identifier (LEI) of",
      "to_entity_name": "Global Competitor Group SA",
      "to_entity_type": "COMMERCIAL_COMPANY"
    }
  ],
  "metadata": {
    "summary": "This text details a discussion by a governing body regarding the competitive environment, specifically focusing on the strategies of a large commercial company based in a European location. The text highlights the importance of tracking the company's activities through its legal identifier. The content involves a government body, a commercial company, and a location.",
    "red_flags": "Red flags: None detected. The text describes standard competitive analysis and tracking of a competitor's legal identifier, which is a common business practice."
  }
}
```
2025-04-21 12:10:37,636 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 63c14475-8ff2-40fa-8b5e-98ed95b30e1f: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:10:37,637 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:10:37,638 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:10:43,853 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:10:43,854 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "their",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "goods",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "EVENT",
      "from_entity_name": "shipment",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "delay in",
      "to_entity_name": "goods",
      "to_entity_type": "ASSET"
    }
  ],
  "metadata": {
    "summary": "This text describes difficulties in gathering competitive intelligence on a commercial company due to its complex international structure and lack of transparency. A delay in a shipment of goods is mentioned as a minor setback. The document focuses on a commercial company and assets, highlighting challenges in locating a physical address and tracking operations.",
    "red_flags": "Red flags: Opaque operations and a complex, multi-national corporate structure could be indicative of attempts to obscure ownership or avoid regulatory scrutiny."
  }
}
```
2025-04-21 12:10:43,857 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 0a0ab92a-84c0-42a5-a98c-5c3a0f417af0: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:10:43,858 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:10:43,859 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:10:49,508 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:10:49,510 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Speedy Logistics Inc.",
      "relationship_type": "LOCATED_IN",
      "relationship_description": "Headquarters location",
      "to_entity_name": "Houston",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Houston",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "DOT number",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Identifies",
      "to_entity_name": "Speedy Logistics Inc.",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "EVENT",
      "from_entity_name": "delay",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text describes a delay impacting the operations of a commercial company. The company's location and identifying information are mentioned, and an internal review is underway to determine the cause of the issue. The document focuses on operational challenges and investigations within a business context.",
    "red_flags": "Red flags: None apparent. The text describes a standard business issue (delay) and an internal investigation, which does not immediately suggest corruption."
  }
}
```
2025-04-21 12:10:49,513 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 07d9d03a-3709-4758-ac10-1fec9b72e0e8: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:10:49,514 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:10:49,515 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:10:55,680 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:10:55,682 - src.utils.openrouter_manager - ERROR - Invalid JSON received: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "EVENT",
      "from_entity_name": "delay",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "global supply chains",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "logistics and transportation processes",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text discusses a disruption within a complex system and the subsequent need for improved planning and risk management. It focuses on the importance of addressing vulnerabilities in a critical infrastructure and highlights a review of operational procedures. The content involves an event, and an asset, described in abstract terms.",
    "red_flags": "Red flags: None detected. The text describes a logistical issue and a proactive response, without indicating any corrupt practices."
  }
}
```
2025-04-21 12:10:55,684 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 068ab264-7580-426f-98bd-92646ab8a380: Model returned invalid JSON: Expecting value: line 1 column 1 (char 0)
2025-04-21 12:10:55,685 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:10:55,686 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:11:27,358 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:11:27,358 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:11:27,358 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:11:27,358 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:11:27,846 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:11:31,375 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 12:11:32,609 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:11:32,610 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:11:32,611 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:11:32,611 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:11:32,612 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:11:32,755 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 12:11:39,778 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:11:39,781 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 12:11:39,782 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 12:11:39,782 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 12:11:39,825 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 12:11:39,826 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 12:11:39,829 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 12:11:39,830 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 12:11:39,830 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 12:11:39,833 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 12:11:39,835 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 12:11:39,836 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 12:11:39,837 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 12:11:39,838 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 12:11:39,839 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 12:11:39,841 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 12:11:39,842 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.36 GB, VMS: 37.63 GB
2025-04-21 12:11:39,918 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:11:39,920 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemma-3-27b-it:free)
2025-04-21 12:11:39,974 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 12:11:39,975 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:12:56,936 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:12:56,987 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 12:12:56,989 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:12:57,615 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:12:57,663 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 12:12:57,664 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:12:57,670 - app_setup - INFO - Starting processing with LLM: google/gemma-3-27b-it:free (Backend: OPENROUTER)
2025-04-21 12:12:57,672 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 12:12:57,673 - app_setup - INFO - Starting document processing. Files: ['The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf']. LLM: google/gemma-3-27b-it:free (Backend: openrouter)
2025-04-21 12:12:57,676 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 12:12:57,678 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:12:57,682 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 12:12:57,684 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 12:12:57,688 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 12:12:57,691 - app_setup - INFO - Loading regular document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:12:57,693 - src.core.document_processing.document_loader - INFO - Loading document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (Type: .pdf)
2025-04-21 12:12:57,694 - src.core.document_processing.document_loader - INFO - Processing with Docling: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:12:57,695 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf...
2025-04-21 12:13:07,829 - src.core.document_processing.document_loader - INFO - Exporting The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf content to Markdown...
2025-04-21 12:13:07,861 - src.core.document_processing.document_loader - INFO - Docling processing successful for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf. Word count: 4135, Page count: 10
2025-04-21 12:13:07,864 - app_setup - INFO - Document loaded: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf, Content items: 1
2025-04-21 12:13:07,866 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 12:13:07,867 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 12:13:07,868 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.26 GB, VMS: 40.13 GB
2025-04-21 12:13:07,869 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 12:13:07,870 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 12:13:07,872 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 12:13:07,874 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 12:13:08,296 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 12:13:08,298 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 12:13:08,321 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 12:13:08,322 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 12:13:08,323 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.26 GB, VMS: 40.12 GB
2025-04-21 12:13:08,324 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:13:08,325 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 12:13:08,741 - app_setup - INFO - Document loader shut down complete.
2025-04-21 12:13:08,743 - app_setup - INFO - Process memory - RSS: 2.25 GB, VMS: 40.12 GB
2025-04-21 12:13:08,745 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:13:08,746 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 12:13:08,747 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 12:13:08,748 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.25 GB, VMS: 40.12 GB
2025-04-21 12:13:08,749 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:13:08,750 - app_setup - INFO - Loading chunking model...
2025-04-21 12:13:08,751 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:13:08,751 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 12:13:08,752 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 12:13:08,753 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 12:13:08,754 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 12:13:12,164 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 12:13:12,165 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 3.41 seconds
2025-04-21 12:13:12,167 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.61 GB, VMS: 41.65 GB
2025-04-21 12:13:12,168 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:13:12,169 - app_setup - INFO - Chunking document 1/1: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:13:12,169 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (ID: 8864b485-a38c-43e6-9cf0-bdbb998ca976, Type: .pdf)
2025-04-21 12:13:12,171 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf.
2025-04-21 12:13:12,172 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 28181 chars) using Markdown Header + Semantic chunking.
2025-04-21 12:13:12,174 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 7 initial structural chunks.
2025-04-21 12:13:12,515 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 25 potential chunks.
2025-04-21 12:13:12,516 - src.core.document_processing.document_chunker - WARNING - Chunk (length 16110) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:13:12,518 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 39 basic chunks.
2025-04-21 12:13:12,519 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 1 oversized chunks.
2025-04-21 12:13:12,519 - src.core.document_processing.document_chunker - INFO - Final processing created 63 chunks from text of length 28181.
2025-04-21 12:13:12,521 - src.core.document_processing.document_chunker - INFO - Chunking for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf completed in 0.35s.
2025-04-21 12:13:12,521 - src.core.document_processing.document_chunker - INFO - Created 63 total chunks: 0 spreadsheet rows, 24 semantic chunks, 0 sentence fallback chunks, 39 basic fallback chunks.
2025-04-21 12:13:12,522 - src.core.document_processing.document_chunker - INFO - Average chunk size: 449.7 characters.
2025-04-21 12:13:12,523 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.61 GB, VMS: 41.65 GB
2025-04-21 12:13:12,524 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.60 GB, Total: 8.00 GB
2025-04-21 12:13:12,525 - app_setup - INFO - Created 63 chunks for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:13:12,526 - app_setup - INFO - Shutting down chunking model...
2025-04-21 12:13:12,527 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:13:12,528 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 12:13:12,528 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 12:13:12,529 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 12:13:12,532 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 12:13:13,096 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 12:13:13,099 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.61 GB, VMS: 41.65 GB
2025-04-21 12:13:13,100 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:13:13,489 - app_setup - INFO - Process memory - RSS: 2.61 GB, VMS: 41.65 GB
2025-04-21 12:13:13,490 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:13:13,491 - app_setup - INFO - Total chunks generated: 63
2025-04-21 12:13:13,492 - app_setup - INFO - Creating entity extractor with model google/gemma-3-27b-it:free (Backend: openrouter)
2025-04-21 12:13:13,493 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 12:13:13,494 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 12:13:13,494 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 12:13:13,497 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 12:13:13,498 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemma-3-27b-it:free, debug=True
2025-04-21 12:13:13,499 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.61 GB, VMS: 41.65 GB
2025-04-21 12:13:13,499 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:13:13,500 - app_setup - INFO - Starting entity extraction on 63 chunks (0 visual chunks)
2025-04-21 12:13:13,501 - src.core.extraction.entity_extractor - INFO - Adding 63 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 12:13:13,502 - src.core.extraction.entity_extractor - INFO - Added 63 chunks to queue. Processing now.
2025-04-21 12:13:13,503 - src.core.extraction.entity_extractor - INFO - Processing all 63 chunks using OPENROUTER backend...
2025-04-21 12:13:13,504 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.61 GB, VMS: 41.65 GB
2025-04-21 12:13:13,505 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:13:13,505 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 12:13:13,506 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 12:13:13,507 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 12:13:13,507 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 12:13:13,508 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemma-3-27b-it:free).
2025-04-21 12:13:13,509 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 12:13:13,510 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks (0 spreadsheet rows)
2025-04-21 12:13:13,510 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 12:13:13,511 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (63 chunks)
2025-04-21 12:13:13,512 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 12:13:13,513 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 12:13:13,513 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks sequentially via OpenRouter...
2025-04-21 12:13:13,514 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:13:13,515 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:13:19,657 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:13:19,658 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:13:19,659 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:13:26,603 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:13:26,604 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:13:26,605 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:13:53,571 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:13:53,573 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:13:53,574 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:14:00,079 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:14:00,080 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:14:00,081 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:14:06,187 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:14:06,188 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:14:06,189 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:14:13,289 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:14:13,290 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:14:13,291 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:14:20,335 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:14:20,336 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:14:20,337 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:14:26,642 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:14:26,644 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:14:26,644 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:14:35,096 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:14:35,098 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:14:35,098 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:14:44,177 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:14:44,179 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:14:44,179 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:14:51,126 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:14:51,128 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:14:51,129 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:14:59,226 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:14:59,228 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:14:59,228 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:15:06,466 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:15:06,467 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:15:06,468 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:15:13,415 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:15:13,417 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:15:13,418 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:15:18,401 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:15:18,402 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:15:18,403 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:15:23,017 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:15:23,018 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:15:23,019 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:15:30,074 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:15:30,076 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:15:30,077 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:15:36,944 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:15:36,946 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:15:36,946 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:15:42,755 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:15:42,763 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:15:42,764 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:15:48,547 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:15:48,548 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:15:48,549 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:15:52,370 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:15:52,372 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:15:52,372 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:15:59,435 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:15:59,437 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:15:59,438 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:16:06,812 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:16:06,813 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:16:06,814 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:16:14,605 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:16:14,607 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:16:14,607 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:16:22,020 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:16:22,022 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:16:22,023 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:16:25,343 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:16:25,344 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:16:25,350 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:16:29,135 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:16:29,136 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:16:29,137 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:16:34,087 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:16:34,089 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:16:34,090 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:16:40,309 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:16:40,310 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:16:40,311 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:16:46,420 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:16:46,422 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:16:46,429 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:16:52,135 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:16:52,137 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:16:52,142 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:16:57,663 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:16:57,664 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:16:57,665 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:17:05,593 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:17:05,595 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:17:05,596 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:17:12,365 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:17:12,367 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:17:12,368 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:17:20,067 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:17:20,068 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:17:20,069 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:17:24,207 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:17:24,208 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:17:24,209 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:17:31,537 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:17:31,538 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:17:31,539 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:17:37,627 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:17:37,629 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:17:37,629 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:17:45,528 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:17:45,529 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:17:45,530 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:17:50,869 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:17:50,870 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:17:50,877 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:17:57,233 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:17:57,234 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:17:57,235 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:18:01,628 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:18:01,630 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:18:01,631 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:18:05,803 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:18:05,805 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:18:05,805 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:18:10,620 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:18:10,621 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:18:10,622 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:18:18,950 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:18:18,951 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:18:18,952 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:18:23,542 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:18:23,543 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:18:23,544 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:18:29,918 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:18:29,919 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:18:29,920 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:18:37,231 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:18:37,232 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk d9549658-f715-467d-958b-9cf776e9c753): 4 validation errors for EntityRelationshipList
entity_relationship_list.3.relationship_type
  Input should be 'WORKS_FOR', 'OWNS', 'LOCATED_IN', 'CONNECTED_TO' or 'MET_WITH' [type=literal_error, input_value='PART_OF', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
entity_relationship_list.3.to_entity_type
  Input should be 'PERSON', 'NGO', 'GOVERNMENT_BODY', 'COMMERCIAL_COMPANY', 'LOCATION', 'POSITION', 'MONEY', 'ASSET' or 'EVENT' [type=literal_error, input_value='MONETARY_AMOUNT', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
entity_relationship_list.4.relationship_type
  Input should be 'WORKS_FOR', 'OWNS', 'LOCATED_IN', 'CONNECTED_TO' or 'MET_WITH' [type=literal_error, input_value='PART_OF', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
entity_relationship_list.4.to_entity_type
  Input should be 'PERSON', 'NGO', 'GOVERNMENT_BODY', 'COMMERCIAL_COMPANY', 'LOCATION', 'POSITION', 'MONEY', 'ASSET' or 'EVENT' [type=literal_error, input_value='MONETARY_AMOUNT', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error. Raw: {'entity_relationship_list': [{'from_entity_type': 'COMMERCIAL_COMPANY', 'from_entity_name': 'us', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'ASSET', 'from_entity_name': 'tools', 'relationship_type': 'OWNS', 'relationship_description': 'owned by', 'to_entity_name': 'us', 'to_entity_type': 'COMMERCIAL_COMPANY'}, {'from_entity_type': 'MONETARY_AMOUNT', 'from_entity_name': 'investment', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'ASSET', 'from_entity_name': 'technology', 'relationship_type': 'PART_OF', 'relationship_description': 'part of the investment', 'to_entity_name': 'investment', 'to_entity_type': 'MONETARY_AMOUNT'}, {'from_entity_type': 'ASSET', 'from_entity_name': 'expertise', 'relationship_type': 'PART_OF', 'relationship_description': 'part of the investment', 'to_entity_name': 'investment', 'to_entity_type': 'MONETARY_AMOUNT'}], 'metadata': {'summary': "This text describes a commercial company's investment in new tools and expertise to improve financial performance and risk management. The focus is on enhancing financial planning and decision-making through technological advancements. The document highlights a significant financial undertaking without mentioning specific details.", 'red_flags': 'Red flags: None detected. The text describes a standard business investment and does not contain any immediately suspicious indicators.'}}
2025-04-21 12:18:37,237 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:18:37,237 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:18:42,202 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:18:42,204 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:18:42,205 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:18:50,816 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:18:50,817 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:18:50,818 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:18:53,721 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:18:53,722 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:18:53,723 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:18:58,641 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:18:58,642 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:18:58,649 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:19:08,507 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:19:08,509 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:19:08,510 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:19:15,758 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:19:15,759 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:19:15,760 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:19:24,214 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:19:24,216 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:19:24,217 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:19:37,301 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:19:37,303 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk 9b5b08c3-4595-45fe-8009-587d07d72a9a): 1 validation error for EntityRelationshipList
entity_relationship_list.3.relationship_type
  Input should be 'WORKS_FOR', 'OWNS', 'LOCATED_IN', 'CONNECTED_TO' or 'MET_WITH' [type=literal_error, input_value='IMPLEMENTS', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error. Raw: {'entity_relationship_list': [{'from_entity_type': 'POSITION', 'from_entity_name': 'top talent', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'EVENT', 'from_entity_name': 'attracting and retaining', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'LOCATION', 'from_entity_name': 'artificial intelligence', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'COMMERCIAL_COMPANY', 'from_entity_name': 'We', 'relationship_type': 'IMPLEMENTS', 'relationship_description': 'is implementing', 'to_entity_name': 'initiatives', 'to_entity_type': 'EVENT'}, {'from_entity_type': 'MONETARY_AMOUNT', 'from_entity_name': 'competitive compensation', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'ASSET', 'from_entity_name': 'benefits packages', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}], 'metadata': {'summary': 'This text discusses the challenges a company faces in attracting and retaining skilled personnel, particularly within a specific technological field. It outlines initiatives being undertaken to address this, focusing on competitive remuneration and benefits. The content involves a commercial company and a field of expertise.', 'red_flags': 'Red flags: None detected.'}}
2025-04-21 12:19:37,306 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:19:37,307 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:19:46,534 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:19:46,536 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:19:46,536 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:19:53,928 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:19:53,929 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:19:53,930 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:20:00,260 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:20:00,262 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:20:00,263 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:20:15,857 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:20:15,858 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:20:15,859 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:20:24,934 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:20:24,936 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:20:24,937 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:20:35,091 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:20:35,092 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:20:35,093 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it:free
2025-04-21 12:20:46,278 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:20:46,279 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 452.77s. Success: 61, Errors: 2
2025-04-21 12:20:46,280 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 452.77s
2025-04-21 12:20:46,281 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 12:20:46,282 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 306 entities, 74 relationships.
2025-04-21 12:20:46,283 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-21 12:20:46,284 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 306 raw entities...
2025-04-21 12:20:46,301 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-21 12:20:46,312 - src.core.extraction.entity_extractor - WARNING - Removed 2 entities with empty normalized names.
2025-04-21 12:20:46,313 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-21 12:20:46,436 - src.core.extraction.entity_extractor - INFO - Generated 1505 candidate pairs.
2025-04-21 12:20:46,437 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-21 12:20:46,596 - src.core.extraction.entity_extractor - INFO - Found 494 potential duplicate pairs.
2025-04-21 12:20:46,597 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-21 12:20:46,600 - src.core.extraction.entity_extractor - INFO - Found 179 clusters (including singletons).
2025-04-21 12:20:46,601 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-21 12:20:46,616 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 179.
2025-04-21 12:20:46,617 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs...
2025-04-21 12:20:46,618 - src.core.extraction.entity_extractor - INFO - Updating 74 raw relationships with canonical entity IDs...
2025-04-21 12:20:46,619 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 73, Updated IDs in 53, Skipped 1.
2025-04-21 12:20:46,620 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-21 12:20:46,621 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-21 12:20:46,622 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 1 duplicates. Final count: 72.
2025-04-21 12:20:46,623 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 179 entities, 72 relationships.
2025-04-21 12:20:46,629 - src.core.extraction.entity_extractor - INFO - Saved 179 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 12:20:46,631 - src.core.extraction.entity_extractor - INFO - Saved 72 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 12:20:46,632 - app_setup - INFO - Entity extraction complete. Modified chunks: 63
2025-04-21 12:20:47,074 - app_setup - INFO - Process memory - RSS: 2.61 GB, VMS: 41.65 GB
2025-04-21 12:20:47,076 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:20:47,137 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemma-3-27b-it:free
2025-04-21 12:20:47,138 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 12:20:47,139 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 12:20:47,140 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 12:20:47,141 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 12:20:47,142 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 12:20:47,143 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 12:20:47,143 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 12:20:47,144 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 12:20:47,145 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 12:20:47,146 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 12:20:47,147 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 12:20:47,148 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 12:20:47,149 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 12:20:47,150 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.61 GB, VMS: 41.65 GB
2025-04-21 12:20:47,151 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:20:47,152 - app_setup - INFO - Loading indexing model...
2025-04-21 12:20:47,152 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 12:20:47,153 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 12:20:47,154 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 12:20:48,528 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 12:20:48,530 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.38 seconds
2025-04-21 12:20:48,531 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.67 GB, VMS: 45.02 GB
2025-04-21 12:20:48,532 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:20:48,629 - app_setup - INFO - Indexing 63 modified chunks
2025-04-21 12:20:48,630 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 63 CHUNKS =====
2025-04-21 12:20:48,631 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 12:20:48,632 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 12:20:48,633 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 63 chunks...
2025-04-21 12:20:48,641 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 12:20:48,696 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 12:20:48,698 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 12:20:48,699 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 12:20:48,703 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (63 documents).
2025-04-21 12:20:48,704 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.07s (Success: True)
2025-04-21 12:20:48,753 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 12:20:48,754 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-21 12:20:49,070 - src.core.indexing.document_indexer - INFO - Collection created.
2025-04-21 12:20:49,469 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 12:20:49,472 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (63 chunks) ---
2025-04-21 12:20:49,473 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 63 chunks...
2025-04-21 12:20:49,473 - src.core.indexing.document_indexer - INFO - Generating embeddings for 63 texts using BAAI/bge-m3...
2025-04-21 12:20:54,142 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 4.67s
2025-04-21 12:20:54,143 - src.core.indexing.document_indexer - INFO - Preparing 63 points for Qdrant upsert...
2025-04-21 12:20:54,150 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 63, Skipped: 0
2025-04-21 12:20:54,197 - src.core.indexing.document_indexer - INFO - Upserting 63 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 12:20:54,199 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (63 points), starting with ID: 52e98272-0836-4917-bce1-5b855ef12c96...
2025-04-21 12:20:54,273 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.07s
2025-04-21 12:20:54,274 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.40 GB, VMS: 42.90 GB
2025-04-21 12:20:54,275 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.28 GB, Total: 8.00 GB
2025-04-21 12:20:54,712 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 5.24s. Overall success for this batch: True
2025-04-21 12:20:54,716 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 6.01s (Overall Success: True)
2025-04-21 12:20:54,717 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 6.09s =====
2025-04-21 12:20:54,718 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 63 chunks to Qdrant and BM25.
2025-04-21 12:20:54,719 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 12:20:54,720 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 12:20:55,333 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 12:20:55,751 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 12:20:55,767 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 12:20:56,191 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 12:20:56,192 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.52 GB, VMS: 42.90 GB
2025-04-21 12:20:56,193 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:20:56,194 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 12:20:56,195 - app_setup - INFO - Shutting down indexing model...
2025-04-21 12:20:56,196 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 12:20:56,613 - app_setup - INFO - Process memory - RSS: 3.52 GB, VMS: 42.90 GB
2025-04-21 12:20:56,615 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:20:56,670 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 12:20:56,671 - app_setup - INFO - Process memory - RSS: 3.52 GB, VMS: 42.90 GB
2025-04-21 12:20:56,672 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:20:57,100 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:20:57,167 - app_setup - INFO - Process memory - RSS: 3.52 GB, VMS: 42.90 GB
2025-04-21 12:20:57,169 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:21:20,712 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:21:20,781 - app_setup - INFO - Process memory - RSS: 3.52 GB, VMS: 42.87 GB
2025-04-21 12:21:20,783 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:21:20,938 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:21:21,016 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:21:21,229 - app_setup - INFO - Building NetworkX multi-graphs for analysis...
2025-04-21 12:21:21,232 - app_setup - INFO - Created entity lookup with 179 valid entities.
2025-04-21 12:21:21,248 - app_setup - INFO - Analysis graphs built: Directed (179N, 72E), Undirected (179N, 72E). Skipped 0 edges.
2025-04-21 12:21:21,258 - app_setup - WARNING - Eigenvector centrality failed: `eigenvector_centrality_numpy` does not give consistent results for disconnected graphs. Assigning 0.
2025-04-21 12:21:59,040 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:21:59,210 - app_setup - INFO - Process memory - RSS: 2.68 GB, VMS: 42.92 GB
2025-04-21 12:21:59,212 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:21:59,364 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:21:59,444 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:21:59,642 - app_setup - WARNING - Eigenvector centrality failed: `eigenvector_centrality_numpy` does not give consistent results for disconnected graphs. Assigning 0.
2025-04-21 12:22:00,459 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:22:00,975 - app_setup - INFO - Process memory - RSS: 2.68 GB, VMS: 42.92 GB
2025-04-21 12:22:00,976 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:22:00,981 - app_setup - INFO - Clearing all indexed and extracted data...
2025-04-21 12:22:01,170 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-21 12:22:02,179 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 12:22:02,183 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-21 12:22:02,184 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 12:22:02,185 - src.core.query_system.query_engine - INFO - Internal BM25 state cleared.
2025-04-21 12:22:02,186 - app_setup - INFO - Data clearing successful via QueryEngine.
2025-04-21 12:22:02,188 - app_setup - INFO - Cleared relevant session state caches after data deletion.
2025-04-21 12:22:02,238 - app_setup - INFO - Collection info after clearing: {'exists': False}
2025-04-21 12:22:02,707 - app_setup - INFO - Process memory - RSS: 2.68 GB, VMS: 42.92 GB
2025-04-21 12:22:02,709 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:22:02,711 - app_setup - ERROR - Unhandled error in main application loop: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 127, in <module>
    main()
  File "/home/t/lm_rag/src/ui/app.py", line 74, in main
    selected_page = render_sidebar()
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/ui/app_ui_core.py", line 159, in render_sidebar
    st.session_state.confirm_delete = False; st.rerun()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 136, in __setattr__
    self[key] = value
    ~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 114, in __setitem__
    get_session_state()[key] = value
    ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py", line 101, in __setitem__
    self._state[key] = value
    ~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py", line 515, in __setitem__
    raise StreamlitAPIException(
streamlit.errors.StreamlitAPIException: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
2025-04-21 12:22:29,578 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:22:29,579 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:22:29,579 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:22:29,579 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:22:30,368 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:22:36,340 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 12:22:38,401 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:22:38,402 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:22:38,403 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:22:38,404 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:22:38,405 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:22:38,672 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 12:22:47,348 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:22:47,351 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 12:22:47,351 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 12:22:47,352 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 12:22:47,423 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 12:22:47,424 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 12:22:47,427 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 12:22:47,427 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 12:22:47,428 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 12:22:47,455 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 12:22:47,458 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 12:22:47,459 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 12:22:47,459 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 12:22:47,460 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 12:22:47,461 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 12:22:47,462 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 12:22:47,463 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.36 GB, VMS: 37.63 GB
2025-04-21 12:22:47,541 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:22:47,543 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-exp-03-25:free)
2025-04-21 12:22:47,602 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 12:22:47,603 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:26:57,223 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:26:57,223 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:26:57,223 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:26:57,223 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:26:58,060 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:27:03,508 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 12:27:05,353 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:27:05,354 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:27:05,355 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:27:05,356 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:27:05,357 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:27:05,614 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 12:27:13,768 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:27:13,771 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 12:27:13,772 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 12:27:13,773 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 12:27:13,844 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 12:27:13,845 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 12:27:13,848 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 12:27:13,849 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 12:27:13,850 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 12:27:13,860 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 12:27:13,861 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 12:27:13,862 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 12:27:13,863 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 12:27:13,864 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 12:27:13,865 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 12:27:13,865 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 12:27:13,866 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.63 GB
2025-04-21 12:27:13,945 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:27:13,947 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-exp-03-25:free)
2025-04-21 12:27:14,002 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 12:27:14,004 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:27:26,799 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:27:26,855 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 12:27:26,856 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:27:27,641 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:27:27,697 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 12:27:27,699 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:27:27,705 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-pro-exp-03-25:free (Backend: OPENROUTER)
2025-04-21 12:27:27,708 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 12:27:27,710 - app_setup - INFO - Starting document processing. Files: ['The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf']. LLM: google/gemini-2.5-pro-exp-03-25:free (Backend: openrouter)
2025-04-21 12:27:27,713 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 12:27:27,716 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:27:27,723 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 12:27:27,725 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 12:27:27,734 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 12:27:27,739 - app_setup - INFO - Loading regular document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:27:27,740 - src.core.document_processing.document_loader - INFO - Loading document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (Type: .pdf)
2025-04-21 12:27:27,742 - src.core.document_processing.document_loader - INFO - Processing with Docling: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:27:27,743 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf...
2025-04-21 12:27:38,014 - src.core.document_processing.document_loader - INFO - Exporting The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf content to Markdown...
2025-04-21 12:27:38,048 - src.core.document_processing.document_loader - INFO - Docling processing successful for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf. Word count: 4135, Page count: 10
2025-04-21 12:27:38,051 - app_setup - INFO - Document loaded: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf, Content items: 1
2025-04-21 12:27:38,052 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 12:27:38,053 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 12:27:38,054 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.28 GB, VMS: 40.19 GB
2025-04-21 12:27:38,055 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 12:27:38,056 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 12:27:38,058 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 12:27:38,059 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 12:27:38,465 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 12:27:38,466 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 12:27:38,488 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 12:27:38,489 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 12:27:38,490 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.28 GB, VMS: 40.18 GB
2025-04-21 12:27:38,491 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:27:38,492 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 12:27:38,887 - app_setup - INFO - Document loader shut down complete.
2025-04-21 12:27:38,889 - app_setup - INFO - Process memory - RSS: 2.28 GB, VMS: 40.18 GB
2025-04-21 12:27:38,890 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:27:38,891 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 12:27:38,892 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 12:27:38,893 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.28 GB, VMS: 40.18 GB
2025-04-21 12:27:38,894 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:27:38,895 - app_setup - INFO - Loading chunking model...
2025-04-21 12:27:38,895 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:27:38,896 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 12:27:38,897 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 12:27:38,898 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 12:27:38,898 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 12:27:43,307 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 12:27:43,308 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.41 seconds
2025-04-21 12:27:43,309 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.63 GB, VMS: 41.70 GB
2025-04-21 12:27:43,310 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:27:43,311 - app_setup - INFO - Chunking document 1/1: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:27:43,312 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (ID: 97bdc7fd-ff24-4118-88ed-a5b3b98ac3da, Type: .pdf)
2025-04-21 12:27:43,313 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf.
2025-04-21 12:27:43,314 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 28181 chars) using Markdown Header + Semantic chunking.
2025-04-21 12:27:43,316 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 7 initial structural chunks.
2025-04-21 12:27:43,679 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 25 potential chunks.
2025-04-21 12:27:43,680 - src.core.document_processing.document_chunker - WARNING - Chunk (length 16110) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:27:43,681 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 39 basic chunks.
2025-04-21 12:27:43,682 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 1 oversized chunks.
2025-04-21 12:27:43,683 - src.core.document_processing.document_chunker - INFO - Final processing created 63 chunks from text of length 28181.
2025-04-21 12:27:43,684 - src.core.document_processing.document_chunker - INFO - Chunking for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf completed in 0.37s.
2025-04-21 12:27:43,685 - src.core.document_processing.document_chunker - INFO - Created 63 total chunks: 0 spreadsheet rows, 24 semantic chunks, 0 sentence fallback chunks, 39 basic fallback chunks.
2025-04-21 12:27:43,686 - src.core.document_processing.document_chunker - INFO - Average chunk size: 449.7 characters.
2025-04-21 12:27:43,687 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.63 GB, VMS: 41.70 GB
2025-04-21 12:27:43,688 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.60 GB, Total: 8.00 GB
2025-04-21 12:27:43,688 - app_setup - INFO - Created 63 chunks for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:27:43,689 - app_setup - INFO - Shutting down chunking model...
2025-04-21 12:27:43,690 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:27:43,691 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 12:27:43,692 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 12:27:43,693 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 12:27:43,695 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 12:27:44,260 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 12:27:44,263 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.63 GB, VMS: 41.70 GB
2025-04-21 12:27:44,264 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:27:44,686 - app_setup - INFO - Process memory - RSS: 2.63 GB, VMS: 41.70 GB
2025-04-21 12:27:44,688 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:27:44,689 - app_setup - INFO - Total chunks generated: 63
2025-04-21 12:27:44,690 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-pro-exp-03-25:free (Backend: openrouter)
2025-04-21 12:27:44,691 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 12:27:44,692 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 12:27:44,692 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 12:27:44,695 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 12:27:44,696 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-pro-exp-03-25:free, debug=True
2025-04-21 12:27:44,697 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.63 GB, VMS: 41.70 GB
2025-04-21 12:27:44,698 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:27:44,699 - app_setup - INFO - Starting entity extraction on 63 chunks (0 visual chunks)
2025-04-21 12:27:44,700 - src.core.extraction.entity_extractor - INFO - Adding 63 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 12:27:44,701 - src.core.extraction.entity_extractor - INFO - Added 63 chunks to queue. Processing now.
2025-04-21 12:27:44,702 - src.core.extraction.entity_extractor - INFO - Processing all 63 chunks using OPENROUTER backend...
2025-04-21 12:27:44,703 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.63 GB, VMS: 41.70 GB
2025-04-21 12:27:44,704 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:27:44,705 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 12:27:44,705 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 12:27:44,706 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 12:27:44,707 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 12:27:44,708 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-pro-exp-03-25:free).
2025-04-21 12:27:44,709 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 12:27:44,709 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks (0 spreadsheet rows)
2025-04-21 12:27:44,710 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 12:27:44,711 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (63 chunks)
2025-04-21 12:27:44,712 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 12:27:44,713 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 12:27:44,713 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks sequentially via OpenRouter...
2025-04-21 12:27:44,714 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:27:44,715 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:08,742 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response.
2025-04-21 12:28:08,743 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk 44561c3a-ed4d-4db4-8f39-634224d5d998): 10 validation errors for EntityRelationshipList
entity_relationship_list.0
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value='{"from_entity_type": "CO..."to_entity_type": null}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
entity_relationship_list.1
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value='{"from_entity_type": "LO..."to_entity_type": null}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
entity_relationship_list.2
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value='{"from_entity_type": "LO..."to_entity_type": null}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
entity_relationship_list.3
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value='{"from_entity_type": "LO..."to_entity_type": null}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
entity_relationship_list.4
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value='{"from_entity_type": "CO...tity_type": "LOCATION"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
entity_relationship_list.5
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value='{"from_entity_type": "CO...tity_type": "LOCATION"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
entity_relationship_list.6
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value='{"from_entity_type": "LO...tity_type": "LOCATION"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
entity_relationship_list.7
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value='{"from_entity_type": "LO...tity_type": "LOCATION"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
entity_relationship_list.8
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value='{"from_entity_type": "LO...tity_type": "LOCATION"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
metadata
  Input should be a valid dictionary or instance of MetaData [type=model_type, input_value='{"summary": "This text e...flags: None detected."}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type. Raw: {'entity_relationship_list': ['{"from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "GlobalTech Solutions Inc.", "relationship_type": null, "relationship_description": null, "to_entity_name": null, "to_entity_type": null}', '{"from_entity_type": "LOCATION", "from_entity_name": "Delaware", "relationship_type": null, "relationship_description": null, "to_entity_name": null, "to_entity_type": null}', '{"from_entity_type": "LOCATION", "from_entity_name": "123 Innovation Drive, Suite 400, Wilmington, DE 19801", "relationship_type": null, "relationship_description": null, "to_entity_name": null, "to_entity_type": null}', '{"from_entity_type": "LOCATION", "from_entity_name": "Wilmington", "relationship_type": null, "relationship_description": null, "to_entity_name": null, "to_entity_type": null}', '{"from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "GlobalTech Solutions Inc.", "relationship_type": "LOCATED_IN", "relationship_description": "Is a Delaware corporation", "to_entity_name": "Delaware", "to_entity_type": "LOCATION"}', '{"from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "GlobalTech Solutions Inc.", "relationship_type": "LOCATED_IN", "relationship_description": "Located at address", "to_entity_name": "123 Innovation Drive, Suite 400, Wilmington, DE 19801", "to_entity_type": "LOCATION"}', '{"from_entity_type": "LOCATION", "from_entity_name": "Wilmington", "relationship_type": "LOCATED_IN", "relationship_description": "City is located in state", "to_entity_name": "Delaware", "to_entity_type": "LOCATION"}', '{"from_entity_type": "LOCATION", "from_entity_name": "123 Innovation Drive, Suite 400, Wilmington, DE 19801", "relationship_type": "LOCATED_IN", "relationship_description": "Address is located in city", "to_entity_name": "Wilmington", "to_entity_type": "LOCATION"}', '{"from_entity_type": "LOCATION", "from_entity_name": "123 Innovation Drive, Suite 400, Wilmington, DE 19801", "relationship_type": "LOCATED_IN", "relationship_description": "Address is located in state", "to_entity_name": "Delaware", "to_entity_type": "LOCATION"}'], 'metadata': '{"summary": "This text excerpt, likely from an annual report, discusses business performance amidst volatile global markets. It highlights an Asian expansion driven by partnerships, specifically mentioning one with a commercial company identified as a corporation located in a specific US state and city, including its address. Cloud services are noted as a key growth factor.", "red_flags": "Red flags: None detected."}'}
2025-04-21 12:28:08,749 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:08,750 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:10,401 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:10,402 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk c2a8f3cb-daa7-4bf0-95c1-bf9d6a0c8a1e: Model response was empty or malformed.
2025-04-21 12:28:10,403 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:10,404 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:11,751 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:11,752 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk be3a74c0-5fd1-4e1c-9978-09791f67f5fa: Model response was empty or malformed.
2025-04-21 12:28:11,753 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:11,754 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:13,369 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:13,370 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 9c2c94f7-0793-4aac-9244-9751ab478503: Model response was empty or malformed.
2025-04-21 12:28:13,371 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:13,372 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:14,877 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:14,880 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk bf4c14d1-b15c-494c-839c-969b2fe74e74: Model response was empty or malformed.
2025-04-21 12:28:14,882 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:14,884 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:16,254 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:16,255 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 90d7852e-ad50-4ae3-913e-fa373f97b3a6: Model response was empty or malformed.
2025-04-21 12:28:16,256 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:16,256 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:17,634 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:17,636 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 33a6ba5e-182a-48cd-8c41-ccbdb16f0b99: Model response was empty or malformed.
2025-04-21 12:28:17,636 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:17,637 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:18,288 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:18,289 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 4580191b-8f89-4df4-87b2-e74ca13cff1b: Model response was empty or malformed.
2025-04-21 12:28:18,290 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:18,291 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:19,376 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:19,377 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk ee9ee44f-bba9-4749-b0f4-84b762ba5005: Model response was empty or malformed.
2025-04-21 12:28:19,378 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:19,379 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:20,461 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:20,463 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk e63c2d79-483f-4519-8097-403b160992be: Model response was empty or malformed.
2025-04-21 12:28:20,464 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:20,465 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:21,182 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:21,184 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 4fb73ead-0c6c-40aa-9c69-67a94f69ed8c: Model response was empty or malformed.
2025-04-21 12:28:21,185 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:21,186 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:22,396 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:22,397 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 9c54abd6-3b20-459a-9633-e1ba77a2cffa: Model response was empty or malformed.
2025-04-21 12:28:22,398 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:22,399 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:23,832 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:23,833 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 5c8afe4f-280c-4c49-98a9-e7f906ec72ac: Model response was empty or malformed.
2025-04-21 12:28:23,834 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:23,835 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:24,429 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:24,430 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 4f5a467e-1e6f-4399-a236-c5f7e4696ddc: Model response was empty or malformed.
2025-04-21 12:28:24,431 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:24,432 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:24,756 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:24,757 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk b08692a1-4560-49ef-b89c-904cdcec50ad: Model response was empty or malformed.
2025-04-21 12:28:24,758 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:24,759 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:25,098 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:25,099 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk ec473c32-3315-4151-8493-c558854cee4b: Model response was empty or malformed.
2025-04-21 12:28:25,100 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:25,101 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:25,453 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:25,454 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 0d27a887-b760-40a6-a275-4238c311fbe2: Model response was empty or malformed.
2025-04-21 12:28:25,455 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:25,462 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:25,835 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:25,836 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk ea956553-ef3e-4938-a733-0795f2379bf4: Model response was empty or malformed.
2025-04-21 12:28:25,837 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:25,838 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:26,207 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:26,208 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 6494463e-4669-4d01-95e3-1ab7d4899d1e: Model response was empty or malformed.
2025-04-21 12:28:26,209 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:26,210 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:26,576 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:26,577 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk bce4cedf-7272-49ba-b976-9af73f7a606a: Model response was empty or malformed.
2025-04-21 12:28:26,578 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:26,579 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:26,971 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:26,972 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk c184eb49-7947-4834-a5e3-7c2b14b385d3: Model response was empty or malformed.
2025-04-21 12:28:26,973 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:26,974 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:27,357 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:27,358 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 2355f21e-6012-46da-92b5-35ec6c5d8573: Model response was empty or malformed.
2025-04-21 12:28:27,359 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:27,360 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:27,738 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:27,740 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 238b1475-3304-4471-904a-6cfd814df97e: Model response was empty or malformed.
2025-04-21 12:28:27,740 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:27,741 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:28,343 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:28,344 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk bb802fcc-ff5a-46c6-9df7-fb7eb06d8dd6: Model response was empty or malformed.
2025-04-21 12:28:28,345 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:28,346 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:28,701 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:28,703 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 7296bf13-2ce4-4bcc-a076-37b4df05aeda: Model response was empty or malformed.
2025-04-21 12:28:28,704 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:28,705 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:26,925 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:26,927 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 1eeb00ac-bbd9-4e1b-9e2f-efbd30ca8e1d: Model response was empty or malformed.
2025-04-21 12:28:26,928 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:26,928 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:27,302 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:27,304 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 76c4c345-16d5-4aee-81aa-9ddf60536d80: Model response was empty or malformed.
2025-04-21 12:28:27,304 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:27,305 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:27,670 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:27,672 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 34a4631c-e625-4e9a-9b76-ba6483a9f6a1: Model response was empty or malformed.
2025-04-21 12:28:27,673 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:27,674 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:28,034 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:28,035 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk eca1816c-00b6-4692-9869-bb184993aa15: Model response was empty or malformed.
2025-04-21 12:28:28,036 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:28,037 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:28,377 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:28,379 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk afe8ab33-f3e6-4c08-a616-a5f83d34aba8: Model response was empty or malformed.
2025-04-21 12:28:28,380 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:28,381 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:28,750 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:28,751 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk dcb729fe-47b7-4563-9a8b-b6f000e80be7: Model response was empty or malformed.
2025-04-21 12:28:28,752 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:28,753 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:29,116 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:29,117 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk b5c0d68e-f676-4941-b5ad-9684e2142dfe: Model response was empty or malformed.
2025-04-21 12:28:29,118 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:29,119 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:29,466 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:29,468 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 4b0c9d7b-1251-44aa-8c18-3e050a9b2ac4: Model response was empty or malformed.
2025-04-21 12:28:29,468 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:29,469 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:29,767 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:29,768 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 7a3e062e-5dba-4387-8f69-00b06f0b1440: Model response was empty or malformed.
2025-04-21 12:28:29,769 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:29,770 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:29,924 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:29,925 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 013bea27-1462-4d94-a43f-f752838522a0: Model response was empty or malformed.
2025-04-21 12:28:29,926 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:29,926 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:30,180 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:30,181 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 0d9964f2-1554-477a-9fee-0ce14240dd8f: Model response was empty or malformed.
2025-04-21 12:28:30,182 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:30,183 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:30,540 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:30,541 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk d6f91de7-7af3-4143-9b5a-bd702339e091: Model response was empty or malformed.
2025-04-21 12:28:30,542 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:30,543 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:31,334 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:31,335 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk dda5f671-d7ae-462f-bd7f-407a3987bd80: Model response was empty or malformed.
2025-04-21 12:28:31,336 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:31,337 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:31,694 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:31,695 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 33090c2d-5bbd-4f3e-9aae-5922a9aa9572: Model response was empty or malformed.
2025-04-21 12:28:31,697 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:31,698 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:32,042 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:32,044 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk b994e1e7-0a9b-423b-bfb4-1726d0f00039: Model response was empty or malformed.
2025-04-21 12:28:32,044 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:32,045 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:32,402 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:32,404 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk dea323c9-64ac-4d63-8fae-de3db29a166d: Model response was empty or malformed.
2025-04-21 12:28:32,404 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:32,405 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:32,754 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:32,755 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 014e2cdd-a489-4c30-8845-3073da403d20: Model response was empty or malformed.
2025-04-21 12:28:32,756 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:32,757 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:28:33,094 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content.
2025-04-21 12:28:33,096 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 88fd2131-8d6c-4ac3-b07f-c9f67c807e97: Model response was empty or malformed.
2025-04-21 12:28:33,096 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:28:33,097 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:30:22,083 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:30:22,083 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:30:22,084 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:30:22,084 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:30:22,585 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:30:26,196 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 12:30:27,481 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:30:27,482 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:30:27,483 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:30:27,484 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:30:27,485 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:30:27,630 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 12:30:32,147 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:30:32,149 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 12:30:32,150 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 12:30:32,151 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 18024
2025-04-21 12:30:32,152 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 12:30:32,195 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 12:30:32,197 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 12:30:32,199 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 12:30:32,200 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 12:30:32,201 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 12:30:32,203 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 12:30:32,205 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 12:30:32,206 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 12:30:32,207 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 12:30:32,207 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 12:30:32,208 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 12:30:32,209 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 12:30:32,210 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.63 GB
2025-04-21 12:30:32,285 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:30:32,287 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-exp-03-25:free)
2025-04-21 12:30:32,341 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 12:30:32,342 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:31:12,787 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:31:12,789 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 12:31:12,790 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 12:31:12,791 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 18024
2025-04-21 12:31:12,791 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 12:31:12,811 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 12:31:12,812 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 12:31:12,813 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 12:31:12,814 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 12:31:12,815 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 12:31:12,817 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 12:31:12,818 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 12:31:12,819 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 12:31:12,820 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 12:31:12,820 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 12:31:12,821 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 12:31:12,822 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 12:31:12,823 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 12:31:12,824 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:31:12,825 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-exp-03-25:free)
2025-04-21 12:31:12,874 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 12:31:12,875 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:31:50,013 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:31:50,069 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 12:31:50,070 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:31:50,719 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:31:50,775 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 12:31:50,777 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:31:50,783 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-pro-exp-03-25:free (Backend: OPENROUTER)
2025-04-21 12:31:50,786 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 12:31:50,788 - app_setup - INFO - Starting document processing. Files: ['The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf']. LLM: google/gemini-2.5-pro-exp-03-25:free (Backend: openrouter)
2025-04-21 12:31:50,793 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 12:31:50,795 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:31:50,799 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 12:31:50,800 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 12:31:50,805 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 12:31:50,808 - app_setup - INFO - Loading regular document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:31:50,809 - src.core.document_processing.document_loader - INFO - Loading document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (Type: .pdf)
2025-04-21 12:31:50,810 - src.core.document_processing.document_loader - INFO - Processing with Docling: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:31:50,811 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf...
2025-04-21 12:31:58,440 - src.core.document_processing.document_loader - INFO - Exporting The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf content to Markdown...
2025-04-21 12:31:58,471 - src.core.document_processing.document_loader - INFO - Docling processing successful for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf. Word count: 4135, Page count: 10
2025-04-21 12:31:58,474 - app_setup - INFO - Document loaded: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf, Content items: 1
2025-04-21 12:31:58,476 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 12:31:58,477 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 12:31:58,478 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.25 GB, VMS: 40.15 GB
2025-04-21 12:31:58,479 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 12:31:58,480 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 12:31:58,482 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 12:31:58,483 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 12:31:58,916 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 12:31:58,917 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 12:31:58,939 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 12:31:58,940 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 12:31:58,941 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.25 GB, VMS: 40.15 GB
2025-04-21 12:31:58,943 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:31:58,943 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 12:31:59,360 - app_setup - INFO - Document loader shut down complete.
2025-04-21 12:31:59,362 - app_setup - INFO - Process memory - RSS: 2.25 GB, VMS: 40.15 GB
2025-04-21 12:31:59,363 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:31:59,364 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 12:31:59,365 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 12:31:59,366 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.25 GB, VMS: 40.15 GB
2025-04-21 12:31:59,367 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:31:59,368 - app_setup - INFO - Loading chunking model...
2025-04-21 12:31:59,368 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:31:59,369 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 12:31:59,370 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 12:31:59,371 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 12:31:59,372 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 12:32:03,310 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 12:32:03,311 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 3.94 seconds
2025-04-21 12:32:03,312 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 12:32:03,313 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:32:03,314 - app_setup - INFO - Chunking document 1/1: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:32:03,315 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (ID: cda4a96f-95c6-4db1-bba6-91116b3cd934, Type: .pdf)
2025-04-21 12:32:03,316 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf.
2025-04-21 12:32:03,317 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 28181 chars) using Markdown Header + Semantic chunking.
2025-04-21 12:32:03,319 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 7 initial structural chunks.
2025-04-21 12:32:03,682 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 25 potential chunks.
2025-04-21 12:32:03,683 - src.core.document_processing.document_chunker - WARNING - Chunk (length 16110) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:32:03,685 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 39 basic chunks.
2025-04-21 12:32:03,686 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 1 oversized chunks.
2025-04-21 12:32:03,686 - src.core.document_processing.document_chunker - INFO - Final processing created 63 chunks from text of length 28181.
2025-04-21 12:32:03,688 - src.core.document_processing.document_chunker - INFO - Chunking for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf completed in 0.37s.
2025-04-21 12:32:03,688 - src.core.document_processing.document_chunker - INFO - Created 63 total chunks: 0 spreadsheet rows, 24 semantic chunks, 0 sentence fallback chunks, 39 basic fallback chunks.
2025-04-21 12:32:03,689 - src.core.document_processing.document_chunker - INFO - Average chunk size: 449.7 characters.
2025-04-21 12:32:03,690 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 12:32:03,691 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.60 GB, Total: 8.00 GB
2025-04-21 12:32:03,692 - app_setup - INFO - Created 63 chunks for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:32:03,693 - app_setup - INFO - Shutting down chunking model...
2025-04-21 12:32:03,694 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:32:03,695 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 12:32:03,695 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 12:32:03,696 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 12:32:03,699 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 12:32:04,279 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 12:32:04,280 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 12:32:04,281 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:32:04,696 - app_setup - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 12:32:04,698 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:32:04,699 - app_setup - INFO - Total chunks generated: 63
2025-04-21 12:32:04,700 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-pro-exp-03-25:free (Backend: openrouter)
2025-04-21 12:32:04,701 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 12:32:04,702 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 12:32:04,703 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 12:32:04,705 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 12:32:04,707 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-pro-exp-03-25:free, debug=True
2025-04-21 12:32:04,708 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 12:32:04,709 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:32:04,710 - app_setup - INFO - Starting entity extraction on 63 chunks (0 visual chunks)
2025-04-21 12:32:04,711 - src.core.extraction.entity_extractor - INFO - Adding 63 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 12:32:04,712 - src.core.extraction.entity_extractor - INFO - Added 63 chunks to queue. Processing now.
2025-04-21 12:32:04,712 - src.core.extraction.entity_extractor - INFO - Processing all 63 chunks using OPENROUTER backend...
2025-04-21 12:32:04,713 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 12:32:04,714 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:32:04,715 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 12:32:04,716 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 12:32:04,716 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 12:32:04,717 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 12:32:04,718 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-pro-exp-03-25:free).
2025-04-21 12:32:04,719 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 12:32:04,720 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks (0 spreadsheet rows)
2025-04-21 12:32:04,720 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 12:32:04,721 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (63 chunks)
2025-04-21 12:32:04,722 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 12:32:04,723 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 12:32:04,724 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks sequentially via OpenRouter...
2025-04-21 12:32:04,724 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:04,725 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:04,726 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:06,569 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:06,573 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Provider returned error",
    "code": 429,
    "metadata": {
      "raw": "{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"You exceeded your current quota. Please migrate to Gemini 2.5 Pro Preview (models/gemini-2.5-pro-preview-03-25) for higher quota limits. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\",\n    \"status\": \"RESOURCE_EXHAUSTED\",\n    \"details\": [\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.QuotaFailure\",\n        \"violations\": [\n          {\n            \"quotaMetric\": \"generativelanguage.googleapis.com/generate_content_paid_tier_input_token_count\",\n            \"quotaId\": \"GenerateContentPaidTierInputTokensPerModelPerMinute\",\n            \"quotaDimensions\": {\n              \"location\": \"global\",\n              \"model\": \"gemini-2.0-pro-exp\"\n            },\n            \"quotaValue\": \"10000000\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.Help\",\n        \"links\": [\n          {\n            \"description\": \"Learn more about Gemini API quotas\",\n            \"url\": \"https://ai.google.dev/gemini-api/docs/rate-limits\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.RetryInfo\",\n        \"retryDelay\": \"55s\"\n      }\n    ]\n  }\n}\n",
      "provider_name": "Google AI Studio"
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:06,576 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 5505538c-60c5-4341-85a4-0150b997d035: Model response was empty or malformed.
2025-04-21 12:32:06,577 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:06,578 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:06,579 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:08,277 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:08,278 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Provider returned error",
    "code": 429,
    "metadata": {
      "raw": "{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"You exceeded your current quota. Please migrate to Gemini 2.5 Pro Preview (models/gemini-2.5-pro-preview-03-25) for higher quota limits. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\",\n    \"status\": \"RESOURCE_EXHAUSTED\",\n    \"details\": [\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.QuotaFailure\",\n        \"violations\": [\n          {\n            \"quotaMetric\": \"generativelanguage.googleapis.com/generate_content_paid_tier_input_token_count\",\n            \"quotaId\": \"GenerateContentPaidTierInputTokensPerModelPerMinute\",\n            \"quotaDimensions\": {\n              \"model\": \"gemini-2.0-pro-exp\",\n              \"location\": \"global\"\n            },\n            \"quotaValue\": \"10000000\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.Help\",\n        \"links\": [\n          {\n            \"description\": \"Learn more about Gemini API quotas\",\n            \"url\": \"https://ai.google.dev/gemini-api/docs/rate-limits\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.RetryInfo\",\n        \"retryDelay\": \"53s\"\n      }\n    ]\n  }\n}\n",
      "provider_name": "Google AI Studio"
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:08,281 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk e329af28-f48c-4fb7-9b22-94ed418452dc: Model response was empty or malformed.
2025-04-21 12:32:08,282 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:08,282 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:08,283 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:09,573 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:09,574 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Provider returned error",
    "code": 429,
    "metadata": {
      "raw": "{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"You exceeded your current quota. Please migrate to Gemini 2.5 Pro Preview (models/gemini-2.5-pro-preview-03-25) for higher quota limits. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\",\n    \"status\": \"RESOURCE_EXHAUSTED\",\n    \"details\": [\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.QuotaFailure\",\n        \"violations\": [\n          {\n            \"quotaMetric\": \"generativelanguage.googleapis.com/generate_content_paid_tier_input_token_count\",\n            \"quotaId\": \"GenerateContentPaidTierInputTokensPerModelPerMinute\",\n            \"quotaDimensions\": {\n              \"model\": \"gemini-2.0-pro-exp\",\n              \"location\": \"global\"\n            },\n            \"quotaValue\": \"10000000\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.Help\",\n        \"links\": [\n          {\n            \"description\": \"Learn more about Gemini API quotas\",\n            \"url\": \"https://ai.google.dev/gemini-api/docs/rate-limits\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.RetryInfo\",\n        \"retryDelay\": \"52s\"\n      }\n    ]\n  }\n}\n",
      "provider_name": "Google AI Studio"
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:09,582 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 9a0a92ae-1c85-4195-8d2a-d25829a5d6bd: Model response was empty or malformed.
2025-04-21 12:32:09,582 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:09,583 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:09,584 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:10,886 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:10,888 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Provider returned error",
    "code": 429,
    "metadata": {
      "raw": "{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"You exceeded your current quota. Please migrate to Gemini 2.5 Pro Preview (models/gemini-2.5-pro-preview-03-25) for higher quota limits. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\",\n    \"status\": \"RESOURCE_EXHAUSTED\",\n    \"details\": [\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.QuotaFailure\",\n        \"violations\": [\n          {\n            \"quotaMetric\": \"generativelanguage.googleapis.com/generate_content_paid_tier_input_token_count\",\n            \"quotaId\": \"GenerateContentPaidTierInputTokensPerModelPerMinute\",\n            \"quotaDimensions\": {\n              \"model\": \"gemini-2.0-pro-exp\",\n              \"location\": \"global\"\n            },\n            \"quotaValue\": \"10000000\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.Help\",\n        \"links\": [\n          {\n            \"description\": \"Learn more about Gemini API quotas\",\n            \"url\": \"https://ai.google.dev/gemini-api/docs/rate-limits\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.RetryInfo\",\n        \"retryDelay\": \"50s\"\n      }\n    ]\n  }\n}\n",
      "provider_name": "Google AI Studio"
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:10,890 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 66af442c-80d8-4836-9341-7a1affbcc30a: Model response was empty or malformed.
2025-04-21 12:32:10,891 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:10,892 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:10,892 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:22,261 - src.utils.openrouter_manager - INFO - Detected list of JSON strings in 'entity_relationship_list'. Parsing items...
2025-04-21 12:32:22,262 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in entity_relationship_list at index 0: Expecting value: line 1 column 1 (char 0). String: 'string'
2025-04-21 12:32:22,263 - src.utils.openrouter_manager - WARNING - Partial failure parsing nested strings in 'entity_relationship_list'. Some items may be missing.
2025-04-21 12:32:22,264 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 12:32:22,265 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in metadata: Expecting value: line 1 column 1 (char 0). String: 'string'
2025-04-21 12:32:22,266 - src.utils.openrouter_manager - ERROR - Returning error status due to partial failure in parsing nested JSON.
2025-04-21 12:32:22,267 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 9e66cb51-f6ab-40fb-8cc7-e27281c24e7e: Failed to fully parse nested JSON content from model.
2025-04-21 12:32:22,267 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:22,268 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:22,269 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:23,689 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:23,691 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Provider returned error",
    "code": 429,
    "metadata": {
      "raw": "{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"You exceeded your current quota. Please migrate to Gemini 2.5 Pro Preview (models/gemini-2.5-pro-preview-03-25) for higher quota limits. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\",\n    \"status\": \"RESOURCE_EXHAUSTED\",\n    \"details\": [\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.QuotaFailure\",\n        \"violations\": [\n          {\n            \"quotaMetric\": \"generativelanguage.googleapis.com/generate_content_paid_tier_input_token_count\",\n            \"quotaId\": \"GenerateContentPaidTierInputTokensPerModelPerMinute\",\n            \"quotaDimensions\": {\n              \"location\": \"global\",\n              \"model\": \"gemini-2.0-pro-exp\"\n            },\n            \"quotaValue\": \"10000000\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.Help\",\n        \"links\": [\n          {\n            \"description\": \"Learn more about Gemini API quotas\",\n            \"url\": \"https://ai.google.dev/gemini-api/docs/rate-limits\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.RetryInfo\",\n        \"retryDelay\": \"38s\"\n      }\n    ]\n  }\n}\n",
      "provider_name": "Google AI Studio"
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:23,693 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk c5075bee-cb40-4c22-8ebb-005d9bdf9a9c: Model response was empty or malformed.
2025-04-21 12:32:23,694 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:23,695 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:23,696 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:25,154 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:25,155 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Provider returned error",
    "code": 429,
    "metadata": {
      "raw": "{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"You exceeded your current quota. Please migrate to Gemini 2.5 Pro Preview (models/gemini-2.5-pro-preview-03-25) for higher quota limits. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\",\n    \"status\": \"RESOURCE_EXHAUSTED\",\n    \"details\": [\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.QuotaFailure\",\n        \"violations\": [\n          {\n            \"quotaMetric\": \"generativelanguage.googleapis.com/generate_content_paid_tier_input_token_count\",\n            \"quotaId\": \"GenerateContentPaidTierInputTokensPerModelPerMinute\",\n            \"quotaDimensions\": {\n              \"location\": \"global\",\n              \"model\": \"gemini-2.0-pro-exp\"\n            },\n            \"quotaValue\": \"10000000\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.Help\",\n        \"links\": [\n          {\n            \"description\": \"Learn more about Gemini API quotas\",\n            \"url\": \"https://ai.google.dev/gemini-api/docs/rate-limits\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.RetryInfo\",\n        \"retryDelay\": \"37s\"\n      }\n    ]\n  }\n}\n",
      "provider_name": "Google AI Studio"
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:25,157 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk e0fecaa8-fff8-4904-bcb7-9d6da05bee6c: Model response was empty or malformed.
2025-04-21 12:32:25,158 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:25,159 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:25,160 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:26,488 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:26,489 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Provider returned error",
    "code": 429,
    "metadata": {
      "raw": "{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"You exceeded your current quota. Please migrate to Gemini 2.5 Pro Preview (models/gemini-2.5-pro-preview-03-25) for higher quota limits. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\",\n    \"status\": \"RESOURCE_EXHAUSTED\",\n    \"details\": [\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.QuotaFailure\",\n        \"violations\": [\n          {\n            \"quotaMetric\": \"generativelanguage.googleapis.com/generate_content_paid_tier_input_token_count\",\n            \"quotaId\": \"GenerateContentPaidTierInputTokensPerModelPerMinute\",\n            \"quotaDimensions\": {\n              \"location\": \"global\",\n              \"model\": \"gemini-2.0-pro-exp\"\n            },\n            \"quotaValue\": \"10000000\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.Help\",\n        \"links\": [\n          {\n            \"description\": \"Learn more about Gemini API quotas\",\n            \"url\": \"https://ai.google.dev/gemini-api/docs/rate-limits\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.RetryInfo\",\n        \"retryDelay\": \"36s\"\n      }\n    ]\n  }\n}\n",
      "provider_name": "Google AI Studio"
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:26,492 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk a9ffac4c-53b9-4f84-ab33-03f166d2952e: Model response was empty or malformed.
2025-04-21 12:32:26,493 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:26,494 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:26,494 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:27,897 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:27,899 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Provider returned error",
    "code": 429,
    "metadata": {
      "raw": "{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"You exceeded your current quota. Please migrate to Gemini 2.5 Pro Preview (models/gemini-2.5-pro-preview-03-25) for higher quota limits. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\",\n    \"status\": \"RESOURCE_EXHAUSTED\",\n    \"details\": [\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.QuotaFailure\",\n        \"violations\": [\n          {\n            \"quotaMetric\": \"generativelanguage.googleapis.com/generate_content_paid_tier_input_token_count\",\n            \"quotaId\": \"GenerateContentPaidTierInputTokensPerModelPerMinute\",\n            \"quotaDimensions\": {\n              \"location\": \"global\",\n              \"model\": \"gemini-2.0-pro-exp\"\n            },\n            \"quotaValue\": \"10000000\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.Help\",\n        \"links\": [\n          {\n            \"description\": \"Learn more about Gemini API quotas\",\n            \"url\": \"https://ai.google.dev/gemini-api/docs/rate-limits\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.RetryInfo\",\n        \"retryDelay\": \"35s\"\n      }\n    ]\n  }\n}\n",
      "provider_name": "Google AI Studio"
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:27,908 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 88e8d075-f6b6-495b-9101-bb53de148cfd: Model response was empty or malformed.
2025-04-21 12:32:27,909 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:27,910 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:27,910 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:29,198 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:29,199 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Provider returned error",
    "code": 429,
    "metadata": {
      "raw": "{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"You exceeded your current quota. Please migrate to Gemini 2.5 Pro Preview (models/gemini-2.5-pro-preview-03-25) for higher quota limits. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\",\n    \"status\": \"RESOURCE_EXHAUSTED\",\n    \"details\": [\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.QuotaFailure\",\n        \"violations\": [\n          {\n            \"quotaMetric\": \"generativelanguage.googleapis.com/generate_content_paid_tier_input_token_count\",\n            \"quotaId\": \"GenerateContentPaidTierInputTokensPerModelPerMinute\",\n            \"quotaDimensions\": {\n              \"location\": \"global\",\n              \"model\": \"gemini-2.0-pro-exp\"\n            },\n            \"quotaValue\": \"10000000\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.Help\",\n        \"links\": [\n          {\n            \"description\": \"Learn more about Gemini API quotas\",\n            \"url\": \"https://ai.google.dev/gemini-api/docs/rate-limits\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.RetryInfo\",\n        \"retryDelay\": \"33s\"\n      }\n    ]\n  }\n}\n",
      "provider_name": "Google AI Studio"
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:29,202 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 3956bcad-c390-428c-96c4-3c93cc163418: Model response was empty or malformed.
2025-04-21 12:32:29,203 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:29,203 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:29,204 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:28,036 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:28,038 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:28,040 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 2efe1ed9-137b-449c-a4e7-15f45aceccae: Model response was empty or malformed.
2025-04-21 12:32:28,041 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:28,041 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:28,042 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:28,430 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:28,431 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:28,433 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 117ec5b4-ecaf-4625-a71d-d8212836d4c1: Model response was empty or malformed.
2025-04-21 12:32:28,434 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:28,435 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:28,435 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:28,552 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:28,553 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:28,555 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 9991d2fb-022a-4be2-a961-c27dc0eed594: Model response was empty or malformed.
2025-04-21 12:32:28,556 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:28,557 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:28,558 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:28,697 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:28,698 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:28,700 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk df65d6e8-9533-4f23-bd21-87d0e50bff47: Model response was empty or malformed.
2025-04-21 12:32:28,701 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:28,701 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:28,702 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:28,831 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:28,832 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:28,834 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 45e84c23-f88f-471c-a1e3-92594ef8d900: Model response was empty or malformed.
2025-04-21 12:32:28,834 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:28,835 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:28,836 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:29,029 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:29,030 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:29,032 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk ada39dee-67f3-4daa-bcb1-df9143291d35: Model response was empty or malformed.
2025-04-21 12:32:29,033 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:29,034 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:29,034 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:29,161 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:29,163 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:29,165 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk b9f9dc78-bbbf-4b4f-8607-853e612a9401: Model response was empty or malformed.
2025-04-21 12:32:29,165 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:29,166 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:29,167 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:29,270 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:29,272 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:29,274 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk f5345647-47bd-4bef-a47c-537db6d0abb4: Model response was empty or malformed.
2025-04-21 12:32:29,275 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:29,276 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:29,276 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:29,398 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:29,399 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:29,401 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk dfb27f61-d52c-4c97-9940-d0e12d1842c6: Model response was empty or malformed.
2025-04-21 12:32:29,402 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:29,402 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:29,403 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:29,510 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:29,511 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:29,513 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 9e056fab-a47c-40d6-bd2b-ea0f1a444396: Model response was empty or malformed.
2025-04-21 12:32:29,514 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:29,514 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:29,515 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:29,638 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:29,639 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:29,641 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk d8530821-05c7-43f4-8f47-0582730a5804: Model response was empty or malformed.
2025-04-21 12:32:29,642 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:29,643 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:29,643 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:29,796 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:29,798 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:29,800 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 2a909b9b-22d6-4140-a3c9-fdd0b5324fde: Model response was empty or malformed.
2025-04-21 12:32:29,801 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:29,802 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:29,802 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:29,912 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:29,913 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:29,915 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 32fc153a-e1f7-40f6-b352-1bcf2315233d: Model response was empty or malformed.
2025-04-21 12:32:29,916 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:29,917 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:29,917 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:30,029 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:30,031 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:30,033 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 5f545049-c8e3-417b-9ddc-0140a11db15e: Model response was empty or malformed.
2025-04-21 12:32:30,033 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:30,034 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:30,035 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:30,734 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:30,736 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:30,746 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk e34b629b-2893-408c-94a0-e2bbec9637a9: Model response was empty or malformed.
2025-04-21 12:32:30,746 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:30,747 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:30,748 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:31,088 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:31,090 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:31,091 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 12ab89ff-90c0-4bb9-824f-c3c256cf3e46: Model response was empty or malformed.
2025-04-21 12:32:31,092 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:31,093 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:31,094 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:31,430 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:31,432 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:31,434 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk dc4cfc8b-588e-4995-953e-61b89f8f3741: Model response was empty or malformed.
2025-04-21 12:32:31,434 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:31,435 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:31,436 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:31,874 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:31,876 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:31,878 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk a6b667a7-5915-4578-be4a-1586f716ef2a: Model response was empty or malformed.
2025-04-21 12:32:31,879 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:31,879 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:31,880 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:32,201 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:32,203 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:32,205 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 2e98cf1c-d023-464c-874a-e78fe13d1628: Model response was empty or malformed.
2025-04-21 12:32:32,206 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:32,207 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:32,208 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:32,532 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:32,534 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:32,535 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 25c77a38-a105-4f7b-ae68-18c59295d42a: Model response was empty or malformed.
2025-04-21 12:32:32,536 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:32,537 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:32,538 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:32,887 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:32,888 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:32,890 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 9082a0d5-a1d1-4533-819e-9f01ad4f6c2b: Model response was empty or malformed.
2025-04-21 12:32:32,891 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:32,892 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:32,892 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:33,570 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:33,571 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:33,573 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 8c0d634a-0a48-4ec4-a3b6-e5461e9aafb9: Model response was empty or malformed.
2025-04-21 12:32:33,574 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:33,575 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:33,576 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:33,907 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:33,908 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:33,910 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 17c215b7-67a6-4cd0-bc82-c12320e7bf94: Model response was empty or malformed.
2025-04-21 12:32:33,911 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:33,911 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:33,912 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:34,249 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:34,250 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:34,252 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk cb0ccf42-4dcb-449b-866d-6dab12627730: Model response was empty or malformed.
2025-04-21 12:32:34,253 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:34,254 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:34,255 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:34,579 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:34,580 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:34,582 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 2c8726be-1864-41ff-bad6-7bc41e76c935: Model response was empty or malformed.
2025-04-21 12:32:34,583 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:34,583 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:34,584 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:34,904 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:34,905 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:34,907 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk c3af1e40-8b8a-4157-9b41-fb3d72059a81: Model response was empty or malformed.
2025-04-21 12:32:34,908 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:34,909 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:34,910 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:35,275 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:35,277 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:35,279 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk d074b004-76ff-4bd3-8b94-76932700537e: Model response was empty or malformed.
2025-04-21 12:32:35,280 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:35,280 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:35,281 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:35,628 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:35,630 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:35,632 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 88d0e669-c34b-4dd8-865e-db4460f2ab1f: Model response was empty or malformed.
2025-04-21 12:32:35,633 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:35,633 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:35,634 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:35,963 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:35,964 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:35,972 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 58cfa504-7637-461a-b7cd-5a820784f953: Model response was empty or malformed.
2025-04-21 12:32:35,973 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:35,974 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:35,975 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:36,307 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:36,308 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:36,310 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 37022b66-582d-434f-9496-bfe9993892f2: Model response was empty or malformed.
2025-04-21 12:32:36,311 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:36,312 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:36,312 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:36,658 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:36,659 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:36,661 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 3b70e1e2-3332-46d7-a05a-d89609e4f85e: Model response was empty or malformed.
2025-04-21 12:32:36,662 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:36,663 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:36,664 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:37,093 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:37,094 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:37,096 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk cebd5bba-a5f1-4d9b-b1d7-925787471ce6: Model response was empty or malformed.
2025-04-21 12:32:37,097 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:37,098 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:37,099 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:37,435 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:37,437 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:37,439 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk a8c58930-4e00-4fd1-9bf1-90b3f36d8fb8: Model response was empty or malformed.
2025-04-21 12:32:37,440 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:37,440 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:37,441 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:37,772 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:37,773 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:37,776 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 50a70a71-37c4-4115-8e28-a9d00bbeaa9e: Model response was empty or malformed.
2025-04-21 12:32:37,777 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:37,778 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:37,779 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:38,128 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:38,129 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:38,131 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk f9f88336-f786-4223-ad58-5e1b8e18d9f7: Model response was empty or malformed.
2025-04-21 12:32:38,132 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:38,133 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:38,133 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:38,459 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:38,461 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:38,463 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 4f53d1cf-94a0-4013-aaa0-608da103d5ab: Model response was empty or malformed.
2025-04-21 12:32:38,464 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:38,464 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:38,465 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:38,797 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:38,799 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:38,801 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk dfff6bd7-d135-4ea1-8571-18c3f8b9dca0: Model response was empty or malformed.
2025-04-21 12:32:38,802 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:38,803 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:38,803 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:39,142 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:39,143 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:39,145 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 55d3962a-89ff-4f6a-8a36-fde144b5b143: Model response was empty or malformed.
2025-04-21 12:32:39,146 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:39,146 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:39,147 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:39,483 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:39,485 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:39,487 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 3d9fbef6-ca4d-476e-83bb-9dd0982454a7: Model response was empty or malformed.
2025-04-21 12:32:39,489 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:39,491 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:39,492 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:39,823 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:39,824 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:39,826 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 8912ff79-8724-4e40-83cc-f303a2babaf3: Model response was empty or malformed.
2025-04-21 12:32:39,827 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:39,828 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:39,829 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:40,196 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:40,197 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:40,199 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk f57a55db-a2d0-4a36-a7d0-38db7142135e: Model response was empty or malformed.
2025-04-21 12:32:40,200 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:40,200 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:40,201 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:40,631 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:40,632 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:40,635 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk feb14ce4-5489-43d8-aa35-981d53618ce7: Model response was empty or malformed.
2025-04-21 12:32:40,635 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:40,636 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:40,637 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:41,341 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:41,342 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:41,344 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 37b136d6-4abc-4276-a8be-ee761d676138: Model response was empty or malformed.
2025-04-21 12:32:41,345 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:41,346 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:41,347 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:42,024 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:42,025 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:42,027 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 991e97c9-b323-4ac5-8598-26846cbe0570: Model response was empty or malformed.
2025-04-21 12:32:42,028 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:42,029 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:42,030 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:42,708 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:42,709 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:42,711 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk b27b340b-155a-420a-80e2-ccd41964e122: Model response was empty or malformed.
2025-04-21 12:32:42,712 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:42,713 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:42,714 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:43,392 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:43,394 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:43,396 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk fbc2c25f-c5b7-41dc-b67d-6dfbf4209451: Model response was empty or malformed.
2025-04-21 12:32:43,397 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:43,397 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:43,398 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:44,148 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:44,150 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:44,152 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 56cc5aa0-820d-40a2-add9-affdb9b15025: Model response was empty or malformed.
2025-04-21 12:32:44,153 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:44,154 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:44,155 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:44,761 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:44,762 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: free-models-per-min. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "20",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:44,764 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 84741bf7-0ea6-46e1-a0cd-793878f18bb3: Model response was empty or malformed.
2025-04-21 12:32:44,765 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:44,766 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:44,767 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:45,096 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:45,097 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:45,099 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk eb3453d4-b7c9-49e9-9468-7304aa80d52d: Model response was empty or malformed.
2025-04-21 12:32:45,100 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:45,101 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:45,101 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:45,453 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:45,454 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:45,456 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk df2f3d4d-4f9c-44b3-ab6a-72075214cd92: Model response was empty or malformed.
2025-04-21 12:32:45,457 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:45,458 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:45,459 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:45,815 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:45,816 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:45,818 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 7be4f19c-d317-4cf5-8576-0071360f9a8e: Model response was empty or malformed.
2025-04-21 12:32:45,819 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:45,820 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:45,821 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:46,238 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:46,239 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:46,241 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 698c45b7-fdb4-4bf9-ab66-1a47e50cedd6: Model response was empty or malformed.
2025-04-21 12:32:46,242 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:32:46,243 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:32:46,243 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:46,652 - src.utils.openrouter_manager - ERROR - OpenRouter response did not contain expected content structure (choices/message/content).
2025-04-21 12:32:46,653 - src.utils.openrouter_manager - ERROR - Raw response object received: {
  "id": null,
  "choices": null,
  "created": null,
  "model": null,
  "object": null,
  "service_tier": null,
  "system_fingerprint": null,
  "usage": null,
  "error": {
    "message": "Rate limit exceeded: google/gemini-2.5-pro-exp-03-25/e5b7a905-dd02-4f6e-b61b-3aa1a1b8b9c8. undefined",
    "code": 429,
    "metadata": {
      "headers": {
        "X-RateLimit-Limit": "4",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1745235180000"
      },
      "provider_name": null
    }
  },
  "user_id": "user_2vu6Zo2uOLWAGi70msaIqw5yYY3"
}
2025-04-21 12:32:46,656 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk e0bdd0b8-ac7d-460f-b722-234b2016702e: Model response was empty or malformed.
2025-04-21 12:32:46,656 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 41.93s. Success: 0, Errors: 63
2025-04-21 12:32:46,657 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 41.94s
2025-04-21 12:32:46,658 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 12:32:46,659 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 0 entities, 0 relationships.
2025-04-21 12:32:46,660 - src.core.extraction.entity_extractor - WARNING - No raw data to deduplicate or save.
2025-04-21 12:32:46,661 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 0 entities, 0 relationships.
2025-04-21 12:32:46,663 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 12:32:46,664 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 12:32:46,665 - app_setup - INFO - Entity extraction complete. Modified chunks: 63
2025-04-21 12:32:47,094 - app_setup - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 12:32:47,095 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:32:47,147 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-pro-exp-03-25:free
2025-04-21 12:32:47,148 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 12:32:47,149 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 12:32:47,150 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 12:32:47,151 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 12:32:47,152 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 12:32:47,152 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 12:32:47,153 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 12:32:47,154 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 12:32:47,154 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 12:32:47,155 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 12:32:47,156 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 12:32:47,157 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 12:32:47,158 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 12:32:47,158 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 12:32:47,159 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:32:47,160 - app_setup - INFO - Loading indexing model...
2025-04-21 12:32:47,161 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 12:32:47,162 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 12:32:47,162 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 12:32:48,389 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 12:32:48,391 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.23 seconds
2025-04-21 12:32:48,392 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.67 GB, VMS: 45.21 GB
2025-04-21 12:32:48,393 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:32:48,493 - app_setup - INFO - Indexing 63 modified chunks
2025-04-21 12:32:48,494 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 63 CHUNKS =====
2025-04-21 12:32:48,495 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 12:32:48,496 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 12:32:48,497 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 63 chunks...
2025-04-21 12:32:48,500 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 12:32:48,544 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 12:32:48,547 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 12:32:48,548 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 12:32:48,550 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (63 documents).
2025-04-21 12:32:48,551 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.05s (Success: True)
2025-04-21 12:32:48,599 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 12:32:48,600 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-21 12:32:48,973 - src.core.indexing.document_indexer - INFO - Collection created.
2025-04-21 12:32:49,398 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 12:32:49,401 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (63 chunks) ---
2025-04-21 12:32:49,402 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 63 chunks...
2025-04-21 12:32:49,403 - src.core.indexing.document_indexer - INFO - Generating embeddings for 63 texts using BAAI/bge-m3...
2025-04-21 12:32:56,208 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 6.80s
2025-04-21 12:32:56,209 - src.core.indexing.document_indexer - INFO - Preparing 63 points for Qdrant upsert...
2025-04-21 12:32:56,216 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 63, Skipped: 0
2025-04-21 12:32:56,262 - src.core.indexing.document_indexer - INFO - Upserting 63 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 12:32:56,263 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (63 points), starting with ID: 5505538c-60c5-4341-85a4-0150b997d035...
2025-04-21 12:32:56,330 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.07s
2025-04-21 12:32:56,331 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.35 GB, VMS: 43.04 GB
2025-04-21 12:32:56,332 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.21 GB, Total: 8.00 GB
2025-04-21 12:32:56,760 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 7.36s. Overall success for this batch: True
2025-04-21 12:32:56,765 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 8.21s (Overall Success: True)
2025-04-21 12:32:56,766 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 8.27s =====
2025-04-21 12:32:56,767 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 63 chunks to Qdrant and BM25.
2025-04-21 12:32:56,768 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 12:32:56,769 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 12:32:57,479 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 12:32:57,902 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 12:32:57,917 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 12:32:58,351 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 12:32:58,353 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.51 GB, VMS: 43.04 GB
2025-04-21 12:32:58,354 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:32:58,355 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 12:32:58,356 - app_setup - INFO - Shutting down indexing model...
2025-04-21 12:32:58,357 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 12:32:58,791 - app_setup - INFO - Process memory - RSS: 3.51 GB, VMS: 43.04 GB
2025-04-21 12:32:58,793 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:32:58,853 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 12:32:58,854 - app_setup - INFO - Process memory - RSS: 3.51 GB, VMS: 43.04 GB
2025-04-21 12:32:58,855 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:32:59,288 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:32:59,363 - app_setup - INFO - Process memory - RSS: 3.51 GB, VMS: 43.04 GB
2025-04-21 12:32:59,366 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:35:55,856 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:35:55,856 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:35:55,856 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:35:55,856 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:35:56,339 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:35:59,956 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 12:35:59,117 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:35:59,118 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:35:59,119 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:35:59,120 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:35:59,120 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:35:59,265 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 12:36:06,405 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:36:06,407 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 12:36:06,408 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 12:36:06,409 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 18024
2025-04-21 12:36:06,412 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 12:36:06,454 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 12:36:06,455 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 12:36:06,458 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 12:36:06,459 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 12:36:06,459 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 12:36:06,463 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 12:36:06,466 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 12:36:06,466 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 12:36:06,467 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 12:36:06,468 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 12:36:06,469 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 12:36:06,470 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 12:36:06,471 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.63 GB
2025-04-21 12:36:06,545 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:36:06,547 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 12:36:06,609 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 12:36:06,610 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:36:29,138 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:36:29,207 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.66 GB
2025-04-21 12:36:29,209 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:36:30,091 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:36:30,149 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.66 GB
2025-04-21 12:36:30,150 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:36:30,158 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-flash-preview (Backend: OPENROUTER)
2025-04-21 12:36:30,162 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 12:36:30,163 - app_setup - INFO - Starting document processing. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']. LLM: google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 12:36:30,166 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.66 GB
2025-04-21 12:36:30,168 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:36:30,173 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 12:36:30,175 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 12:36:30,180 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 12:36:30,186 - app_setup - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-21 12:36:30,188 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-21 12:36:30,189 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-21 12:36:30,190 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-21 12:38:41,938 - src.core.document_processing.document_loader - INFO - Exporting Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf content to Markdown...
2025-04-21 12:39:09,564 - src.core.document_processing.document_loader - INFO - Docling processing successful for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf. Word count: 94174, Page count: 246
2025-04-21 12:39:09,678 - app_setup - INFO - Document loaded: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf, Content items: 1
2025-04-21 12:39:09,681 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 12:39:09,682 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 12:39:09,683 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.82 GB, VMS: 40.77 GB
2025-04-21 12:39:09,684 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 12:39:09,685 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 12:39:09,687 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 12:39:09,688 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 12:39:10,118 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 12:39:10,120 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 12:39:10,141 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 12:39:10,143 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 12:39:10,144 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.76 GB, VMS: 40.71 GB
2025-04-21 12:39:10,146 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:39:10,147 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 12:39:10,558 - app_setup - INFO - Document loader shut down complete.
2025-04-21 12:39:10,560 - app_setup - INFO - Process memory - RSS: 2.76 GB, VMS: 40.71 GB
2025-04-21 12:39:10,561 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:39:10,562 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 12:39:10,563 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 12:39:10,564 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.76 GB, VMS: 40.71 GB
2025-04-21 12:39:10,565 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:39:10,566 - app_setup - INFO - Loading chunking model...
2025-04-21 12:39:10,567 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:39:10,568 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 12:39:10,568 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 12:39:10,569 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 12:39:10,570 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 12:39:13,721 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 12:39:13,722 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 3.15 seconds
2025-04-21 12:39:13,723 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.90 GB, VMS: 41.98 GB
2025-04-21 12:39:13,725 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:39:13,726 - app_setup - INFO - Chunking document 1/1: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-21 12:39:13,727 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (ID: addba29c-63e1-407a-8385-39a80ac73184, Type: .pdf)
2025-04-21 12:39:13,728 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf.
2025-04-21 12:39:13,729 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 608866 chars) using Markdown Header + Semantic chunking.
2025-04-21 12:39:13,749 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 244 initial structural chunks.
2025-04-21 12:39:21,412 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 502 potential chunks.
2025-04-21 12:39:21,413 - src.core.document_processing.document_chunker - WARNING - Chunk (length 8299) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:39:21,415 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-21 12:39:21,416 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6564) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:39:21,417 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-21 12:39:21,418 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6017) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:39:21,419 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-21 12:39:21,420 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5972) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:39:21,421 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-21 12:39:21,422 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7518) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:39:21,423 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 21 basic chunks.
2025-04-21 12:39:21,424 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7098) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:39:21,425 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-21 12:39:21,425 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7084) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:39:21,426 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 19 basic chunks.
2025-04-21 12:39:21,427 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5166) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:39:21,430 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 15 basic chunks.
2025-04-21 12:39:21,431 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5469) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:39:21,432 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 14 basic chunks.
2025-04-21 12:39:21,433 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5139) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:39:21,434 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 13 basic chunks.
2025-04-21 12:39:21,434 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 10 oversized chunks.
2025-04-21 12:39:21,435 - src.core.document_processing.document_chunker - INFO - Final processing created 672 chunks from text of length 608866.
2025-04-21 12:39:21,439 - src.core.document_processing.document_chunker - INFO - Chunking for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf completed in 7.71s.
2025-04-21 12:39:21,440 - src.core.document_processing.document_chunker - INFO - Created 672 total chunks: 0 spreadsheet rows, 492 semantic chunks, 0 sentence fallback chunks, 180 basic fallback chunks.
2025-04-21 12:39:21,441 - src.core.document_processing.document_chunker - INFO - Average chunk size: 881.6 characters.
2025-04-21 12:39:21,441 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.89 GB, VMS: 41.96 GB
2025-04-21 12:39:21,442 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.97 GB, Total: 8.00 GB
2025-04-21 12:39:21,443 - app_setup - INFO - Created 672 chunks for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-21 12:39:21,445 - app_setup - INFO - Shutting down chunking model...
2025-04-21 12:39:21,445 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:39:21,446 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 12:39:21,447 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 12:39:21,448 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 12:39:21,455 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 12:39:22,042 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 12:39:22,043 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.89 GB, VMS: 41.96 GB
2025-04-21 12:39:22,045 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:39:22,464 - app_setup - INFO - Process memory - RSS: 2.89 GB, VMS: 41.96 GB
2025-04-21 12:39:22,467 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:39:22,469 - app_setup - INFO - Total chunks generated: 672
2025-04-21 12:39:22,470 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 12:39:22,470 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 12:39:22,471 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 12:39:22,472 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 12:39:22,475 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 12:39:22,476 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-flash-preview, debug=True
2025-04-21 12:39:22,477 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.89 GB, VMS: 41.96 GB
2025-04-21 12:39:22,478 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:39:22,479 - app_setup - INFO - Starting entity extraction on 672 chunks (0 visual chunks)
2025-04-21 12:39:22,480 - src.core.extraction.entity_extractor - INFO - Adding 672 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 12:39:22,482 - src.core.extraction.entity_extractor - INFO - Added 672 chunks to queue. Processing now.
2025-04-21 12:39:22,482 - src.core.extraction.entity_extractor - INFO - Processing all 672 chunks using OPENROUTER backend...
2025-04-21 12:39:22,483 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.89 GB, VMS: 41.96 GB
2025-04-21 12:39:22,484 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:39:22,485 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 12:39:22,486 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 12:39:22,487 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 12:39:22,488 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 12:39:22,488 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-flash-preview).
2025-04-21 12:39:22,489 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 12:39:22,490 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks (0 spreadsheet rows)
2025-04-21 12:39:22,491 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 12:39:22,492 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (672 chunks)
2025-04-21 12:39:22,493 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 12:39:22,494 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 12:39:22,495 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks sequentially via OpenRouter...
2025-04-21 12:39:22,495 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:39:22,496 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:39:22,497 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:39:24,416 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:39:24,418 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:39:24,419 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:39:24,419 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:39:25,788 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:39:25,789 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:39:25,790 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:39:25,790 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:40:52,371 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting value: line 4505 column 10 (char 45063)
2025-04-21 12:40:52,373 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
2025-04-21 12:40:52,787 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,

2025-04-21 12:40:53,194 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 469650d9-c55a-43bf-83dd-81a1ae100bb5: Model returned invalid JSON content: Expecting value: line 4505 column 10 (char 45063)
2025-04-21 12:40:53,195 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:40:53,196 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:40:53,197 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:40:54,932 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:40:54,933 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:40:54,934 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:40:54,935 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:40:56,504 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:40:56,506 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:40:56,506 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:40:56,507 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:40:57,935 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:40:57,950 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:40:57,951 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:40:57,951 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:40:59,285 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:40:59,286 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:40:59,287 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:40:59,288 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:41:01,004 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:41:01,005 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:41:01,006 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:41:01,007 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:41:00,469 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:41:00,471 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk 977423a3-2e77-4d15-8836-55b32a31373b): 1 validation error for EntityRelationshipList
entity_relationship_list.0
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type. Raw: {'entity_relationship_list': [None], 'metadata': None}
2025-04-21 12:41:00,472 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:41:00,473 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:41:00,474 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:42:24,583 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:42:24,651 - app_setup - INFO - Process memory - RSS: 2.88 GB, VMS: 42.02 GB
2025-04-21 12:42:24,653 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:42:24,811 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:42:24,891 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:42:28,037 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting value: line 4505 column 10 (char 45063)
2025-04-21 12:42:28,038 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
2025-04-21 12:42:28,493 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,

2025-04-21 12:42:28,914 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 02370ee9-795a-400c-805f-d5fb69671056: Model returned invalid JSON content: Expecting value: line 4505 column 10 (char 45063)
2025-04-21 12:42:28,916 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:42:28,917 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:42:28,917 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:42:30,687 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:42:30,688 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk c3329013-1fe0-44a3-9e0e-88e0c8eb8bad): 1 validation error for EntityRelationshipList
entity_relationship_list.0
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type. Raw: {'entity_relationship_list': [None], 'metadata': None}
2025-04-21 12:42:30,690 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:42:30,691 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:42:30,691 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:42:32,064 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:42:32,066 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk 27af9667-27f2-4d1d-a10c-6eb7e784707a): 1 validation error for EntityRelationshipList
entity_relationship_list.0
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type. Raw: {'entity_relationship_list': [None], 'metadata': None}
2025-04-21 12:42:32,067 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:42:32,068 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:42:32,069 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:42:33,657 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:42:33,658 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk 7c60d462-25d1-4391-b7d8-1d5e36968251): 1 validation error for EntityRelationshipList
entity_relationship_list.0
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type. Raw: {'entity_relationship_list': [None], 'metadata': None}
2025-04-21 12:42:33,665 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:42:33,666 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:42:33,667 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:42:34,517 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:42:34,518 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk 4483a270-7773-4db9-aa65-20b22b2d2e15): 1 validation error for EntityRelationshipList
entity_relationship_list.0
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type. Raw: {'entity_relationship_list': [None], 'metadata': None}
2025-04-21 12:42:34,520 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:42:34,521 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:42:34,521 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:42:34,934 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:42:34,990 - app_setup - INFO - Process memory - RSS: 2.88 GB, VMS: 42.02 GB
2025-04-21 12:42:34,992 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:42:35,141 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:42:35,214 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:42:35,794 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:42:35,886 - app_setup - INFO - Process memory - RSS: 2.63 GB, VMS: 42.00 GB
2025-04-21 12:42:35,888 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:42:36,030 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:42:36,092 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:42:36,094 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk ed5610fe-4dcf-4f7c-987a-ba60a544fa0b): 1 validation error for EntityRelationshipList
entity_relationship_list.0
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type. Raw: {'entity_relationship_list': [None], 'metadata': None}
2025-04-21 12:42:36,097 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:42:36,099 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:42:36,100 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:42:36,111 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-21 12:42:36,665 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:42:36,725 - app_setup - INFO - Process memory - RSS: 2.62 GB, VMS: 42.00 GB
2025-04-21 12:42:36,727 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:42:36,734 - app_setup - INFO - Clearing all indexed and extracted data...
2025-04-21 12:42:36,873 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-21 12:42:37,448 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:42:37,450 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:42:37,451 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:42:37,452 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:42:37,892 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 12:42:37,893 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-21 12:42:37,896 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 12:42:37,897 - src.core.query_system.query_engine - INFO - Internal BM25 state cleared.
2025-04-21 12:42:37,899 - app_setup - INFO - Data clearing successful via QueryEngine.
2025-04-21 12:42:37,901 - app_setup - INFO - Cleared relevant session state caches after data deletion.
2025-04-21 12:42:37,960 - app_setup - INFO - Collection info after clearing: {'exists': False}
2025-04-21 12:42:38,461 - app_setup - INFO - Process memory - RSS: 2.62 GB, VMS: 42.07 GB
2025-04-21 12:42:38,462 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:42:38,464 - app_setup - ERROR - Unhandled error in main application loop: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 127, in <module>
    main()
  File "/home/t/lm_rag/src/ui/app.py", line 74, in main
    selected_page = render_sidebar()
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/ui/app_ui_core.py", line 159, in render_sidebar
    st.session_state.confirm_delete = False; st.rerun()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 136, in __setattr__
    self[key] = value
    ~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 114, in __setitem__
    get_session_state()[key] = value
    ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py", line 101, in __setitem__
    self._state[key] = value
    ~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py", line 515, in __setitem__
    raise StreamlitAPIException(
streamlit.errors.StreamlitAPIException: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
2025-04-21 12:42:39,012 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:42:39,015 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk 0a805224-200f-4693-8c02-3b8fca3f82a4): 1 validation error for EntityRelationshipList
entity_relationship_list.0
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type. Raw: {'entity_relationship_list': [None], 'metadata': None}
2025-04-21 12:42:39,017 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:42:39,018 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:42:39,019 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:42:40,605 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:42:40,606 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:42:40,607 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:42:40,608 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:42:42,226 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:42:42,227 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk 2644f9de-c176-4989-af18-80d61013c3ff): 1 validation error for EntityRelationshipList
entity_relationship_list.0
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type. Raw: {'entity_relationship_list': [None], 'metadata': None}
2025-04-21 12:42:42,229 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:42:42,230 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:42:42,231 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:42:43,897 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:42:43,898 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:42:43,899 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:42:43,900 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:42:45,416 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:42:45,418 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:42:45,418 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:42:45,419 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:42:44,745 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:42:44,746 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:42:44,747 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:42:44,748 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:44:12,629 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting value: line 4505 column 10 (char 45063)
2025-04-21 12:44:12,631 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
2025-04-21 12:44:13,241 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,

2025-04-21 12:44:13,842 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk aa335c29-4dbd-4745-ac90-9acd6fa1c89a: Model returned invalid JSON content: Expecting value: line 4505 column 10 (char 45063)
2025-04-21 12:44:13,857 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:44:13,858 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:44:13,859 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:44:15,670 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:44:15,672 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk f0cad1c0-cf76-4e3f-847c-0a2ed05df3e4): 1 validation error for EntityRelationshipList
entity_relationship_list.0
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type. Raw: {'entity_relationship_list': [None], 'metadata': None}
2025-04-21 12:44:15,673 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:44:15,674 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:44:15,675 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:45:41,260 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting value: line 4505 column 10 (char 45063)
2025-04-21 12:45:41,262 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
2025-04-21 12:45:41,789 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,

2025-04-21 12:45:42,287 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 0d5205b7-0bf0-456c-a09e-4a391b021615: Model returned invalid JSON content: Expecting value: line 4505 column 10 (char 45063)
2025-04-21 12:45:42,289 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:45:42,290 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:45:42,291 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:45:44,166 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:45:44,168 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk 57cfd7a9-2b66-4f4f-a198-78923086008c): 1 validation error for EntityRelationshipList
entity_relationship_list.0
  Input should be a valid dictionary or instance of EntityRelationshipItem [type=model_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type. Raw: {'entity_relationship_list': [None], 'metadata': None}
2025-04-21 12:45:44,169 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:45:44,170 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:45:44,171 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:45:45,698 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:45:45,699 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:45:45,700 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:45:45,700 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:47:11,338 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting value: line 4505 column 10 (char 45063)
2025-04-21 12:47:11,340 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
2025-04-21 12:47:12,446 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,

2025-04-21 12:47:13,023 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 9797de63-8e37-4f64-b81a-f3cc7025bdf4: Model returned invalid JSON content: Expecting value: line 4505 column 10 (char 45063)
2025-04-21 12:47:13,025 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:47:13,026 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:47:13,027 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:47:14,732 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:47:14,734 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:47:14,735 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:47:14,736 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:47:16,263 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:47:16,264 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:47:16,265 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:47:16,266 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:47:15,432 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:47:15,433 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:47:15,434 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:47:15,435 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:47:17,314 - src.utils.openrouter_manager - INFO - Detected list of JSON strings in 'entity_relationship_list'. Parsing items...
2025-04-21 12:47:17,316 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in entity_relationship_list at index 0: Expecting value: line 1 column 1 (char 0). String: 'AAG TRUSTEESHIP LIMITED'
2025-04-21 12:47:17,317 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in entity_relationship_list at index 1: Expecting value: line 1 column 1 (char 0). String: 'Cyprus'
2025-04-21 12:47:17,318 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in entity_relationship_list at index 2: Expecting value: line 1 column 1 (char 0). String: 'AAG TRUSTEESHIP LIMITED is a company incorporated in Cyprus'
2025-04-21 12:47:17,319 - src.utils.openrouter_manager - WARNING - Partial failure parsing nested strings in 'entity_relationship_list'. Some items may be missing.
2025-04-21 12:47:17,319 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 12:47:17,320 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in metadata: Expecting value: line 1 column 1 (char 0). String: 'This document mentions a commercial company and its location. The content is described in abstract terms, referring to a commercial company and a location, rather than listing specific names.'
2025-04-21 12:47:17,321 - src.utils.openrouter_manager - ERROR - Returning error status due to partial failure in parsing nested JSON.
2025-04-21 12:47:17,322 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 05781e9a-d076-4c0b-ac0d-e885975ff63c: Failed to fully parse nested JSON content from model.
2025-04-21 12:47:17,323 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:47:17,324 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:47:17,325 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:47:18,694 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:47:18,696 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:47:18,697 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:47:18,697 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:48:45,298 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting value: line 4505 column 10 (char 45063)
2025-04-21 12:48:45,300 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
2025-04-21 12:48:45,792 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,

2025-04-21 12:48:46,335 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 16c7f17d-7472-480e-be65-cf0a56ca725b: Model returned invalid JSON content: Expecting value: line 4505 column 10 (char 45063)
2025-04-21 12:48:46,337 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:48:46,338 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:48:46,339 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 12:49:42,230 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:49:42,230 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:49:42,230 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:49:42,230 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:49:43,117 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:49:46,744 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 12:49:48,631 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:49:48,632 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:49:48,633 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:49:48,633 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:49:48,634 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:49:48,896 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 12:49:57,524 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:49:57,527 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 12:49:57,528 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 12:49:57,529 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 18024
2025-04-21 12:49:57,531 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 12:49:57,605 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 12:49:57,607 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 12:49:57,609 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 12:49:57,610 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 12:49:57,611 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 12:49:57,621 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 12:49:57,624 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 12:49:57,625 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 12:49:57,626 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 12:49:57,626 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 12:49:57,627 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 12:49:57,628 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 12:49:57,629 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.63 GB
2025-04-21 12:49:57,709 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:49:57,711 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 12:49:57,772 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 12:49:57,773 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:51:29,665 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:51:29,726 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 12:51:29,728 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:51:30,455 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:51:30,514 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 12:51:30,515 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:51:30,521 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-pro-preview-03-25 (Backend: OPENROUTER)
2025-04-21 12:51:30,525 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 12:51:30,527 - app_setup - INFO - Starting document processing. Files: ['The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf']. LLM: google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 12:51:30,530 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 12:51:30,532 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:51:30,537 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 12:51:30,539 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 12:51:30,548 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 12:51:30,553 - app_setup - INFO - Loading regular document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:51:30,555 - src.core.document_processing.document_loader - INFO - Loading document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (Type: .pdf)
2025-04-21 12:51:30,557 - src.core.document_processing.document_loader - INFO - Processing with Docling: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:51:30,558 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf...
2025-04-21 12:51:42,730 - src.core.document_processing.document_loader - INFO - Exporting The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf content to Markdown...
2025-04-21 12:51:42,765 - src.core.document_processing.document_loader - INFO - Docling processing successful for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf. Word count: 4135, Page count: 10
2025-04-21 12:51:42,768 - app_setup - INFO - Document loaded: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf, Content items: 1
2025-04-21 12:51:42,770 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 12:51:42,771 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 12:51:42,772 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.26 GB, VMS: 40.15 GB
2025-04-21 12:51:42,773 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 12:51:42,774 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 12:51:42,778 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 12:51:42,779 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 12:51:43,213 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 12:51:43,214 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 12:51:43,238 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 12:51:43,239 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 12:51:43,240 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.26 GB, VMS: 40.14 GB
2025-04-21 12:51:43,241 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:51:43,242 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 12:51:43,668 - app_setup - INFO - Document loader shut down complete.
2025-04-21 12:51:43,671 - app_setup - INFO - Process memory - RSS: 2.25 GB, VMS: 40.14 GB
2025-04-21 12:51:43,674 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:51:43,676 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 12:51:43,677 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 12:51:43,678 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.25 GB, VMS: 40.14 GB
2025-04-21 12:51:43,680 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:51:43,680 - app_setup - INFO - Loading chunking model...
2025-04-21 12:51:43,681 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:51:43,682 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 12:51:43,683 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 12:51:43,684 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 12:51:43,685 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 12:51:46,102 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 12:51:46,103 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 2.42 seconds
2025-04-21 12:51:46,105 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 12:51:46,106 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:51:46,107 - app_setup - INFO - Chunking document 1/1: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:51:46,108 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (ID: 3f2fa743-845c-4842-8111-e6bb1d7f94e6, Type: .pdf)
2025-04-21 12:51:46,109 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf.
2025-04-21 12:51:46,110 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 28181 chars) using Markdown Header + Semantic chunking.
2025-04-21 12:51:46,111 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 7 initial structural chunks.
2025-04-21 12:51:46,493 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 25 potential chunks.
2025-04-21 12:51:46,494 - src.core.document_processing.document_chunker - WARNING - Chunk (length 16110) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:51:46,496 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 39 basic chunks.
2025-04-21 12:51:46,497 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 1 oversized chunks.
2025-04-21 12:51:46,497 - src.core.document_processing.document_chunker - INFO - Final processing created 63 chunks from text of length 28181.
2025-04-21 12:51:46,498 - src.core.document_processing.document_chunker - INFO - Chunking for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf completed in 0.39s.
2025-04-21 12:51:46,499 - src.core.document_processing.document_chunker - INFO - Created 63 total chunks: 0 spreadsheet rows, 24 semantic chunks, 0 sentence fallback chunks, 39 basic fallback chunks.
2025-04-21 12:51:46,500 - src.core.document_processing.document_chunker - INFO - Average chunk size: 449.7 characters.
2025-04-21 12:51:46,501 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 12:51:46,502 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.60 GB, Total: 8.00 GB
2025-04-21 12:51:46,503 - app_setup - INFO - Created 63 chunks for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 12:51:46,504 - app_setup - INFO - Shutting down chunking model...
2025-04-21 12:51:46,505 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:51:46,506 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 12:51:46,506 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 12:51:46,507 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 12:51:46,510 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 12:51:47,089 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 12:51:47,091 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 12:51:47,092 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:51:47,520 - app_setup - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 12:51:47,522 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:51:47,523 - app_setup - INFO - Total chunks generated: 63
2025-04-21 12:51:47,524 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 12:51:47,525 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 12:51:47,525 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 12:51:47,526 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 12:51:47,529 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 12:51:47,530 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-pro-preview-03-25, debug=True
2025-04-21 12:51:47,531 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 12:51:47,532 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:51:47,533 - app_setup - INFO - Starting entity extraction on 63 chunks (0 visual chunks)
2025-04-21 12:51:47,534 - src.core.extraction.entity_extractor - INFO - Adding 63 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 12:51:47,535 - src.core.extraction.entity_extractor - INFO - Added 63 chunks to queue. Processing now.
2025-04-21 12:51:47,536 - src.core.extraction.entity_extractor - INFO - Processing all 63 chunks using OPENROUTER backend...
2025-04-21 12:51:47,536 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 12:51:47,538 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:51:47,539 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 12:51:47,540 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 12:51:47,541 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 12:51:47,541 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 12:51:47,542 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-pro-preview-03-25).
2025-04-21 12:51:47,543 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 12:51:47,544 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks (0 spreadsheet rows)
2025-04-21 12:51:47,544 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 12:51:47,545 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (63 chunks)
2025-04-21 12:51:47,546 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 12:51:47,547 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 12:51:47,547 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks sequentially via OpenRouter...
2025-04-21 12:51:47,548 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:51:47,549 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:51:47,550 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 12:52:00,133 - src.utils.openrouter_manager - INFO - Detected list of JSON strings in 'entity_relationship_list'. Parsing items...
2025-04-21 12:52:00,136 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in entity_relationship_list at index 0: Expecting value: line 1 column 1 (char 0). String: 'string'
2025-04-21 12:52:00,139 - src.utils.openrouter_manager - WARNING - Partial failure parsing nested strings in 'entity_relationship_list'. Some items may be missing.
2025-04-21 12:52:00,141 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 12:52:00,146 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in metadata: Expecting value: line 1 column 1 (char 0). String: 'string'
2025-04-21 12:52:00,151 - src.utils.openrouter_manager - ERROR - Returning error status due to partial failure in parsing nested JSON.
2025-04-21 12:52:00,153 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 58d57894-36a6-4c55-933e-26936800f247: Failed to fully parse nested JSON content from model.
2025-04-21 12:52:00,154 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:52:00,156 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:52:00,157 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 12:52:17,817 - src.utils.openrouter_manager - INFO - Detected list of JSON strings in 'entity_relationship_list'. Parsing items...
2025-04-21 12:52:17,818 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in entity_relationship_list at index 0: Expecting value: line 1 column 1 (char 0). String: 'string'
2025-04-21 12:52:17,819 - src.utils.openrouter_manager - WARNING - Partial failure parsing nested strings in 'entity_relationship_list'. Some items may be missing.
2025-04-21 12:52:17,819 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 12:52:17,820 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in metadata: Expecting value: line 1 column 1 (char 0). String: 'string'
2025-04-21 12:52:17,821 - src.utils.openrouter_manager - ERROR - Returning error status due to partial failure in parsing nested JSON.
2025-04-21 12:52:17,822 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 6dd70663-e252-443c-8906-ea54a7719979: Failed to fully parse nested JSON content from model.
2025-04-21 12:52:17,823 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:52:17,823 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:52:17,824 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 12:52:29,421 - src.utils.openrouter_manager - INFO - Detected list of JSON strings in 'entity_relationship_list'. Parsing items...
2025-04-21 12:52:29,423 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in entity_relationship_list at index 0: Expecting value: line 1 column 1 (char 0). String: 'string'
2025-04-21 12:52:29,424 - src.utils.openrouter_manager - WARNING - Partial failure parsing nested strings in 'entity_relationship_list'. Some items may be missing.
2025-04-21 12:52:29,424 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 12:52:29,425 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in metadata: Expecting value: line 1 column 1 (char 0). String: 'string'
2025-04-21 12:52:29,426 - src.utils.openrouter_manager - ERROR - Returning error status due to partial failure in parsing nested JSON.
2025-04-21 12:52:29,427 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk fc332809-7c6f-42e6-9268-136f1f0e741e: Failed to fully parse nested JSON content from model.
2025-04-21 12:52:29,427 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:52:29,428 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:52:29,429 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 12:52:35,251 - src.utils.openrouter_manager - INFO - Detected list of JSON strings in 'entity_relationship_list'. Parsing items...
2025-04-21 12:52:35,252 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in entity_relationship_list at index 0: Expecting value: line 1 column 1 (char 0). String: 'string'
2025-04-21 12:52:35,253 - src.utils.openrouter_manager - WARNING - Partial failure parsing nested strings in 'entity_relationship_list'. Some items may be missing.
2025-04-21 12:52:35,254 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 12:52:35,255 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in metadata: Expecting value: line 1 column 1 (char 0). String: 'string'
2025-04-21 12:52:35,256 - src.utils.openrouter_manager - ERROR - Returning error status due to partial failure in parsing nested JSON.
2025-04-21 12:52:35,256 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 98994ca2-8ab2-4e9e-a56a-a545053c9b32: Failed to fully parse nested JSON content from model.
2025-04-21 12:52:35,257 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:52:35,258 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:52:35,259 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 12:52:44,825 - src.utils.openrouter_manager - INFO - Detected list of JSON strings in 'entity_relationship_list'. Parsing items...
2025-04-21 12:52:44,826 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in entity_relationship_list at index 0: Expecting value: line 1 column 1 (char 0). String: 'string'
2025-04-21 12:52:44,827 - src.utils.openrouter_manager - WARNING - Partial failure parsing nested strings in 'entity_relationship_list'. Some items may be missing.
2025-04-21 12:52:44,828 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 12:52:44,829 - src.utils.openrouter_manager - ERROR - Failed to parse nested JSON string in metadata: Expecting value: line 1 column 1 (char 0). String: 'string'
2025-04-21 12:52:44,829 - src.utils.openrouter_manager - ERROR - Returning error status due to partial failure in parsing nested JSON.
2025-04-21 12:52:44,830 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk cade2537-95ff-4c6a-93d7-1941d0ff6b90: Failed to fully parse nested JSON content from model.
2025-04-21 12:52:44,831 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:52:44,832 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:52:44,833 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 12:55:21,145 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:55:21,145 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:55:21,145 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:55:21,145 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:55:22,111 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:55:28,045 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 12:55:30,313 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 12:55:30,314 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 12:55:30,315 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 12:55:30,316 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 12:55:30,317 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 12:55:30,633 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 12:55:39,561 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:55:39,564 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 12:55:39,564 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 12:55:39,565 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 18024
2025-04-21 12:55:39,566 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 12:55:39,638 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 12:55:39,639 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 12:55:39,641 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 12:55:39,642 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 12:55:39,643 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 12:55:39,652 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 12:55:39,654 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 12:55:39,655 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 12:55:39,656 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 12:55:39,657 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 12:55:39,658 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 12:55:39,658 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 12:55:39,659 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.63 GB
2025-04-21 12:55:39,737 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:55:39,739 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 12:55:39,797 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 12:55:39,798 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:55:47,999 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:55:48,000 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 12:55:48,001 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 12:55:48,002 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 18024
2025-04-21 12:55:48,003 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 12:55:48,023 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 12:55:48,026 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 12:55:48,027 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 12:55:48,028 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 12:55:48,029 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 12:55:48,031 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 12:55:48,032 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 12:55:48,033 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 12:55:48,034 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 12:55:48,035 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 12:55:48,036 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 12:55:48,036 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 12:55:48,037 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 12:55:48,038 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:55:48,039 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 12:55:48,093 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 12:55:48,094 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:56:38,870 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:56:38,934 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.66 GB
2025-04-21 12:56:38,936 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:56:39,541 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 12:56:39,592 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.66 GB
2025-04-21 12:56:39,594 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:56:39,600 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-pro-preview-03-25 (Backend: OPENROUTER)
2025-04-21 12:56:39,604 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 12:56:39,606 - app_setup - INFO - Starting document processing. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']. LLM: google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 12:56:39,609 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.66 GB
2025-04-21 12:56:39,612 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 12:56:39,614 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 12:56:39,616 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 12:56:39,628 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 12:56:39,635 - app_setup - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-21 12:56:39,637 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-21 12:56:39,638 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-21 12:56:39,639 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-21 12:58:52,388 - src.core.document_processing.document_loader - INFO - Exporting Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf content to Markdown...
2025-04-21 12:59:20,496 - src.core.document_processing.document_loader - INFO - Docling processing successful for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf. Word count: 94174, Page count: 246
2025-04-21 12:59:20,618 - app_setup - INFO - Document loaded: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf, Content items: 1
2025-04-21 12:59:20,622 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 12:59:20,624 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 12:59:20,625 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.74 GB, VMS: 40.70 GB
2025-04-21 12:59:20,627 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 12:59:20,628 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 12:59:20,631 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 12:59:20,632 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 12:59:21,210 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 12:59:21,211 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 12:59:21,235 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 12:59:21,236 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 12:59:21,237 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.67 GB, VMS: 40.63 GB
2025-04-21 12:59:21,238 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:59:21,239 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 12:59:21,654 - app_setup - INFO - Document loader shut down complete.
2025-04-21 12:59:21,657 - app_setup - INFO - Process memory - RSS: 2.67 GB, VMS: 40.63 GB
2025-04-21 12:59:21,658 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:59:21,659 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 12:59:21,660 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 12:59:21,661 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.67 GB, VMS: 40.63 GB
2025-04-21 12:59:21,662 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 12:59:21,663 - app_setup - INFO - Loading chunking model...
2025-04-21 12:59:21,664 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:59:21,665 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 12:59:21,665 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 12:59:21,666 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 12:59:21,667 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 12:59:26,340 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 12:59:26,342 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.67 seconds
2025-04-21 12:59:26,343 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.84 GB, VMS: 41.91 GB
2025-04-21 12:59:26,344 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:59:26,345 - app_setup - INFO - Chunking document 1/1: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-21 12:59:26,346 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (ID: 538981ea-92f7-4b0a-9cf0-decacfd88f7b, Type: .pdf)
2025-04-21 12:59:26,347 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf.
2025-04-21 12:59:26,348 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 608866 chars) using Markdown Header + Semantic chunking.
2025-04-21 12:59:26,367 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 244 initial structural chunks.
2025-04-21 12:59:34,126 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 502 potential chunks.
2025-04-21 12:59:34,127 - src.core.document_processing.document_chunker - WARNING - Chunk (length 8299) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:59:34,128 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-21 12:59:34,129 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6564) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:59:34,130 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-21 12:59:34,131 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6017) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:59:34,133 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-21 12:59:34,133 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5972) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:59:34,134 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-21 12:59:34,135 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7518) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:59:34,136 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 21 basic chunks.
2025-04-21 12:59:34,137 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7098) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:59:34,138 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-21 12:59:34,139 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7084) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:59:34,140 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 19 basic chunks.
2025-04-21 12:59:34,141 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5166) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:59:34,144 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 15 basic chunks.
2025-04-21 12:59:34,145 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5469) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:59:34,146 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 14 basic chunks.
2025-04-21 12:59:34,146 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5139) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 12:59:34,147 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 13 basic chunks.
2025-04-21 12:59:34,148 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 10 oversized chunks.
2025-04-21 12:59:34,149 - src.core.document_processing.document_chunker - INFO - Final processing created 672 chunks from text of length 608866.
2025-04-21 12:59:34,153 - src.core.document_processing.document_chunker - INFO - Chunking for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf completed in 7.81s.
2025-04-21 12:59:34,154 - src.core.document_processing.document_chunker - INFO - Created 672 total chunks: 0 spreadsheet rows, 492 semantic chunks, 0 sentence fallback chunks, 180 basic fallback chunks.
2025-04-21 12:59:34,154 - src.core.document_processing.document_chunker - INFO - Average chunk size: 881.6 characters.
2025-04-21 12:59:34,155 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.83 GB, VMS: 41.89 GB
2025-04-21 12:59:34,156 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.97 GB, Total: 8.00 GB
2025-04-21 12:59:34,157 - app_setup - INFO - Created 672 chunks for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-21 12:59:34,158 - app_setup - INFO - Shutting down chunking model...
2025-04-21 12:59:34,159 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 12:59:34,160 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 12:59:34,161 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 12:59:34,161 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 12:59:34,168 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 12:59:34,768 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 12:59:34,770 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.83 GB, VMS: 41.89 GB
2025-04-21 12:59:34,771 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:59:35,199 - app_setup - INFO - Process memory - RSS: 2.83 GB, VMS: 41.89 GB
2025-04-21 12:59:35,201 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:59:35,204 - app_setup - INFO - Total chunks generated: 672
2025-04-21 12:59:35,205 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 12:59:35,207 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 12:59:35,208 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 12:59:35,209 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 12:59:35,212 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 12:59:35,213 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-pro-preview-03-25, debug=True
2025-04-21 12:59:35,214 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.83 GB, VMS: 41.89 GB
2025-04-21 12:59:35,216 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:59:35,217 - app_setup - INFO - Starting entity extraction on 672 chunks (0 visual chunks)
2025-04-21 12:59:35,218 - src.core.extraction.entity_extractor - INFO - Adding 672 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 12:59:35,220 - src.core.extraction.entity_extractor - INFO - Added 672 chunks to queue. Processing now.
2025-04-21 12:59:35,220 - src.core.extraction.entity_extractor - INFO - Processing all 672 chunks using OPENROUTER backend...
2025-04-21 12:59:35,221 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.83 GB, VMS: 41.89 GB
2025-04-21 12:59:35,223 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 12:59:35,224 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 12:59:35,225 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 12:59:35,226 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 12:59:35,226 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 12:59:35,227 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-pro-preview-03-25).
2025-04-21 12:59:35,228 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 12:59:35,229 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks (0 spreadsheet rows)
2025-04-21 12:59:35,230 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 12:59:35,231 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (672 chunks)
2025-04-21 12:59:35,232 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 12:59:35,233 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 12:59:35,234 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks sequentially via OpenRouter...
2025-04-21 12:59:35,235 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:59:35,235 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:59:35,236 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 12:59:35,237 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 12:59:40,553 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 12:59:40,555 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 12:59:40,555 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:59:40,556 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:59:40,557 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:59:40,558 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 12:59:40,558 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 12:59:45,126 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 12:59:45,127 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 12:59:45,128 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:59:45,129 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:59:45,130 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:59:45,131 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 12:59:45,132 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 12:59:52,272 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 12:59:52,273 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 12:59:52,274 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 12:59:52,275 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:59:52,276 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:59:52,277 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:59:52,278 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 12:59:52,279 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 12:59:57,135 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 12:59:57,136 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 12:59:57,137 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 12:59:57,138 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 12:59:57,139 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 12:59:57,139 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 12:59:57,140 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:00:05,879 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:00:05,881 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:00:05,881 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:00:05,882 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:00:05,883 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:00:05,884 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:00:05,884 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:00:11,450 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:00:11,452 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:00:11,452 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:00:11,453 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:00:11,454 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:00:11,455 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:00:11,456 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:00:17,516 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:00:17,516 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:00:17,516 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:00:17,516 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:00:18,397 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:00:24,456 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 13:00:26,507 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:00:26,509 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:00:26,510 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:00:26,510 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:00:26,511 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:00:26,783 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 13:00:35,490 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:00:35,490 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:00:35,493 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:00:35,494 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:00:35,495 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:00:35,497 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:00:35,498 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 18024
2025-04-21 13:00:35,499 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 18024
2025-04-21 13:00:35,500 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:00:35,501 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:00:35,597 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:00:35,599 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:00:35,599 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:00:35,600 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:00:35,603 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:00:35,605 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:00:35,606 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:00:35,608 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:00:35,608 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:00:35,609 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:00:35,625 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:00:35,625 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:00:35,627 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:00:35,630 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:00:35,631 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:00:35,632 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:00:35,633 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:00:35,635 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:00:35,636 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:00:35,637 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:00:35,638 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:00:35,640 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:00:35,641 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:00:35,642 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:00:35,644 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.70 GB
2025-04-21 13:00:35,644 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.70 GB
2025-04-21 13:00:35,729 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:00:35,729 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:00:35,732 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:00:35,733 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:00:35,817 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:00:35,818 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:00:35,819 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:00:35,820 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:00:43,979 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:00:44,038 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:00:44,039 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:00:44,547 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:00:44,598 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.72 GB
2025-04-21 13:00:44,600 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:00:44,605 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-pro-preview-03-25 (Backend: OPENROUTER)
2025-04-21 13:00:44,608 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 13:00:44,609 - app_setup - INFO - Starting document processing. Files: ['The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf']. LLM: google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 13:00:44,612 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.72 GB
2025-04-21 13:00:44,613 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:00:44,618 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 13:00:44,620 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 13:00:44,625 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 13:00:44,627 - app_setup - INFO - Loading regular document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 13:00:44,630 - src.core.document_processing.document_loader - INFO - Loading document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (Type: .pdf)
2025-04-21 13:00:44,632 - src.core.document_processing.document_loader - INFO - Processing with Docling: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 13:00:44,633 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf...
2025-04-21 13:00:51,979 - src.core.document_processing.document_loader - INFO - Exporting The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf content to Markdown...
2025-04-21 13:00:52,012 - src.core.document_processing.document_loader - INFO - Docling processing successful for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf. Word count: 4135, Page count: 10
2025-04-21 13:00:52,015 - app_setup - INFO - Document loaded: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf, Content items: 1
2025-04-21 13:00:52,017 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 13:00:52,018 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 13:00:52,019 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.25 GB, VMS: 40.15 GB
2025-04-21 13:00:52,020 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 13:00:52,021 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 13:00:52,023 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 13:00:52,024 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 13:00:52,451 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 13:00:52,452 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 13:00:52,485 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 13:00:52,486 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 13:00:52,487 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.25 GB, VMS: 40.15 GB
2025-04-21 13:00:52,488 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:00:52,489 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 13:00:52,913 - app_setup - INFO - Document loader shut down complete.
2025-04-21 13:00:52,915 - app_setup - INFO - Process memory - RSS: 2.25 GB, VMS: 40.14 GB
2025-04-21 13:00:52,918 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:00:52,919 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 13:00:52,920 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 13:00:52,921 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.25 GB, VMS: 40.14 GB
2025-04-21 13:00:52,922 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:00:52,923 - app_setup - INFO - Loading chunking model...
2025-04-21 13:00:52,924 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:00:52,924 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 13:00:52,925 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 13:00:52,926 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 13:00:52,927 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 13:00:56,425 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 13:00:56,426 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 3.50 seconds
2025-04-21 13:00:56,427 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.60 GB, VMS: 41.66 GB
2025-04-21 13:00:56,428 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:00:56,429 - app_setup - INFO - Chunking document 1/1: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 13:00:56,430 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (ID: eb7acb1c-f0de-49d9-b988-f02700d7be14, Type: .pdf)
2025-04-21 13:00:56,431 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf.
2025-04-21 13:00:56,432 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 28181 chars) using Markdown Header + Semantic chunking.
2025-04-21 13:00:56,434 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 7 initial structural chunks.
2025-04-21 13:00:56,847 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 25 potential chunks.
2025-04-21 13:00:56,848 - src.core.document_processing.document_chunker - WARNING - Chunk (length 16110) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 13:00:56,850 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 39 basic chunks.
2025-04-21 13:00:56,851 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 1 oversized chunks.
2025-04-21 13:00:56,852 - src.core.document_processing.document_chunker - INFO - Final processing created 63 chunks from text of length 28181.
2025-04-21 13:00:56,853 - src.core.document_processing.document_chunker - INFO - Chunking for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf completed in 0.42s.
2025-04-21 13:00:56,854 - src.core.document_processing.document_chunker - INFO - Created 63 total chunks: 0 spreadsheet rows, 24 semantic chunks, 0 sentence fallback chunks, 39 basic fallback chunks.
2025-04-21 13:00:56,855 - src.core.document_processing.document_chunker - INFO - Average chunk size: 449.7 characters.
2025-04-21 13:00:56,856 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.61 GB, VMS: 41.66 GB
2025-04-21 13:00:56,857 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.60 GB, Total: 8.00 GB
2025-04-21 13:00:56,858 - app_setup - INFO - Created 63 chunks for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-21 13:00:56,861 - app_setup - INFO - Shutting down chunking model...
2025-04-21 13:00:56,862 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:00:56,863 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 13:00:56,864 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 13:00:56,865 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 13:00:56,867 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 13:00:57,458 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 13:00:57,459 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.61 GB, VMS: 41.66 GB
2025-04-21 13:00:57,461 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:00:57,888 - app_setup - INFO - Process memory - RSS: 2.61 GB, VMS: 41.66 GB
2025-04-21 13:00:57,890 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:00:57,891 - app_setup - INFO - Total chunks generated: 63
2025-04-21 13:00:57,892 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 13:00:57,893 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 13:00:57,894 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 13:00:57,895 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 13:00:57,898 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 13:00:57,898 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-pro-preview-03-25, debug=True
2025-04-21 13:00:57,899 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.61 GB, VMS: 41.66 GB
2025-04-21 13:00:57,900 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:00:57,901 - app_setup - INFO - Starting entity extraction on 63 chunks (0 visual chunks)
2025-04-21 13:00:57,902 - src.core.extraction.entity_extractor - INFO - Adding 63 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 13:00:57,903 - src.core.extraction.entity_extractor - INFO - Added 63 chunks to queue. Processing now.
2025-04-21 13:00:57,904 - src.core.extraction.entity_extractor - INFO - Processing all 63 chunks using OPENROUTER backend...
2025-04-21 13:00:57,905 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.61 GB, VMS: 41.66 GB
2025-04-21 13:00:57,906 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:00:57,907 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 13:00:57,908 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 13:00:57,909 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 13:00:57,909 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 13:00:57,910 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-pro-preview-03-25).
2025-04-21 13:00:57,911 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 13:00:57,912 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks (0 spreadsheet rows)
2025-04-21 13:00:57,913 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 13:00:57,914 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (63 chunks)
2025-04-21 13:00:57,915 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 13:00:57,916 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 13:00:57,917 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks sequentially via OpenRouter...
2025-04-21 13:00:57,918 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:00:57,918 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:00:57,919 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:00:57,920 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:01:07,212 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:01:07,213 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:01:07,214 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:01:07,215 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:01:07,216 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:01:07,216 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:01:07,217 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:01:07,218 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:01:21,411 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:01:21,412 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:01:21,413 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:01:21,414 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:01:21,415 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:01:21,416 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:01:21,416 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:01:36,812 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:01:36,813 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:01:36,814 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:01:36,815 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:01:36,816 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:01:36,817 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:01:36,818 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:01:36,818 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:01:45,227 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:01:45,228 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:01:45,229 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:01:45,230 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:01:45,231 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:01:45,231 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:01:45,232 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:01:45,233 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:01:51,439 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:01:51,440 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:01:51,441 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:01:51,442 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:01:51,443 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:01:51,444 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:01:51,444 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:01:51,445 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:02:02,430 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:02:02,431 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:02:02,432 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:02:02,433 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:02:02,434 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:02:02,435 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:02:02,435 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:02:02,436 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:02:17,454 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:02:17,456 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:02:17,456 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:02:17,457 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:02:17,458 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:02:17,459 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:02:17,459 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:02:25,473 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:02:25,475 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:02:25,476 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:02:25,476 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:02:25,477 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:02:25,478 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:02:25,479 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:02:25,479 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:02:50,796 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:02:50,798 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:02:50,798 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:02:50,799 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:02:50,800 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:02:50,801 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:02:50,802 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:03:03,785 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:03:03,786 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:03:03,787 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:03:03,787 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:03:03,788 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:03:03,789 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:03:03,790 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:03:03,791 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:03:12,499 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:03:12,500 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:03:12,501 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:03:12,502 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:03:12,502 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:03:12,503 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:03:12,504 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:03:12,505 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:03:21,438 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:03:21,439 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:03:21,440 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:03:21,441 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:03:21,442 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:03:21,443 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:03:21,443 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:03:21,444 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:03:33,697 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:03:33,699 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:03:33,699 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:03:33,700 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:03:33,701 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:03:33,702 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:03:33,703 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:03:33,703 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:03:43,589 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:03:43,591 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:03:43,592 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:03:43,593 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:03:43,593 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:03:43,594 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:03:43,596 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:03:43,597 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:03:49,206 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:03:49,208 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:03:49,208 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:03:49,209 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:03:49,210 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:03:49,211 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:03:49,212 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:03:49,212 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:03:56,478 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:03:56,479 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:03:56,480 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:03:56,481 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:03:56,482 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:03:56,482 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:03:56,483 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:04:05,813 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:04:05,815 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:04:05,815 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:04:05,817 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:04:05,818 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:04:05,819 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:04:05,821 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:04:18,195 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:04:18,197 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:04:18,203 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:04:18,204 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:04:18,205 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:04:18,206 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:04:18,207 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:04:18,208 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:04:29,664 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:04:29,665 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:04:29,666 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:04:29,667 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:04:29,668 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:04:29,669 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:04:29,670 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:04:29,670 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:04:35,372 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:04:35,373 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:04:35,374 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:04:35,375 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:04:35,376 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:04:35,377 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:04:35,378 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:04:42,998 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:04:43,000 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:04:43,000 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:04:43,001 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:04:43,002 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:04:43,003 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:04:43,004 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:04:48,348 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:04:48,350 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:04:48,351 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:04:48,351 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:04:48,352 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:04:48,353 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:04:48,354 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:04:56,929 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:04:56,930 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:04:56,931 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:04:56,933 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:04:56,934 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:04:56,934 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:04:56,935 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:04:56,936 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:05:04,552 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:05:04,554 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:05:04,554 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:05:04,555 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:05:04,556 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:05:04,557 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:05:04,558 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:05:11,048 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:05:11,049 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:05:11,050 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:05:11,051 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:05:11,051 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:05:11,052 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:05:11,053 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:05:11,054 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:05:15,355 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:05:15,356 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:05:15,357 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:05:15,358 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:05:15,358 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:05:15,359 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:05:15,360 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:05:20,491 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:05:20,492 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:05:20,497 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:05:20,498 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:05:20,499 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:05:20,500 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:05:20,501 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:05:32,350 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:05:32,351 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:05:32,352 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:05:32,353 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:05:32,354 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:05:32,354 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:05:32,355 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:05:41,362 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:05:41,363 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:05:41,364 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:05:41,365 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:05:41,366 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:05:41,366 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:05:41,367 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:05:47,161 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:05:47,162 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:05:47,163 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:05:47,164 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:05:47,164 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:05:47,165 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:05:47,166 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:05:47,167 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:05:55,779 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:05:55,780 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:05:55,781 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:05:55,782 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:05:55,783 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:05:55,783 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:05:55,784 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:05:55,785 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:06:04,877 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:06:04,878 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:06:04,879 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:06:04,880 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:06:04,881 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:06:04,882 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:06:04,882 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:06:04,883 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:06:12,142 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:06:12,143 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:06:12,144 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:06:12,145 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:06:12,145 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:06:12,146 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:06:12,147 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:06:15,829 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:06:15,830 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:06:15,831 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:06:15,832 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:06:15,833 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:06:15,833 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:06:15,834 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:06:21,755 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:06:21,757 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:06:21,758 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:06:21,758 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:06:21,759 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:06:21,760 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:06:21,761 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:06:30,034 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:06:30,035 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:06:30,036 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:06:30,037 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:06:30,038 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:06:30,039 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:06:30,040 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:06:38,814 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:06:38,815 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:06:38,816 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:06:38,816 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:06:38,817 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:06:38,818 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:06:38,820 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:06:44,800 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:06:44,801 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:06:44,802 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:06:44,803 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:06:44,804 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:06:44,804 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:06:44,805 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:06:52,902 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:06:52,903 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:06:52,904 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:06:52,905 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:06:52,906 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:06:52,906 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:06:52,907 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:07:00,101 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:07:00,102 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:07:00,103 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:07:00,104 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:07:00,105 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:07:00,106 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:07:00,107 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:07:39,957 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:07:39,957 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:07:39,958 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:07:39,958 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:07:40,424 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:07:43,868 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 13:07:42,696 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:07:42,697 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:07:42,698 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:07:42,699 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:07:42,700 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:07:42,836 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 13:07:49,817 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:07:49,817 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:07:49,821 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:07:49,822 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:07:49,823 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:07:49,826 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:07:49,827 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 18024
2025-04-21 13:07:49,828 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 18024
2025-04-21 13:07:49,830 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:07:49,831 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:07:49,883 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:07:49,883 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:07:49,885 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:07:49,886 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:07:49,890 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:07:49,892 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:07:49,894 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:07:49,894 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:07:49,895 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:07:49,896 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:07:49,903 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:07:49,905 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:07:49,905 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:07:49,906 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:07:49,907 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:07:49,908 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:07:49,909 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:07:49,911 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:07:49,912 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:07:49,913 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:07:49,914 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:07:49,915 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:07:49,918 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:07:49,919 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:07:49,919 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.70 GB
2025-04-21 13:07:49,921 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.70 GB
2025-04-21 13:07:49,997 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:07:49,997 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:07:50,000 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:07:50,001 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:07:50,080 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:07:50,081 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:07:50,081 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:07:50,083 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:08:01,722 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:08:01,776 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.72 GB
2025-04-21 13:08:01,777 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:08:02,547 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:08:02,605 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.72 GB
2025-04-21 13:08:02,606 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:08:02,612 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-pro-preview-03-25 (Backend: OPENROUTER)
2025-04-21 13:08:02,618 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 13:08:02,620 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 13:08:02,623 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.72 GB
2025-04-21 13:08:02,626 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:08:02,629 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 13:08:02,630 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 13:08:02,634 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 13:08:02,636 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 13:08:02,638 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 13:08:02,639 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 13:08:02,640 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 13:08:07,196 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 13:08:07,206 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 13:08:07,207 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 13:08:07,208 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 13:08:07,209 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 13:08:07,209 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.17 GB, VMS: 40.10 GB
2025-04-21 13:08:07,210 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 13:08:07,211 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 13:08:07,213 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 13:08:07,214 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 13:08:07,640 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 13:08:07,641 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 13:08:07,663 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 13:08:07,664 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 13:08:07,665 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.17 GB, VMS: 40.10 GB
2025-04-21 13:08:07,667 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:08:07,667 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 13:08:08,084 - app_setup - INFO - Document loader shut down complete.
2025-04-21 13:08:08,086 - app_setup - INFO - Process memory - RSS: 2.17 GB, VMS: 40.10 GB
2025-04-21 13:08:08,088 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:08:08,089 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 13:08:08,090 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 13:08:08,091 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.17 GB, VMS: 40.10 GB
2025-04-21 13:08:08,092 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:08:08,093 - app_setup - INFO - Loading chunking model...
2025-04-21 13:08:08,094 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:08:08,094 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 13:08:08,095 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 13:08:08,096 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 13:08:08,097 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 13:08:11,568 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 13:08:11,570 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 3.47 seconds
2025-04-21 13:08:11,572 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 13:08:11,573 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:08:11,574 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 13:08:11,575 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: ee3e8c29-a990-4848-b020-4b0f2555fd5f, Type: .pdf)
2025-04-21 13:08:11,576 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 13:08:11,577 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 13:08:11,578 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 13:08:11,600 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 13:08:11,601 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 13:08:11,602 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 13:08:11,603 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 13:08:11,604 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 13:08:11,605 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 13:08:11,606 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 13:08:11,607 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 13:08:11,608 - app_setup - INFO - Shutting down chunking model...
2025-04-21 13:08:11,609 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:08:11,610 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 13:08:11,611 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 13:08:11,612 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 13:08:11,613 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 13:08:12,194 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 13:08:12,197 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 13:08:12,198 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:08:12,638 - app_setup - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 13:08:12,640 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:08:12,642 - app_setup - INFO - Total chunks generated: 2
2025-04-21 13:08:12,644 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 13:08:12,644 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 13:08:12,645 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 13:08:12,646 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 13:08:12,649 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 13:08:12,650 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-pro-preview-03-25, debug=True
2025-04-21 13:08:12,651 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 13:08:12,652 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:08:12,653 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 13:08:12,654 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 13:08:12,655 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 13:08:12,655 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 13:08:12,656 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 13:08:12,657 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:08:12,658 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 13:08:12,659 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 13:08:12,660 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 13:08:12,660 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 13:08:12,661 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-pro-preview-03-25).
2025-04-21 13:08:12,662 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 13:08:12,663 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 13:08:12,664 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 13:08:12,665 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 13:08:12,665 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 13:08:12,666 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 13:08:12,667 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 13:08:12,668 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:08:12,668 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:08:12,669 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:08:12,670 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:08:20,748 - src.utils.openrouter_manager - INFO - Detected JSON string in 'metadata'. Parsing...
2025-04-21 13:08:20,749 - src.utils.openrouter_manager - INFO - Successfully parsed nested string in 'metadata'.
2025-04-21 13:08:20,749 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:08:20,750 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk 551d6f79-30ef-43a9-ab76-fc65b2dfeac9): 1 validation error for EntityRelationshipList
entity_relationship_list.4.to_entity_type
  Input should be 'PERSON', 'NGO', 'GOVERNMENT_BODY', 'COMMERCIAL_COMPANY', 'LOCATION', 'POSITION', 'MONEY', 'ASSET' or 'EVENT' [type=literal_error, input_value='MONETARY_AMOUNT', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error. Raw: {'entity_relationship_list': [{'from_entity_type': 'PERSON', 'from_entity_name': 'Jason', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'MONETARY_AMOUNT', 'from_entity_name': 'thirty thousand pounds', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'LOCATION', 'from_entity_name': 'London', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'POSITION', 'from_entity_name': 'Software Engineer', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'PERSON', 'from_entity_name': 'Jason', 'relationship_type': 'CONNECTED_TO', 'relationship_description': 'earns', 'to_entity_name': 'thirty thousand pounds', 'to_entity_type': 'MONETARY_AMOUNT'}, {'from_entity_type': 'PERSON', 'from_entity_name': 'Jason', 'relationship_type': 'LOCATED_IN', 'relationship_description': 'lives in', 'to_entity_name': 'London', 'to_entity_type': 'LOCATION'}, {'from_entity_type': 'PERSON', 'from_entity_name': 'Jason', 'relationship_type': 'WORKS_FOR', 'relationship_description': 'works as a', 'to_entity_name': 'Software Engineer', 'to_entity_type': 'POSITION'}], 'metadata': {'summary': 'This text provides personal details about an individual, including their age, annual income (a monetary amount), city of residence (a location), and professional role (a position).', 'red_flags': 'Red flags: None detected.'}}
2025-04-21 13:08:20,754 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:08:20,755 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 18024
2025-04-21 13:08:20,755 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:08:20,756 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:08:32,259 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:08:32,260 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:08:32,261 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:08:32,262 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:08:32,263 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 19.60s. Success: 1, Errors: 1
2025-04-21 13:08:32,264 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 19.60s
2025-04-21 13:08:32,265 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 13:08:32,266 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 0 entities, 0 relationships.
2025-04-21 13:08:32,267 - src.core.extraction.entity_extractor - WARNING - No raw data to deduplicate or save.
2025-04-21 13:08:32,267 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 0 entities, 0 relationships.
2025-04-21 13:08:32,276 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 13:08:32,278 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 13:08:32,279 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 13:08:32,714 - app_setup - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 13:08:32,716 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:08:32,772 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:08:32,773 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 13:08:32,774 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 13:08:32,775 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 13:08:32,776 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 13:08:32,776 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 13:08:32,777 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 13:08:32,778 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 13:08:32,779 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 13:08:32,779 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 13:08:32,780 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 13:08:32,781 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 13:08:32,782 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 13:08:32,782 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 13:08:32,783 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 13:08:32,785 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:08:32,786 - app_setup - INFO - Loading indexing model...
2025-04-21 13:08:32,787 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 13:08:32,788 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 13:08:32,788 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 13:08:34,054 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 13:08:34,056 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.27 seconds
2025-04-21 13:08:34,057 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.58 GB, VMS: 43.74 GB
2025-04-21 13:08:34,059 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:08:34,162 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 13:08:34,163 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 13:08:34,164 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 13:08:34,165 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 13:08:34,166 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 13:08:34,170 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 13:08:34,187 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 13:08:34,188 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 13:08:34,189 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 13:08:34,190 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 13:08:34,191 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.03s (Success: True)
2025-04-21 13:08:34,241 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 13:08:34,242 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-21 13:08:34,605 - src.core.indexing.document_indexer - INFO - Collection created.
2025-04-21 13:08:35,056 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 13:08:35,059 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 13:08:35,060 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 13:08:35,061 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 13:08:41,228 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 6.17s
2025-04-21 13:08:41,229 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 13:08:41,231 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 13:08:41,282 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 13:08:41,284 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 551d6f79-30ef-43a9-ab76-fc65b2dfeac9...
2025-04-21 13:08:41,314 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.03s
2025-04-21 13:08:41,317 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.79 GB, VMS: 41.93 GB
2025-04-21 13:08:41,318 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 13:08:41,752 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 6.69s. Overall success for this batch: True
2025-04-21 13:08:41,756 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 7.56s (Overall Success: True)
2025-04-21 13:08:41,758 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 7.59s =====
2025-04-21 13:08:41,759 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 13:08:41,760 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 13:08:41,761 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 13:08:42,700 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 13:08:43,131 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 13:08:43,147 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 13:08:43,585 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 13:08:43,588 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.86 GB, VMS: 42.00 GB
2025-04-21 13:08:43,590 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:08:43,591 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 13:08:43,592 - app_setup - INFO - Shutting down indexing model...
2025-04-21 13:08:43,593 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 13:08:44,026 - app_setup - INFO - Process memory - RSS: 2.86 GB, VMS: 42.00 GB
2025-04-21 13:08:44,028 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:08:44,087 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 13:08:44,089 - app_setup - INFO - Process memory - RSS: 2.86 GB, VMS: 42.00 GB
2025-04-21 13:08:44,090 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:08:42,162 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:08:42,233 - app_setup - INFO - Process memory - RSS: 2.85 GB, VMS: 41.93 GB
2025-04-21 13:08:42,236 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:08:51,131 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:08:51,208 - app_setup - INFO - Process memory - RSS: 2.80 GB, VMS: 41.90 GB
2025-04-21 13:08:51,210 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:08:51,423 - src.core.query_system.query_engine - INFO - Retrieved 2 chunks for exploration.
2025-04-21 13:08:51,514 - src.core.query_system.query_engine - INFO - Retrieved 2 chunks for exploration.
2025-04-21 13:12:18,990 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:12:18,991 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:12:18,991 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:12:18,991 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:12:19,815 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:12:25,450 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 13:12:27,395 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:12:27,396 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:12:27,397 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:12:27,398 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:12:27,398 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:12:27,671 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 13:12:36,039 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:12:36,041 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:12:36,042 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:12:36,043 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 13:12:36,044 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:12:36,120 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:12:36,121 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:12:36,123 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:12:36,124 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:12:36,125 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:12:36,134 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:12:36,136 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:12:36,136 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:12:36,137 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:12:36,138 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:12:36,139 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:12:36,140 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:12:36,141 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.63 GB
2025-04-21 13:12:36,218 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:12:36,221 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:12:36,284 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 13:12:36,286 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:12:51,405 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:12:51,464 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:12:51,465 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:12:52,435 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:12:52,492 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:12:52,493 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:12:52,932 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:12:52,999 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:12:53,000 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:12:53,004 - app_setup - INFO - Clearing all indexed and extracted data...
2025-04-21 13:12:53,152 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-21 13:12:54,154 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 13:12:54,157 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-21 13:12:54,158 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 13:12:54,159 - src.core.query_system.query_engine - INFO - Internal BM25 state cleared.
2025-04-21 13:12:54,160 - app_setup - INFO - Data clearing successful via QueryEngine.
2025-04-21 13:12:54,162 - app_setup - INFO - Cleared relevant session state caches after data deletion.
2025-04-21 13:12:54,218 - app_setup - INFO - Collection info after clearing: {'exists': False}
2025-04-21 13:12:54,649 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:12:54,650 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:12:54,652 - app_setup - ERROR - Unhandled error in main application loop: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 127, in <module>
    main()
  File "/home/t/lm_rag/src/ui/app.py", line 74, in main
    selected_page = render_sidebar()
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/ui/app_ui_core.py", line 159, in render_sidebar
    st.session_state.confirm_delete = False; st.rerun()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 136, in __setattr__
    self[key] = value
    ~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 114, in __setitem__
    get_session_state()[key] = value
    ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py", line 101, in __setitem__
    self._state[key] = value
    ~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py", line 515, in __setitem__
    raise StreamlitAPIException(
streamlit.errors.StreamlitAPIException: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
2025-04-21 13:12:57,697 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:12:57,751 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:12:57,753 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:12:57,869 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 13:12:57,933 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 13:12:58,370 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:12:58,427 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:12:58,429 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:13:05,910 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:13:05,963 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.72 GB
2025-04-21 13:13:05,964 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:13:07,224 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:13:07,276 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.72 GB
2025-04-21 13:13:07,277 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:13:12,386 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:13:12,440 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:13:12,441 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:13:13,324 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:13:13,377 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:13:13,379 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:13:13,384 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-pro-preview-03-25 (Backend: OPENROUTER)
2025-04-21 13:13:13,387 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 13:13:13,389 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 13:13:13,392 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:13:13,394 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:13:13,398 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 13:13:13,400 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 13:13:13,405 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 13:13:13,408 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 13:13:13,409 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 13:13:13,410 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 13:13:13,411 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 13:13:19,238 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 13:13:19,251 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 13:13:19,252 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 13:13:19,253 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 13:13:19,254 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 13:13:19,254 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.16 GB, VMS: 40.04 GB
2025-04-21 13:13:19,255 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 13:13:19,256 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 13:13:19,258 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 13:13:19,259 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 13:13:19,675 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 13:13:19,677 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 13:13:19,700 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 13:13:19,702 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 13:13:19,703 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.16 GB, VMS: 40.04 GB
2025-04-21 13:13:19,704 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:13:19,705 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 13:13:20,116 - app_setup - INFO - Document loader shut down complete.
2025-04-21 13:13:20,118 - app_setup - INFO - Process memory - RSS: 2.16 GB, VMS: 40.04 GB
2025-04-21 13:13:20,119 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:13:20,121 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 13:13:20,123 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 13:13:20,124 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.16 GB, VMS: 40.04 GB
2025-04-21 13:13:20,125 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:13:20,126 - app_setup - INFO - Loading chunking model...
2025-04-21 13:13:20,127 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:13:20,128 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 13:13:20,129 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 13:13:20,130 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 13:13:20,131 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 13:13:25,011 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 13:13:25,012 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.88 seconds
2025-04-21 13:13:25,013 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.54 GB, VMS: 41.62 GB
2025-04-21 13:13:25,014 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:13:25,015 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 13:13:25,016 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: 44ed4bee-b80c-4ca6-99c5-18182c1f22d8, Type: .pdf)
2025-04-21 13:13:25,017 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 13:13:25,018 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 13:13:25,019 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 13:13:25,041 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 13:13:25,042 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 13:13:25,043 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 13:13:25,044 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 13:13:25,045 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 13:13:25,046 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.54 GB, VMS: 41.62 GB
2025-04-21 13:13:25,047 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 13:13:25,048 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 13:13:25,049 - app_setup - INFO - Shutting down chunking model...
2025-04-21 13:13:25,050 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:13:25,050 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 13:13:25,051 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 13:13:25,052 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 13:13:25,054 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 13:13:25,667 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 13:13:25,669 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.54 GB, VMS: 41.62 GB
2025-04-21 13:13:25,670 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:13:26,108 - app_setup - INFO - Process memory - RSS: 2.54 GB, VMS: 41.62 GB
2025-04-21 13:13:26,110 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:13:26,112 - app_setup - INFO - Total chunks generated: 2
2025-04-21 13:13:26,113 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 13:13:26,116 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 13:13:26,117 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 13:13:26,118 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 13:13:26,120 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 13:13:26,121 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-pro-preview-03-25, debug=True
2025-04-21 13:13:26,123 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.54 GB, VMS: 41.62 GB
2025-04-21 13:13:26,124 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:13:26,125 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 13:13:26,126 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 13:13:26,127 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 13:13:26,128 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 13:13:26,129 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.54 GB, VMS: 41.62 GB
2025-04-21 13:13:26,130 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:13:26,131 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 13:13:26,132 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 13:13:26,132 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 13:13:26,133 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 13:13:26,134 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-pro-preview-03-25).
2025-04-21 13:13:26,135 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 13:13:26,136 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 13:13:26,137 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 13:13:26,138 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 13:13:26,138 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 13:13:26,139 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 13:13:26,140 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 13:13:26,141 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:13:26,142 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:13:26,143 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:13:26,143 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:13:37,298 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:13:37,300 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 1.
2025-04-21 13:13:37,300 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 2.
2025-04-21 13:13:37,301 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 3.
2025-04-21 13:13:37,302 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 4.
2025-04-21 13:13:37,303 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 5.
2025-04-21 13:13:37,304 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 6.
2025-04-21 13:13:37,304 - src.utils.openrouter_manager - INFO - Skipped 7 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:13:37,305 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:13:37,306 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:13:37,307 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:13:37,308 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:13:37,308 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:13:37,309 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:14:10,530 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:14:10,531 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 1.
2025-04-21 13:14:10,531 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 2.
2025-04-21 13:14:10,532 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 3.
2025-04-21 13:14:10,533 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 4.
2025-04-21 13:14:10,534 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 5.
2025-04-21 13:14:10,535 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 6.
2025-04-21 13:14:10,535 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 7.
2025-04-21 13:14:10,536 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 8.
2025-04-21 13:14:10,537 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 9.
2025-04-21 13:14:10,538 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 10.
2025-04-21 13:14:10,538 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 11.
2025-04-21 13:14:10,539 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 12.
2025-04-21 13:14:10,540 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 13.
2025-04-21 13:14:10,541 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 14.
2025-04-21 13:14:10,542 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 15.
2025-04-21 13:14:10,542 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 16.
2025-04-21 13:14:10,543 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 17.
2025-04-21 13:14:10,544 - src.utils.openrouter_manager - INFO - Skipped 18 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:14:10,545 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:14:10,545 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:14:10,546 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 44.41s. Success: 2, Errors: 0
2025-04-21 13:14:10,547 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 44.41s
2025-04-21 13:14:10,548 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 13:14:10,549 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 0 entities, 0 relationships.
2025-04-21 13:14:10,550 - src.core.extraction.entity_extractor - WARNING - No raw data to deduplicate or save.
2025-04-21 13:14:10,550 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 0 entities, 0 relationships.
2025-04-21 13:14:10,551 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 13:14:10,552 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 13:14:10,553 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 13:14:10,986 - app_setup - INFO - Process memory - RSS: 2.54 GB, VMS: 41.62 GB
2025-04-21 13:14:10,988 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:14:11,039 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:14:11,040 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 13:14:11,041 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 13:14:11,042 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 13:14:11,043 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 13:14:11,044 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 13:14:11,044 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 13:14:11,045 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 13:14:11,046 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 13:14:11,046 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 13:14:11,047 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 13:14:11,048 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 13:14:11,049 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 13:14:11,049 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 13:14:11,050 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.54 GB, VMS: 41.62 GB
2025-04-21 13:14:11,051 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:14:11,052 - app_setup - INFO - Loading indexing model...
2025-04-21 13:14:11,053 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 13:14:11,053 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 13:14:11,054 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 13:14:12,297 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 13:14:12,299 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.24 seconds
2025-04-21 13:14:12,300 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.61 GB, VMS: 45.05 GB
2025-04-21 13:14:12,301 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:14:12,410 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 13:14:12,411 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 13:14:12,412 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 13:14:12,413 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 13:14:12,414 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 13:14:12,418 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 13:14:12,434 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 13:14:12,435 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 13:14:12,436 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 13:14:12,436 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 13:14:12,437 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.02s (Success: True)
2025-04-21 13:14:12,487 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 13:14:12,488 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-21 13:14:10,506 - src.core.indexing.document_indexer - INFO - Collection created.
2025-04-21 13:14:10,935 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 13:14:10,938 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 13:14:10,939 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 13:14:10,940 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 13:14:17,043 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 6.10s
2025-04-21 13:14:17,044 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 13:14:17,046 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 13:14:17,090 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 13:14:17,092 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: e466ae91-a380-42b6-b1ff-ba9354d2224e...
2025-04-21 13:14:17,106 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.01s
2025-04-21 13:14:17,109 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.36 GB, VMS: 42.93 GB
2025-04-21 13:14:17,110 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 13:14:17,537 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 6.60s. Overall success for this batch: True
2025-04-21 13:14:17,542 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 5.10s (Overall Success: True)
2025-04-21 13:14:17,543 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 5.13s =====
2025-04-21 13:14:17,543 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 13:14:17,544 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 13:14:17,545 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 13:14:18,201 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 13:14:18,625 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 13:14:18,640 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 13:14:19,065 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 13:14:19,068 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.44 GB, VMS: 42.93 GB
2025-04-21 13:14:19,069 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:14:19,070 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 13:14:19,071 - app_setup - INFO - Shutting down indexing model...
2025-04-21 13:14:19,072 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 13:14:19,498 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.93 GB
2025-04-21 13:14:19,500 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:14:19,564 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 13:14:19,566 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.93 GB
2025-04-21 13:14:19,567 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:14:20,022 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:14:20,097 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.93 GB
2025-04-21 13:14:20,098 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:14:44,673 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:14:44,736 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.90 GB
2025-04-21 13:14:44,737 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:14:44,901 - src.core.query_system.query_engine - INFO - Retrieved 2 chunks for exploration.
2025-04-21 13:14:44,976 - src.core.query_system.query_engine - INFO - Retrieved 2 chunks for exploration.
2025-04-21 13:19:41,390 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:19:41,391 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:19:41,391 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:19:41,391 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:19:42,234 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:19:48,096 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 13:19:50,097 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:19:50,098 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:19:50,099 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:19:50,100 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:19:50,100 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:19:50,397 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 13:19:59,219 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:19:59,222 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:19:59,223 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:19:59,224 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 13:19:59,226 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:19:59,301 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:19:59,303 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:19:59,305 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:19:59,307 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:19:59,308 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:19:59,333 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:19:59,335 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:19:59,336 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:19:59,337 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:19:59,338 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:19:59,339 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:19:59,340 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:19:59,341 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.63 GB
2025-04-21 13:19:59,423 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:19:59,425 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:19:59,490 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 13:19:59,491 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:20:17,149 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:20:17,212 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:20:17,213 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:20:17,904 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:20:17,967 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:20:17,969 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:20:17,979 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-pro-preview-03-25 (Backend: OPENROUTER)
2025-04-21 13:20:17,982 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 13:20:17,984 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 13:20:17,987 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:20:17,990 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:20:17,995 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 13:20:17,998 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 13:20:18,004 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 13:20:18,016 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 13:20:18,017 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 13:20:18,019 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 13:20:18,021 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 13:20:24,356 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 13:20:24,382 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 13:20:24,384 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 13:20:24,385 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 13:20:24,386 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 13:20:24,387 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.19 GB, VMS: 40.08 GB
2025-04-21 13:20:24,389 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 13:20:24,389 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 13:20:24,392 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 13:20:24,393 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 13:20:24,832 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 13:20:24,833 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 13:20:24,855 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 13:20:24,856 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 13:20:24,857 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.19 GB, VMS: 40.08 GB
2025-04-21 13:20:24,858 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:20:24,860 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 13:20:25,285 - app_setup - INFO - Document loader shut down complete.
2025-04-21 13:20:25,288 - app_setup - INFO - Process memory - RSS: 2.19 GB, VMS: 40.08 GB
2025-04-21 13:20:25,290 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:20:25,291 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 13:20:25,292 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 13:20:25,293 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.19 GB, VMS: 40.08 GB
2025-04-21 13:20:25,294 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:20:25,295 - app_setup - INFO - Loading chunking model...
2025-04-21 13:20:25,296 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:20:25,296 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 13:20:25,297 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 13:20:25,298 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 13:20:25,299 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 13:20:30,070 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 13:20:30,071 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.77 seconds
2025-04-21 13:20:30,072 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:20:30,073 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:20:30,074 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 13:20:30,075 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: 379662ab-5ca9-41b2-91e4-bbef5738ce96, Type: .pdf)
2025-04-21 13:20:30,076 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 13:20:30,077 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 13:20:30,078 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 13:20:30,102 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 13:20:30,103 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 13:20:30,105 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 13:20:30,105 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 13:20:30,106 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 13:20:30,107 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:20:30,108 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 13:20:30,109 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 13:20:30,110 - app_setup - INFO - Shutting down chunking model...
2025-04-21 13:20:30,111 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:20:30,112 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 13:20:30,113 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 13:20:30,114 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 13:20:30,116 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 13:20:30,719 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 13:20:30,721 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:20:30,722 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:20:31,143 - app_setup - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:20:31,144 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:20:31,153 - app_setup - INFO - Total chunks generated: 2
2025-04-21 13:20:31,154 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 13:20:31,155 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 13:20:31,156 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 13:20:31,156 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 13:20:31,159 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 13:20:31,160 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-pro-preview-03-25, debug=True
2025-04-21 13:20:31,161 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:20:31,162 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:20:31,163 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 13:20:31,164 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 13:20:31,165 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 13:20:31,166 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 13:20:31,167 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:20:31,168 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:20:31,168 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 13:20:31,169 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 13:20:31,170 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 13:20:31,171 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 13:20:31,171 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-pro-preview-03-25).
2025-04-21 13:20:31,172 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 13:20:31,173 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 13:20:31,174 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 13:20:31,174 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 13:20:31,175 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 13:20:31,176 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 13:20:31,178 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 13:20:31,180 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:20:31,180 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:20:31,181 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:20:31,182 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:20:41,252 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:20:41,253 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:20:41,254 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:20:41,255 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:20:41,256 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:20:41,257 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:20:41,258 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:20:41,258 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:21:14,554 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:21:14,555 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:21:14,556 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:21:14,557 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:21:14,558 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 43.38s. Success: 2, Errors: 0
2025-04-21 13:21:14,559 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 43.39s
2025-04-21 13:21:14,561 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 13:21:14,562 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 0 entities, 0 relationships.
2025-04-21 13:21:14,563 - src.core.extraction.entity_extractor - WARNING - No raw data to deduplicate or save.
2025-04-21 13:21:14,564 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 0 entities, 0 relationships.
2025-04-21 13:21:14,572 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 13:21:14,573 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 13:21:14,574 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 13:21:15,054 - app_setup - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:21:15,056 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:21:15,112 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:21:15,113 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 13:21:15,114 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 13:21:15,115 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 13:21:15,116 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 13:21:15,117 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 13:21:15,118 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 13:21:15,118 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 13:21:15,119 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 13:21:15,120 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 13:21:15,121 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 13:21:15,122 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 13:21:15,122 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 13:21:15,123 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 13:21:15,124 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:21:15,125 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:21:15,126 - app_setup - INFO - Loading indexing model...
2025-04-21 13:21:15,127 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 13:21:15,128 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 13:21:15,128 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 13:21:16,511 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 13:21:16,514 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.38 seconds
2025-04-21 13:21:16,516 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.64 GB, VMS: 45.09 GB
2025-04-21 13:21:16,517 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:21:16,637 - app_setup - WARNING - Error checking/clearing collection: 'DocumentIndexer' object has no attribute 'get_embedding_dimension'
2025-04-21 13:21:16,639 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 13:21:16,640 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 13:21:16,641 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 13:21:16,642 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 13:21:16,643 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 13:21:16,648 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 13:21:16,667 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 13:21:16,668 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 13:21:16,669 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 13:21:16,670 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 13:21:16,671 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.03s (Success: True)
2025-04-21 13:21:16,728 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 13:21:16,729 - src.core.indexing.document_indexer - INFO - Collection 'anticorruption_rag_e5_instruct' exists. Verifying configuration...
2025-04-21 13:21:17,223 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 13:21:17,226 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 13:21:17,227 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 13:21:17,228 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 13:21:23,495 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 6.27s
2025-04-21 13:21:23,496 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 13:21:23,498 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 13:21:23,547 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 13:21:23,548 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 30b77d0e-cd33-4699-9b0d-cb75d3fc16cd...
2025-04-21 13:21:23,565 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.02s
2025-04-21 13:21:23,567 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.29 GB, VMS: 42.97 GB
2025-04-21 13:21:23,569 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 13:21:24,069 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 6.84s. Overall success for this batch: True
2025-04-21 13:21:24,073 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 7.40s (Overall Success: True)
2025-04-21 13:21:24,074 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 7.43s =====
2025-04-21 13:21:24,075 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 13:21:24,076 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 13:21:24,077 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 13:21:24,754 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 13:21:25,366 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 13:21:25,383 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 13:21:25,899 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 13:21:25,903 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.46 GB, VMS: 42.97 GB
2025-04-21 13:21:25,906 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:21:25,907 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 13:21:25,909 - app_setup - INFO - Shutting down indexing model...
2025-04-21 13:21:25,911 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 13:21:26,384 - app_setup - INFO - Process memory - RSS: 3.46 GB, VMS: 42.97 GB
2025-04-21 13:21:26,386 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:21:26,451 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 13:21:26,453 - app_setup - INFO - Process memory - RSS: 3.46 GB, VMS: 42.97 GB
2025-04-21 13:21:26,454 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:21:26,934 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:21:27,027 - app_setup - INFO - Process memory - RSS: 3.46 GB, VMS: 42.97 GB
2025-04-21 13:21:27,034 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:22:22,989 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:22:22,989 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:22:22,989 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:22:22,989 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:22:23,483 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:22:27,024 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 13:22:28,261 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:22:28,263 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:22:28,264 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:22:28,265 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:22:28,266 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:22:28,410 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 13:22:35,812 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:22:35,814 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:22:35,815 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:22:35,816 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 13:22:35,817 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:22:35,861 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:22:35,862 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:22:35,864 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:22:35,865 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:22:35,866 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:22:35,868 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:22:35,870 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:22:35,871 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:22:35,872 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:22:35,873 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:22:35,873 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:22:35,874 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:22:35,875 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.63 GB
2025-04-21 13:22:35,950 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:22:35,953 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:22:36,010 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:22:36,011 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:22:42,456 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:22:42,516 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:22:42,517 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:22:43,478 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:22:43,536 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:22:43,537 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:22:43,960 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:22:44,018 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:22:44,019 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:22:44,024 - app_setup - INFO - Clearing all indexed and extracted data...
2025-04-21 13:22:44,171 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-21 13:22:45,173 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 13:22:45,175 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-21 13:22:45,176 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 13:22:45,177 - src.core.query_system.query_engine - INFO - Internal BM25 state cleared.
2025-04-21 13:22:45,179 - app_setup - INFO - Data clearing successful via QueryEngine.
2025-04-21 13:22:45,180 - app_setup - INFO - Cleared relevant session state caches after data deletion.
2025-04-21 13:22:45,236 - app_setup - INFO - Collection info after clearing: {'exists': False}
2025-04-21 13:22:45,654 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:22:45,656 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:22:45,658 - app_setup - ERROR - Unhandled error in main application loop: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 127, in <module>
    main()
  File "/home/t/lm_rag/src/ui/app.py", line 74, in main
    selected_page = render_sidebar()
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/ui/app_ui_core.py", line 159, in render_sidebar
    st.session_state.confirm_delete = False; st.rerun()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 136, in __setattr__
    self[key] = value
    ~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 114, in __setitem__
    get_session_state()[key] = value
    ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py", line 101, in __setitem__
    self._state[key] = value
    ~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py", line 515, in __setitem__
    raise StreamlitAPIException(
streamlit.errors.StreamlitAPIException: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
2025-04-21 13:22:49,022 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:22:49,074 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:22:49,076 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:22:49,197 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 13:22:49,256 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 13:22:49,683 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:22:49,743 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:22:49,744 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:22:56,827 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:22:56,885 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:22:56,887 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:22:57,835 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:22:57,887 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:22:57,889 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:22:57,895 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-pro-preview-03-25 (Backend: OPENROUTER)
2025-04-21 13:22:57,900 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 13:22:57,902 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 13:22:57,905 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:22:57,908 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:22:57,910 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 13:22:57,911 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 13:22:57,916 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 13:22:57,918 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 13:22:57,919 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 13:22:57,920 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 13:22:57,921 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 13:23:02,027 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 13:23:02,037 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 13:23:02,039 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 13:23:02,040 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 13:23:02,040 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 13:23:02,041 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.17 GB, VMS: 40.10 GB
2025-04-21 13:23:02,042 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 13:23:02,043 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 13:23:02,045 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 13:23:02,046 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 13:23:02,480 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 13:23:02,482 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 13:23:02,504 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 13:23:02,505 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 13:23:02,506 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.17 GB, VMS: 40.10 GB
2025-04-21 13:23:02,507 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:23:02,508 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 13:23:02,929 - app_setup - INFO - Document loader shut down complete.
2025-04-21 13:23:02,931 - app_setup - INFO - Process memory - RSS: 2.17 GB, VMS: 40.10 GB
2025-04-21 13:23:02,932 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:23:02,933 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 13:23:02,934 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 13:23:02,935 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.17 GB, VMS: 40.10 GB
2025-04-21 13:23:02,936 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:23:02,937 - app_setup - INFO - Loading chunking model...
2025-04-21 13:23:02,938 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:23:02,938 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 13:23:02,939 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 13:23:02,940 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 13:23:02,941 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 13:23:07,071 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 13:23:07,072 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.13 seconds
2025-04-21 13:23:07,078 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:23:07,079 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:23:07,080 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 13:23:07,081 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: c9024895-8adc-4c59-9e51-ec1d25621295, Type: .pdf)
2025-04-21 13:23:07,082 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 13:23:07,083 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 13:23:07,084 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 13:23:07,105 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 13:23:07,107 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 13:23:07,108 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 13:23:07,109 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 13:23:07,110 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 13:23:07,112 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:23:07,114 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 13:23:07,115 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 13:23:07,116 - app_setup - INFO - Shutting down chunking model...
2025-04-21 13:23:07,117 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:23:07,118 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 13:23:07,119 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 13:23:07,120 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 13:23:07,122 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 13:23:08,188 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 13:23:08,191 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:23:08,193 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:23:08,652 - app_setup - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:23:08,654 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:23:08,656 - app_setup - INFO - Total chunks generated: 2
2025-04-21 13:23:08,658 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 13:23:08,659 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 13:23:08,660 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 13:23:08,661 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 13:23:08,664 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 13:23:08,665 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-pro-preview-03-25, debug=True
2025-04-21 13:23:08,666 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:23:08,667 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:23:08,668 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 13:23:08,669 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 13:23:08,670 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 13:23:08,671 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 13:23:08,672 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:23:08,673 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:23:08,674 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 13:23:08,675 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 13:23:08,675 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 13:23:08,676 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 13:23:08,677 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-pro-preview-03-25).
2025-04-21 13:23:08,678 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 13:23:08,679 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 13:23:08,680 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 13:23:08,680 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 13:23:08,681 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 13:23:08,682 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 13:23:08,683 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 13:23:08,684 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:23:08,684 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:23:08,685 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:23:08,686 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:23:26,822 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:23:26,824 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:23:26,825 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:23:26,825 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:23:26,826 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:23:26,827 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:23:26,828 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:23:26,829 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:23:35,724 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:23:35,726 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:23:35,727 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:23:35,727 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:23:35,728 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 27.05s. Success: 2, Errors: 0
2025-04-21 13:23:35,729 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 27.05s
2025-04-21 13:23:35,730 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 13:23:35,731 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 0 entities, 0 relationships.
2025-04-21 13:23:35,732 - src.core.extraction.entity_extractor - WARNING - No raw data to deduplicate or save.
2025-04-21 13:23:35,732 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 0 entities, 0 relationships.
2025-04-21 13:23:35,733 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 13:23:35,734 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 13:23:35,735 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 13:23:36,173 - app_setup - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:23:36,175 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:23:36,231 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:23:36,232 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 13:23:36,233 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 13:23:36,233 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 13:23:36,234 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 13:23:36,235 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 13:23:36,237 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 13:23:36,237 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 13:23:36,238 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 13:23:36,239 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 13:23:36,240 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 13:23:36,241 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 13:23:36,241 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 13:23:36,242 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 13:23:36,243 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:23:36,244 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:23:36,246 - app_setup - INFO - Loading indexing model...
2025-04-21 13:23:36,247 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 13:23:36,248 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 13:23:36,250 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 13:23:37,337 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 13:23:37,338 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.09 seconds
2025-04-21 13:23:37,339 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.61 GB, VMS: 45.05 GB
2025-04-21 13:23:37,341 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:23:37,438 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 13:23:37,439 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 13:23:37,440 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 13:23:37,440 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 13:23:37,441 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 13:23:37,443 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 13:23:37,456 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 13:23:37,458 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 13:23:37,458 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 13:23:37,459 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 13:23:37,460 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.02s (Success: True)
2025-04-21 13:23:37,508 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 13:23:37,509 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-21 13:23:37,876 - src.core.indexing.document_indexer - INFO - Collection created.
2025-04-21 13:23:38,323 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 13:23:38,325 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 13:23:38,327 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 13:23:38,328 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 13:23:39,332 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 1.00s
2025-04-21 13:23:39,334 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 13:23:39,337 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 13:23:39,397 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 13:23:39,399 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 0cd93bfa-ae15-4d25-8609-e7af90e7f9a2...
2025-04-21 13:23:39,456 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.06s
2025-04-21 13:23:39,459 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.29 GB, VMS: 42.93 GB
2025-04-21 13:23:39,461 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 13:23:37,601 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in -0.73s. Overall success for this batch: True
2025-04-21 13:23:37,605 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 0.14s (Overall Success: True)
2025-04-21 13:23:37,606 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 0.17s =====
2025-04-21 13:23:37,607 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 13:23:37,607 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 13:23:37,608 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 13:23:38,164 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 13:23:38,611 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 13:23:38,625 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 13:23:39,070 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 13:23:39,071 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.44 GB, VMS: 42.93 GB
2025-04-21 13:23:39,072 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:23:39,073 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 13:23:39,074 - app_setup - INFO - Shutting down indexing model...
2025-04-21 13:23:39,075 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 13:23:39,546 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.93 GB
2025-04-21 13:23:39,548 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:23:39,607 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 13:23:39,608 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.93 GB
2025-04-21 13:23:39,609 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:23:40,068 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:23:40,144 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.93 GB
2025-04-21 13:23:40,147 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:24:24,216 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:24:24,216 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:24:24,216 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:24:24,216 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:24:24,723 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:24:28,246 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 13:24:29,499 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:24:29,500 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:24:29,501 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:24:29,502 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:24:29,503 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:24:29,644 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 13:24:36,789 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:24:36,790 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:24:36,793 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:24:36,794 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:24:36,796 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:24:36,797 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:24:36,798 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 13:24:36,799 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 13:24:36,800 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:24:36,801 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:24:36,855 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:24:36,856 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:24:36,857 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:24:36,860 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:24:36,862 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:24:36,864 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:24:36,865 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:24:36,867 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:24:36,867 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:24:36,869 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:24:36,875 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:24:36,878 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:24:36,878 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:24:36,880 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:24:36,881 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:24:36,882 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:24:36,883 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:24:36,884 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:24:36,886 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:24:36,887 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:24:36,888 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:24:36,889 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:24:36,890 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:24:36,891 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:24:36,894 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.70 GB
2025-04-21 13:24:36,894 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.70 GB
2025-04-21 13:24:36,972 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:24:36,972 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:24:36,975 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:24:36,976 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:24:37,064 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:24:37,064 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:24:37,065 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:24:37,067 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:24:52,198 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:24:52,257 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:24:52,258 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:24:53,184 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:24:53,242 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:24:53,244 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:24:53,676 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:24:53,741 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:24:53,742 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:24:53,747 - app_setup - INFO - Clearing all indexed and extracted data...
2025-04-21 13:24:53,882 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-21 13:24:54,953 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 13:24:54,954 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-21 13:24:54,955 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 13:24:54,956 - src.core.query_system.query_engine - INFO - Internal BM25 state cleared.
2025-04-21 13:24:54,958 - app_setup - INFO - Data clearing successful via QueryEngine.
2025-04-21 13:24:54,959 - app_setup - INFO - Cleared relevant session state caches after data deletion.
2025-04-21 13:24:55,016 - app_setup - INFO - Collection info after clearing: {'exists': False}
2025-04-21 13:24:55,473 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:24:55,475 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:24:55,477 - app_setup - ERROR - Unhandled error in main application loop: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 127, in <module>
    main()
  File "/home/t/lm_rag/src/ui/app.py", line 74, in main
    selected_page = render_sidebar()
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/ui/app_ui_core.py", line 159, in render_sidebar
    st.session_state.confirm_delete = False; st.rerun()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 136, in __setattr__
    self[key] = value
    ~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 114, in __setitem__
    get_session_state()[key] = value
    ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py", line 101, in __setitem__
    self._state[key] = value
    ~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py", line 515, in __setitem__
    raise StreamlitAPIException(
streamlit.errors.StreamlitAPIException: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
2025-04-21 13:24:58,117 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:24:58,168 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:24:58,169 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:24:58,287 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 13:24:58,343 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 13:24:58,778 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:24:58,833 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:24:58,835 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:25:03,972 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:25:04,028 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:25:04,029 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:25:04,868 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:25:04,922 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:25:04,924 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:25:04,932 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-pro-preview-03-25 (Backend: OPENROUTER)
2025-04-21 13:25:04,940 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 13:25:04,942 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 13:25:04,946 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.72 GB
2025-04-21 13:25:04,948 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:25:04,950 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 13:25:04,952 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 13:25:04,959 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 13:25:04,962 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 13:25:04,963 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 13:25:04,965 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 13:25:04,966 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 13:25:06,986 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 13:25:07,009 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 13:25:07,011 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 13:25:07,013 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 13:25:07,014 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 13:25:07,015 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 13:25:07,016 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 13:25:07,017 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 13:25:07,019 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 13:25:07,020 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 13:25:07,453 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 13:25:07,454 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 13:25:07,477 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 13:25:07,478 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 13:25:07,479 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 13:25:07,481 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:25:07,481 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 13:25:07,911 - app_setup - INFO - Document loader shut down complete.
2025-04-21 13:25:07,913 - app_setup - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 13:25:07,914 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:25:07,915 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 13:25:07,916 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 13:25:07,918 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 13:25:07,919 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:25:07,920 - app_setup - INFO - Loading chunking model...
2025-04-21 13:25:07,921 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:25:07,922 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 13:25:07,922 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 13:25:07,923 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 13:25:07,924 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 13:25:11,280 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 13:25:11,282 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 3.36 seconds
2025-04-21 13:25:11,283 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:25:11,285 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:25:11,285 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 13:25:11,286 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: 2baf7d74-856d-4293-aac4-8621289b990b, Type: .pdf)
2025-04-21 13:25:11,287 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 13:25:11,288 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 13:25:11,289 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 13:25:11,310 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 13:25:11,311 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 13:25:11,313 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 13:25:11,314 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 13:25:11,314 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 13:25:11,315 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:25:11,316 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 13:25:11,317 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 13:25:11,318 - app_setup - INFO - Shutting down chunking model...
2025-04-21 13:25:11,319 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:25:11,320 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 13:25:11,320 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 13:25:11,321 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 13:25:11,323 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 13:25:11,919 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 13:25:11,920 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:25:11,921 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:25:12,350 - app_setup - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:25:12,352 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:25:12,353 - app_setup - INFO - Total chunks generated: 2
2025-04-21 13:25:12,354 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-pro-preview-03-25 (Backend: openrouter)
2025-04-21 13:25:12,355 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 13:25:12,356 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 13:25:12,356 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 13:25:12,359 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 13:25:12,360 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-pro-preview-03-25, debug=True
2025-04-21 13:25:12,361 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:25:12,362 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:25:12,364 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 13:25:12,364 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 13:25:12,366 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 13:25:12,366 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 13:25:12,368 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:25:12,369 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:25:12,370 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 13:25:12,371 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 13:25:12,372 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 13:25:12,372 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 13:25:12,373 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-pro-preview-03-25).
2025-04-21 13:25:12,374 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 13:25:12,375 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 13:25:12,376 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 13:25:12,376 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 13:25:12,377 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 13:25:12,378 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 13:25:12,379 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 13:25:12,380 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:25:12,381 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:25:12,381 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:25:12,382 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:25:22,625 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:25:22,626 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:25:22,627 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:25:22,627 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:25:22,628 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:25:22,629 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:25:22,630 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:25:22,631 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:25:35,599 - src.utils.openrouter_manager - WARNING - Skipping non-JSON string placeholder 'string' in entity_relationship_list at index 0.
2025-04-21 13:25:35,600 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:25:35,601 - src.utils.openrouter_manager - WARNING - Metadata value is a non-JSON string placeholder: 'string'. Setting metadata to None.
2025-04-21 13:25:35,602 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:25:35,603 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 23.23s. Success: 2, Errors: 0
2025-04-21 13:25:35,604 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 23.23s
2025-04-21 13:25:35,605 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 13:25:35,605 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 0 entities, 0 relationships.
2025-04-21 13:25:35,606 - src.core.extraction.entity_extractor - WARNING - No raw data to deduplicate or save.
2025-04-21 13:25:35,607 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 0 entities, 0 relationships.
2025-04-21 13:25:35,608 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 13:25:35,609 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 13:25:35,610 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 13:25:36,053 - app_setup - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:25:36,055 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:25:36,108 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-pro-preview-03-25
2025-04-21 13:25:36,109 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 13:25:36,111 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 13:25:36,112 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 13:25:36,113 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 13:25:36,113 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 13:25:36,114 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 13:25:36,115 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 13:25:36,116 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 13:25:36,117 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 13:25:36,117 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 13:25:36,118 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 13:25:36,119 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 13:25:36,120 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 13:25:36,121 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.55 GB, VMS: 41.62 GB
2025-04-21 13:25:36,122 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:25:36,123 - app_setup - INFO - Loading indexing model...
2025-04-21 13:25:36,123 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 13:25:36,124 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 13:25:36,125 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 13:25:37,201 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 13:25:37,202 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.08 seconds
2025-04-21 13:25:37,203 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.62 GB, VMS: 45.17 GB
2025-04-21 13:25:37,204 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:25:37,303 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 13:25:37,304 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 13:25:37,305 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 13:25:37,306 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 13:25:37,307 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 13:25:37,309 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 13:25:37,322 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 13:25:37,324 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 13:25:37,325 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 13:25:37,326 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 13:25:37,327 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.02s (Success: True)
2025-04-21 13:25:37,380 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 13:25:37,381 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-21 13:25:37,736 - src.core.indexing.document_indexer - INFO - Collection created.
2025-04-21 13:25:38,181 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 13:25:38,183 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 13:25:38,184 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 13:25:38,184 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 13:25:36,919 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in -1.27s
2025-04-21 13:25:36,921 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 13:25:36,924 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 13:25:36,986 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 13:25:36,988 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 0d096ce5-d449-4ee6-881e-a8a7671bf55d...
2025-04-21 13:25:37,008 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.02s
2025-04-21 13:25:37,012 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.28 GB, VMS: 43.05 GB
2025-04-21 13:25:37,014 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 13:25:37,605 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in -0.58s. Overall success for this batch: True
2025-04-21 13:25:37,608 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 0.28s (Overall Success: True)
2025-04-21 13:25:37,610 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 0.31s =====
2025-04-21 13:25:37,612 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 13:25:37,613 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 13:25:37,614 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 13:25:38,385 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 13:25:38,840 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 13:25:38,855 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 13:25:39,306 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 13:25:39,307 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.45 GB, VMS: 43.05 GB
2025-04-21 13:25:39,309 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:25:39,309 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 13:25:39,310 - app_setup - INFO - Shutting down indexing model...
2025-04-21 13:25:39,311 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 13:25:39,779 - app_setup - INFO - Process memory - RSS: 3.45 GB, VMS: 43.05 GB
2025-04-21 13:25:39,780 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:25:39,837 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 13:25:39,838 - app_setup - INFO - Process memory - RSS: 3.45 GB, VMS: 43.05 GB
2025-04-21 13:25:39,839 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:25:40,301 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:25:40,377 - app_setup - INFO - Process memory - RSS: 3.45 GB, VMS: 43.05 GB
2025-04-21 13:25:40,379 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:26:03,201 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:26:03,201 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:26:03,202 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:26:03,202 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:26:03,683 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:26:07,620 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 13:26:06,648 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:26:06,650 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:26:06,651 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:26:06,652 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:26:06,653 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:26:06,807 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 13:26:14,391 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:26:14,394 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:26:14,395 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:26:14,396 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 13:26:14,397 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:26:14,441 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:26:14,443 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:26:14,445 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:26:14,446 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:26:14,447 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:26:14,449 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:26:14,451 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:26:14,452 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:26:14,453 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:26:14,454 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:26:14,454 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:26:14,455 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:26:14,456 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.63 GB
2025-04-21 13:26:14,531 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:26:14,534 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:26:14,594 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:26:14,596 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:26:21,108 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:26:21,171 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:26:21,172 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:26:22,089 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:26:22,150 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:26:22,152 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:26:22,588 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:26:22,651 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:26:22,654 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:26:22,661 - app_setup - INFO - Clearing all indexed and extracted data...
2025-04-21 13:26:22,812 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-21 13:26:23,817 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 13:26:23,818 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-21 13:26:23,819 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 13:26:23,820 - src.core.query_system.query_engine - INFO - Internal BM25 state cleared.
2025-04-21 13:26:23,821 - app_setup - INFO - Data clearing successful via QueryEngine.
2025-04-21 13:26:23,823 - app_setup - INFO - Cleared relevant session state caches after data deletion.
2025-04-21 13:26:23,883 - app_setup - INFO - Collection info after clearing: {'exists': False}
2025-04-21 13:26:24,317 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:26:24,318 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:26:24,320 - app_setup - ERROR - Unhandled error in main application loop: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 127, in <module>
    main()
  File "/home/t/lm_rag/src/ui/app.py", line 74, in main
    selected_page = render_sidebar()
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/ui/app_ui_core.py", line 159, in render_sidebar
    st.session_state.confirm_delete = False; st.rerun()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 136, in __setattr__
    self[key] = value
    ~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 114, in __setitem__
    get_session_state()[key] = value
    ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py", line 101, in __setitem__
    self._state[key] = value
    ~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py", line 515, in __setitem__
    raise StreamlitAPIException(
streamlit.errors.StreamlitAPIException: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
2025-04-21 13:26:24,822 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:26:24,880 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:26:24,881 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:26:25,010 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 13:26:25,067 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 13:26:25,498 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:26:25,553 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:26:25,554 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:26:30,799 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:26:30,856 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:26:30,858 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:26:32,259 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:26:32,309 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:26:32,310 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:26:32,315 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-flash-preview (Backend: OPENROUTER)
2025-04-21 13:26:32,320 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 13:26:32,322 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 13:26:32,325 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 13:26:32,327 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:26:32,329 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 13:26:32,331 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 13:26:32,336 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 13:26:32,339 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 13:26:32,340 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 13:26:32,342 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 13:26:32,343 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 13:26:36,964 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 13:26:36,974 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 13:26:36,975 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 13:26:36,977 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 13:26:36,978 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 13:26:36,979 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.18 GB, VMS: 40.10 GB
2025-04-21 13:26:36,980 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 13:26:36,980 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 13:26:36,982 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 13:26:36,984 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 13:26:37,416 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 13:26:37,418 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 13:26:37,441 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 13:26:37,442 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 13:26:37,443 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.18 GB, VMS: 40.10 GB
2025-04-21 13:26:37,444 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:26:37,445 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 13:26:37,860 - app_setup - INFO - Document loader shut down complete.
2025-04-21 13:26:37,862 - app_setup - INFO - Process memory - RSS: 2.18 GB, VMS: 40.10 GB
2025-04-21 13:26:37,864 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:26:37,868 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 13:26:37,870 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 13:26:37,871 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.18 GB, VMS: 40.10 GB
2025-04-21 13:26:37,872 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:26:37,873 - app_setup - INFO - Loading chunking model...
2025-04-21 13:26:37,873 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:26:37,874 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 13:26:37,875 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 13:26:37,876 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 13:26:37,877 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 13:26:38,451 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 13:26:38,452 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 0.57 seconds
2025-04-21 13:26:38,453 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:26:38,455 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:26:38,455 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 13:26:38,456 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: 0305736c-268c-4c0f-a879-8d75fccc7deb, Type: .pdf)
2025-04-21 13:26:38,457 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 13:26:38,458 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 13:26:38,459 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 13:26:38,487 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 13:26:38,488 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 13:26:38,489 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 13:26:38,490 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 13:26:38,491 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 13:26:38,492 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:26:38,493 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 13:26:38,494 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 13:26:38,495 - app_setup - INFO - Shutting down chunking model...
2025-04-21 13:26:38,496 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:26:38,497 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 13:26:38,498 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 13:26:38,498 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 13:26:38,500 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 13:26:39,089 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 13:26:39,091 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:26:39,092 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:26:39,516 - app_setup - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:26:39,518 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:26:39,543 - app_setup - INFO - Total chunks generated: 2
2025-04-21 13:26:39,544 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 13:26:39,545 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 13:26:39,546 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 13:26:39,547 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 13:26:39,550 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 13:26:39,551 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-flash-preview, debug=True
2025-04-21 13:26:39,552 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:26:39,553 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:26:39,554 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 13:26:39,555 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 13:26:39,556 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 13:26:39,556 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 13:26:39,558 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:26:39,559 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:26:39,560 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 13:26:39,561 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 13:26:39,562 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 13:26:39,562 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 13:26:39,563 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-flash-preview).
2025-04-21 13:26:39,564 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 13:26:39,565 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 13:26:39,566 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 13:26:39,567 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 13:26:39,568 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 13:26:39,568 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 13:26:39,569 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 13:26:39,570 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:26:39,571 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:26:39,572 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:26:39,573 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 13:26:41,240 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:26:41,242 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:26:41,243 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:26:41,243 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:26:41,244 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:26:41,245 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 13:27:08,030 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting value: line 1255 column 10 (char 12563)
2025-04-21 13:27:08,032 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
2025-04-21 13:27:08,111 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,

2025-04-21 13:27:05,775 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 6735874c-eadd-425e-a838-205beba5a5ce: Model returned invalid JSON content: Expecting value: line 1255 column 10 (char 12563)
2025-04-21 13:27:05,777 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 26.21s. Success: 1, Errors: 1
2025-04-21 13:27:05,778 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 26.21s
2025-04-21 13:27:05,779 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 13:27:05,779 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 0 entities, 0 relationships.
2025-04-21 13:27:05,780 - src.core.extraction.entity_extractor - WARNING - No raw data to deduplicate or save.
2025-04-21 13:27:05,781 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 0 entities, 0 relationships.
2025-04-21 13:27:05,782 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 13:27:05,783 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 13:27:05,784 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 13:27:06,234 - app_setup - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:27:06,236 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:27:06,288 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-flash-preview
2025-04-21 13:27:06,289 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 13:27:06,290 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 13:27:06,292 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 13:27:06,292 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 13:27:06,293 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 13:27:06,294 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 13:27:06,295 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 13:27:06,296 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 13:27:06,296 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 13:27:06,297 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 13:27:06,298 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 13:27:06,299 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 13:27:06,299 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 13:27:06,300 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:27:06,301 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:27:06,302 - app_setup - INFO - Loading indexing model...
2025-04-21 13:27:06,303 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 13:27:06,304 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 13:27:06,304 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 13:27:07,470 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 13:27:07,471 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.17 seconds
2025-04-21 13:27:07,472 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.63 GB, VMS: 45.11 GB
2025-04-21 13:27:07,473 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:27:07,573 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 13:27:07,574 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 13:27:07,574 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 13:27:07,575 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 13:27:07,576 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 13:27:07,578 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 13:27:07,591 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 13:27:07,593 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 13:27:07,593 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 13:27:07,595 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 13:27:07,596 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.02s (Success: True)
2025-04-21 13:27:07,645 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 13:27:07,645 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-21 13:27:08,025 - src.core.indexing.document_indexer - INFO - Collection created.
2025-04-21 13:27:08,465 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 13:27:08,467 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 13:27:08,468 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 13:27:08,468 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 13:27:09,821 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 1.35s
2025-04-21 13:27:09,823 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 13:27:09,826 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 13:27:09,890 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 13:27:09,891 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 9a7bade7-b410-44ed-a5a2-18ac96ddbe6d...
2025-04-21 13:27:09,941 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.05s
2025-04-21 13:27:09,944 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.35 GB, VMS: 42.99 GB
2025-04-21 13:27:09,946 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 13:27:10,529 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 2.06s. Overall success for this batch: True
2025-04-21 13:27:10,536 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 2.94s (Overall Success: True)
2025-04-21 13:27:10,540 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 2.97s =====
2025-04-21 13:27:10,543 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 13:27:10,546 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 13:27:10,550 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 13:27:11,599 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 13:27:12,069 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 13:27:12,082 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 13:27:12,515 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 13:27:12,516 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.46 GB, VMS: 42.99 GB
2025-04-21 13:27:12,518 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:27:12,518 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 13:27:12,519 - app_setup - INFO - Shutting down indexing model...
2025-04-21 13:27:12,520 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 13:27:12,966 - app_setup - INFO - Process memory - RSS: 3.46 GB, VMS: 42.99 GB
2025-04-21 13:27:12,967 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:46:26,572 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:46:26,572 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:46:26,572 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:46:26,573 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:46:27,454 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:46:31,683 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 13:46:33,841 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:46:33,842 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:46:33,843 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:46:33,844 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:46:33,845 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:46:34,123 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 13:46:44,258 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:46:44,260 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:46:44,261 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:46:44,262 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 13:46:44,263 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:46:44,335 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:46:44,336 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:46:44,340 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:46:44,341 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:46:44,342 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:46:44,351 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:46:44,354 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:46:44,355 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:46:44,356 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:46:44,357 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:46:44,358 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:46:44,358 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:46:44,359 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.36 GB, VMS: 37.63 GB
2025-04-21 13:46:44,456 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:46:44,458 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:46:44,525 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 13:46:44,526 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:46:58,592 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:46:58,650 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 13:46:58,652 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:46:59,504 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:46:59,563 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 13:46:59,564 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:46:59,571 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-flash-preview (Backend: OPENROUTER)
2025-04-21 13:46:59,573 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 13:46:59,575 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 13:46:59,577 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 13:46:59,579 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:46:59,584 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 13:46:59,586 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 13:46:59,593 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 13:46:59,596 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 13:46:59,597 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 13:46:59,598 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 13:46:59,600 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 13:47:06,897 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 13:47:06,915 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 13:47:06,917 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 13:47:06,919 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 13:47:06,920 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 13:47:06,921 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.20 GB, VMS: 40.08 GB
2025-04-21 13:47:06,923 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 13:47:06,924 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 13:47:06,926 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 13:47:06,927 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 13:47:07,487 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 13:47:07,489 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 13:47:07,515 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 13:47:07,517 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 13:47:07,518 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.20 GB, VMS: 40.08 GB
2025-04-21 13:47:07,519 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:47:07,520 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 13:47:08,025 - app_setup - INFO - Document loader shut down complete.
2025-04-21 13:47:08,028 - app_setup - INFO - Process memory - RSS: 2.20 GB, VMS: 40.08 GB
2025-04-21 13:47:08,032 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:47:08,034 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 13:47:08,035 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 13:47:08,036 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.20 GB, VMS: 40.08 GB
2025-04-21 13:47:08,038 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:47:08,039 - app_setup - INFO - Loading chunking model...
2025-04-21 13:47:08,040 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:47:08,040 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 13:47:08,041 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 13:47:08,042 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 13:47:08,043 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 13:47:10,504 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:47:10,506 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:47:10,507 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:47:10,508 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 13:47:10,508 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:47:10,532 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:47:10,533 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:47:10,534 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:47:10,535 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:47:10,536 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:47:10,541 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:47:10,543 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:47:10,544 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:47:10,545 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:47:10,545 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:47:10,546 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:47:10,547 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:47:10,548 - src.core.query_system.query_engine - INFO - Process memory - RSS: 2.47 GB, VMS: 40.84 GB
2025-04-21 13:47:10,549 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:47:10,550 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:47:10,614 - app_setup - INFO - Process memory - RSS: 2.47 GB, VMS: 40.84 GB
2025-04-21 13:47:10,615 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:47:13,037 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 13:47:13,038 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.99 seconds
2025-04-21 13:47:13,040 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.59 GB, VMS: 41.66 GB
2025-04-21 13:47:13,041 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:47:13,041 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 13:47:13,043 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: cebf0556-bdce-4321-87a8-d464e08fab6c, Type: .pdf)
2025-04-21 13:47:13,044 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 13:47:13,044 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 13:47:13,045 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 13:47:13,076 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 13:47:13,077 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 13:47:13,078 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.04s.
2025-04-21 13:47:13,079 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 13:47:13,080 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 13:47:13,081 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.59 GB, VMS: 41.66 GB
2025-04-21 13:47:13,082 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 13:47:13,083 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 13:47:13,084 - app_setup - INFO - Shutting down chunking model...
2025-04-21 13:47:13,085 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:47:13,086 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 13:47:13,086 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 13:47:13,087 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 13:47:13,089 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 13:47:13,712 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 13:47:13,715 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.59 GB, VMS: 41.66 GB
2025-04-21 13:47:13,716 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:47:14,155 - app_setup - INFO - Process memory - RSS: 2.59 GB, VMS: 41.66 GB
2025-04-21 13:47:14,158 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:47:14,159 - app_setup - INFO - Total chunks generated: 2
2025-04-21 13:47:14,160 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 13:47:14,161 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 13:47:14,162 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 13:47:14,162 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 13:47:14,165 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 13:47:14,166 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-flash-preview, debug=True
2025-04-21 13:47:14,167 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.59 GB, VMS: 41.66 GB
2025-04-21 13:47:14,169 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:47:14,170 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 13:47:14,171 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 13:47:14,172 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 13:47:14,172 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 13:47:14,173 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.59 GB, VMS: 41.66 GB
2025-04-21 13:47:14,174 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:47:14,175 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 13:47:14,176 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 13:47:14,177 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 13:47:14,177 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 13:47:14,178 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-flash-preview).
2025-04-21 13:47:14,179 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 13:47:14,180 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 13:47:14,181 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 13:47:14,181 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 13:47:14,182 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 13:47:14,183 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 13:47:14,184 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 13:47:14,185 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:47:14,185 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:47:14,186 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:47:14,187 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 13:47:16,431 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:47:16,433 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:47:16,434 - src.core.extraction.entity_extractor - ERROR - Unexpected error calling OpenRouter for chunk cccaeda7-1738-421e-bde3-7cf75d94132b: 'dict' object has no attribute 'choices'
Traceback (most recent call last):
  File "/home/t/lm_rag/src/core/extraction/entity_extractor.py", line 510, in _process_text_chunks_batch
    print(response.choices[0].message.content)
          ^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'choices'
2025-04-21 13:47:16,436 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:47:16,437 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:47:16,438 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:47:16,438 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 13:47:40,627 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting value: line 1255 column 10 (char 12563)
2025-04-21 13:47:40,629 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
2025-04-21 13:47:40,693 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,

2025-04-21 13:47:40,780 - src.core.extraction.entity_extractor - ERROR - Unexpected error calling OpenRouter for chunk be94ecb8-09a5-4fb2-b36e-ef1b4e508fa2: 'dict' object has no attribute 'choices'
Traceback (most recent call last):
  File "/home/t/lm_rag/src/core/extraction/entity_extractor.py", line 510, in _process_text_chunks_batch
    print(response.choices[0].message.content)
          ^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'choices'
2025-04-21 13:47:40,783 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 26.60s. Success: 0, Errors: 2
2025-04-21 13:47:40,784 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 26.60s
2025-04-21 13:47:40,785 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 13:47:40,786 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 0 entities, 0 relationships.
2025-04-21 13:47:40,786 - src.core.extraction.entity_extractor - WARNING - No raw data to deduplicate or save.
2025-04-21 13:47:40,787 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 0 entities, 0 relationships.
2025-04-21 13:47:40,788 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 13:47:40,789 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 13:47:40,790 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 13:47:41,231 - app_setup - INFO - Process memory - RSS: 2.59 GB, VMS: 41.66 GB
2025-04-21 13:47:41,233 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:47:41,293 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-flash-preview
2025-04-21 13:47:41,295 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 13:47:41,296 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 13:47:41,296 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 13:47:41,297 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 13:47:41,298 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 13:47:41,299 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 13:47:41,300 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 13:47:41,301 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 13:47:41,301 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 13:47:41,302 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 13:47:41,303 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 13:47:41,304 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 13:47:41,305 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 13:47:41,306 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.59 GB, VMS: 41.66 GB
2025-04-21 13:47:41,307 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:47:41,308 - app_setup - INFO - Loading indexing model...
2025-04-21 13:47:41,308 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 13:47:41,309 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 13:47:41,310 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 13:47:42,714 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 13:47:42,715 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.41 seconds
2025-04-21 13:47:42,716 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.62 GB, VMS: 43.78 GB
2025-04-21 13:47:42,717 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:47:42,828 - app_setup - WARNING - Error checking/clearing collection: 'DocumentIndexer' object has no attribute 'get_embedding_dimension'
2025-04-21 13:47:42,829 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 13:47:42,830 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 13:47:42,831 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 13:47:42,832 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 13:47:42,832 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 13:47:42,837 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 13:47:42,854 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 13:47:42,855 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 13:47:42,856 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 13:47:42,857 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 13:47:42,858 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.03s (Success: True)
2025-04-21 13:47:42,915 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 13:47:42,916 - src.core.indexing.document_indexer - INFO - Collection 'anticorruption_rag_e5_instruct' exists. Verifying configuration...
2025-04-21 13:47:43,350 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 13:47:43,352 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 13:47:43,354 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 13:47:43,355 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 13:47:49,668 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 6.31s
2025-04-21 13:47:49,669 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 13:47:49,671 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 13:47:49,722 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 13:47:49,723 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: cccaeda7-1738-421e-bde3-7cf75d94132b...
2025-04-21 13:47:49,741 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.02s
2025-04-21 13:47:49,742 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.83 GB, VMS: 41.91 GB
2025-04-21 13:47:49,743 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 13:47:50,182 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 6.83s. Overall success for this batch: True
2025-04-21 13:47:50,186 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 7.33s (Overall Success: True)
2025-04-21 13:47:50,188 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 7.36s =====
2025-04-21 13:47:50,189 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 13:47:50,190 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 13:47:50,191 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 13:47:50,888 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 13:47:51,329 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 13:47:51,419 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 13:47:51,865 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 13:47:51,869 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.91 GB, VMS: 41.98 GB
2025-04-21 13:47:51,871 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:47:51,872 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 13:47:51,874 - app_setup - INFO - Shutting down indexing model...
2025-04-21 13:47:51,875 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 13:47:52,308 - app_setup - INFO - Process memory - RSS: 2.91 GB, VMS: 41.98 GB
2025-04-21 13:47:52,310 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:47:52,369 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 13:47:52,370 - app_setup - INFO - Process memory - RSS: 2.91 GB, VMS: 41.98 GB
2025-04-21 13:47:52,371 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:47:52,803 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:47:52,874 - app_setup - INFO - Process memory - RSS: 2.85 GB, VMS: 41.91 GB
2025-04-21 13:47:52,876 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:50:19,494 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:50:19,494 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:50:19,494 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:50:19,495 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:50:20,361 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:50:26,243 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 13:50:25,833 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:50:25,835 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:50:25,836 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:50:25,837 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:50:25,838 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:50:26,142 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 13:50:35,412 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:50:35,415 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:50:35,417 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:50:35,418 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 13:50:35,419 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:50:35,496 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:50:35,497 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:50:35,500 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:50:35,501 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:50:35,502 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:50:35,530 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:50:35,532 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:50:35,533 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:50:35,534 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:50:35,535 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:50:35,536 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:50:35,537 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:50:35,538 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.63 GB
2025-04-21 13:50:35,616 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:50:35,618 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:50:35,683 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 13:50:35,684 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:50:59,516 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:50:59,585 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 13:50:59,586 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:51:00,364 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:51:00,426 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 13:51:00,427 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:51:00,435 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-flash-preview (Backend: OPENROUTER)
2025-04-21 13:51:00,439 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 13:51:00,442 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 13:51:00,444 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 13:51:00,445 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:51:00,451 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 13:51:00,453 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 13:51:00,457 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 13:51:00,459 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 13:51:00,460 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 13:51:00,461 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 13:51:00,463 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 13:51:06,693 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 13:51:06,725 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 13:51:06,727 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 13:51:06,729 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 13:51:06,730 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 13:51:06,731 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.20 GB, VMS: 40.08 GB
2025-04-21 13:51:06,732 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 13:51:06,733 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 13:51:06,735 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 13:51:06,737 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 13:51:07,176 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 13:51:07,177 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 13:51:07,199 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 13:51:07,201 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 13:51:07,202 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.20 GB, VMS: 40.08 GB
2025-04-21 13:51:07,203 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:51:07,204 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 13:51:07,634 - app_setup - INFO - Document loader shut down complete.
2025-04-21 13:51:07,636 - app_setup - INFO - Process memory - RSS: 2.20 GB, VMS: 40.08 GB
2025-04-21 13:51:07,638 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:51:07,639 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 13:51:07,640 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 13:51:07,641 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.20 GB, VMS: 40.08 GB
2025-04-21 13:51:07,642 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:51:07,643 - app_setup - INFO - Loading chunking model...
2025-04-21 13:51:07,643 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:51:07,644 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 13:51:07,645 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 13:51:07,646 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 13:51:07,647 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 13:51:12,760 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 13:51:12,761 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 5.11 seconds
2025-04-21 13:51:12,763 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:51:12,764 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:51:12,765 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 13:51:12,766 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: 788c0359-7868-4fd1-9be4-8e0fb66ffa40, Type: .pdf)
2025-04-21 13:51:12,766 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 13:51:12,767 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 13:51:12,768 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 13:51:12,790 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 13:51:12,791 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 13:51:12,792 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 13:51:12,793 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 13:51:12,794 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 13:51:12,796 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:51:12,797 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 13:51:12,798 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 13:51:12,799 - app_setup - INFO - Shutting down chunking model...
2025-04-21 13:51:12,800 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:51:12,801 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 13:51:12,801 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 13:51:12,802 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 13:51:12,804 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 13:51:13,433 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 13:51:13,435 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:51:13,436 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:51:13,868 - app_setup - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:51:13,870 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:51:13,871 - app_setup - INFO - Total chunks generated: 2
2025-04-21 13:51:13,873 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 13:51:13,874 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 13:51:13,875 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 13:51:13,877 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 13:51:13,880 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 13:51:13,882 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-flash-preview, debug=True
2025-04-21 13:51:13,885 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:51:13,887 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:51:13,888 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 13:51:13,889 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 13:51:13,890 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 13:51:13,890 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 13:51:13,891 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:51:13,892 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:51:13,893 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 13:51:13,894 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 13:51:13,895 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 13:51:13,896 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 13:51:13,897 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-flash-preview).
2025-04-21 13:51:13,898 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 13:51:13,900 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 13:51:13,901 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 13:51:13,902 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 13:51:13,903 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 13:51:13,903 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 13:51:13,904 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 13:51:13,905 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:51:13,906 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:51:13,907 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:51:13,907 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 13:51:15,657 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:51:15,659 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:51:15,660 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:51:15,660 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:51:15,661 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:51:15,662 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 13:51:39,758 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting value: line 1255 column 10 (char 12563)
2025-04-21 13:51:39,761 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
2025-04-21 13:51:39,852 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,

2025-04-21 13:51:39,921 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 809c3e52-46d2-4cf1-9801-97d860c13db0: Model returned invalid JSON content: Expecting value: line 1255 column 10 (char 12563)
2025-04-21 13:51:39,923 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 26.02s. Success: 1, Errors: 1
2025-04-21 13:51:39,924 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 26.02s
2025-04-21 13:51:39,925 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 13:51:39,926 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 0 entities, 0 relationships.
2025-04-21 13:51:39,927 - src.core.extraction.entity_extractor - WARNING - No raw data to deduplicate or save.
2025-04-21 13:51:39,928 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 0 entities, 0 relationships.
2025-04-21 13:51:39,930 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 13:51:39,931 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 13:51:39,933 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 13:51:40,413 - app_setup - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:51:40,414 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:51:40,469 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-flash-preview
2025-04-21 13:51:40,470 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 13:51:40,471 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 13:51:40,472 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 13:51:40,472 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 13:51:40,473 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 13:51:40,474 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 13:51:40,475 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 13:51:40,476 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 13:51:40,477 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 13:51:40,477 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 13:51:40,478 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 13:51:40,479 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 13:51:40,480 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 13:51:40,481 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.58 GB, VMS: 41.66 GB
2025-04-21 13:51:40,482 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:51:40,483 - app_setup - INFO - Loading indexing model...
2025-04-21 13:51:40,484 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 13:51:40,485 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 13:51:40,485 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 13:51:41,889 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 13:51:41,891 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.41 seconds
2025-04-21 13:51:41,892 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.65 GB, VMS: 45.15 GB
2025-04-21 13:51:41,894 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:51:42,004 - app_setup - WARNING - Error checking/clearing collection: 'DocumentIndexer' object has no attribute 'get_embedding_dimension'
2025-04-21 13:51:42,005 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 13:51:42,006 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 13:51:42,006 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 13:51:42,007 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 13:51:42,008 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 13:51:42,036 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 13:51:42,054 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 13:51:42,056 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 13:51:42,056 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 13:51:42,058 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 13:51:42,059 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.05s (Success: True)
2025-04-21 13:51:42,109 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 13:51:42,110 - src.core.indexing.document_indexer - INFO - Collection 'anticorruption_rag_e5_instruct' exists. Verifying configuration...
2025-04-21 13:51:42,560 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 13:51:42,563 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 13:51:42,564 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 13:51:42,565 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 13:58:44,491 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:58:44,491 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:58:44,491 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:58:44,491 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:58:45,395 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:58:49,843 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 13:58:51,994 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 13:58:51,995 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 13:58:51,996 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 13:58:51,997 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 13:58:51,997 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 13:58:52,279 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 13:59:02,956 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:59:02,959 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:59:02,960 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:59:02,961 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 13:59:02,965 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:59:03,050 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:59:03,051 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:59:03,054 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:59:03,055 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:59:03,055 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:59:03,066 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:59:03,068 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:59:03,069 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:59:03,069 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:59:03,070 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:59:03,071 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:59:03,072 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:59:03,073 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.63 GB
2025-04-21 13:59:03,172 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:59:03,174 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:59:03,264 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 13:59:03,266 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:59:21,107 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:59:21,178 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 13:59:21,179 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:59:21,835 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:59:21,913 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 13:59:21,916 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:59:21,922 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-flash-preview (Backend: OPENROUTER)
2025-04-21 13:59:21,926 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 13:59:21,928 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 13:59:21,932 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 13:59:21,936 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 13:59:21,943 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 13:59:21,946 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 13:59:21,962 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 13:59:21,966 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 13:59:21,968 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 13:59:21,970 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 13:59:21,971 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 13:59:29,293 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 13:59:29,306 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 13:59:29,308 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 13:59:29,309 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 13:59:29,310 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 13:59:29,311 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.19 GB, VMS: 40.10 GB
2025-04-21 13:59:29,313 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 13:59:29,314 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 13:59:29,317 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 13:59:29,318 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 13:59:29,756 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 13:59:29,757 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 13:59:29,781 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 13:59:29,783 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 13:59:29,784 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.19 GB, VMS: 40.10 GB
2025-04-21 13:59:29,785 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:59:29,786 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 13:59:30,211 - app_setup - INFO - Document loader shut down complete.
2025-04-21 13:59:30,213 - app_setup - INFO - Process memory - RSS: 2.19 GB, VMS: 40.10 GB
2025-04-21 13:59:30,217 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:59:30,241 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:59:30,242 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 13:59:30,244 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 13:59:30,245 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 13:59:30,246 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 13:59:30,247 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 13:59:30,249 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.19 GB, VMS: 40.17 GB
2025-04-21 13:59:30,251 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 13:59:30,252 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:59:30,255 - app_setup - INFO - Loading chunking model...
2025-04-21 13:59:30,256 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:59:30,257 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 13:59:30,258 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 13:59:30,259 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 13:59:30,260 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 13:59:30,276 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 13:59:30,277 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 13:59:30,279 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 13:59:30,280 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 13:59:30,280 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 13:59:30,283 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 13:59:30,284 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 13:59:30,285 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 13:59:30,286 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 13:59:30,287 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 13:59:30,288 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 13:59:30,289 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 13:59:30,290 - src.core.query_system.query_engine - INFO - Process memory - RSS: 2.19 GB, VMS: 40.17 GB
2025-04-21 13:59:30,291 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:59:30,292 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 13:59:30,356 - app_setup - INFO - Process memory - RSS: 2.19 GB, VMS: 40.17 GB
2025-04-21 13:59:30,358 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:59:35,506 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 13:59:35,508 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 5.25 seconds
2025-04-21 13:59:35,509 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:59:35,510 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:59:35,511 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 13:59:35,512 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: 5d0fa39a-8c2b-4941-bde8-62d759c4b34c, Type: .pdf)
2025-04-21 13:59:35,514 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 13:59:35,516 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 13:59:35,517 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 13:59:35,562 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 13:59:35,563 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 13:59:35,564 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.05s.
2025-04-21 13:59:35,565 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 13:59:35,566 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 13:59:35,567 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:59:35,568 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 13:59:35,569 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 13:59:35,570 - app_setup - INFO - Shutting down chunking model...
2025-04-21 13:59:35,571 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 13:59:35,572 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 13:59:35,573 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 13:59:35,573 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 13:59:35,575 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 13:59:36,177 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 13:59:36,181 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:59:36,182 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:59:36,614 - app_setup - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:59:36,616 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:59:36,617 - app_setup - INFO - Total chunks generated: 2
2025-04-21 13:59:36,618 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 13:59:36,619 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 13:59:36,620 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 13:59:36,621 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 13:59:36,623 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 13:59:36,624 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-flash-preview, debug=True
2025-04-21 13:59:36,625 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:59:36,626 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:59:36,627 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 13:59:36,628 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 13:59:36,629 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 13:59:36,630 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 13:59:36,631 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:59:36,632 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 13:59:36,632 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 13:59:36,633 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 13:59:36,634 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 13:59:36,635 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 13:59:36,636 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-flash-preview).
2025-04-21 13:59:36,637 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 13:59:36,637 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 13:59:36,638 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 13:59:36,639 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 13:59:36,640 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 13:59:36,641 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 13:59:36,641 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 13:59:36,642 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:59:36,643 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:59:36,644 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:59:36,645 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 13:59:38,531 - src.utils.openrouter_manager - INFO - Skipped 1 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:59:38,532 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:59:38,533 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 13:59:38,534 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 13:59:38,535 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 13:59:38,536 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 13:59:40,278 - src.utils.openrouter_manager - INFO - Skipped 6 invalid/placeholder items in 'entity_relationship_list'. Kept 0.
2025-04-21 13:59:40,280 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 13:59:40,281 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 3.64s. Success: 2, Errors: 0
2025-04-21 13:59:40,282 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 3.64s
2025-04-21 13:59:40,284 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 13:59:40,286 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 0 entities, 0 relationships.
2025-04-21 13:59:40,289 - src.core.extraction.entity_extractor - WARNING - No raw data to deduplicate or save.
2025-04-21 13:59:40,290 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 0 entities, 0 relationships.
2025-04-21 13:59:40,292 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 13:59:40,294 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 13:59:40,295 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 13:59:40,726 - app_setup - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:59:40,729 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:59:40,789 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-flash-preview
2025-04-21 13:59:40,790 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 13:59:40,791 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 13:59:40,792 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 13:59:40,793 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 13:59:40,793 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 13:59:40,794 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 13:59:40,795 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 13:59:40,796 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 13:59:40,797 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 13:59:40,798 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 13:59:40,798 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 13:59:40,799 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 13:59:40,801 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 13:59:40,802 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 13:59:40,803 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:59:40,804 - app_setup - INFO - Loading indexing model...
2025-04-21 13:59:40,804 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 13:59:40,805 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 13:59:40,806 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 13:59:42,113 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 13:59:42,115 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.31 seconds
2025-04-21 13:59:42,116 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.60 GB, VMS: 43.74 GB
2025-04-21 13:59:42,117 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:59:42,227 - app_setup - WARNING - Error checking/clearing collection: 'DocumentIndexer' object has no attribute 'get_embedding_dimension'
2025-04-21 13:59:42,228 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 13:59:42,229 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 13:59:42,230 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 13:59:42,231 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 13:59:42,231 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 13:59:42,242 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 13:59:42,262 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 13:59:42,263 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 13:59:42,264 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 13:59:42,265 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 13:59:42,266 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.03s (Success: True)
2025-04-21 13:59:42,325 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 13:59:42,326 - src.core.indexing.document_indexer - INFO - Collection 'anticorruption_rag_e5_instruct' exists. Verifying configuration...
2025-04-21 13:59:42,760 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 13:59:42,763 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 13:59:42,764 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 13:59:42,765 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 13:59:49,075 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 6.31s
2025-04-21 13:59:49,076 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 13:59:49,078 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 13:59:49,126 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 13:59:49,127 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 3ac11764-30bf-496f-b907-08511ebad1d2...
2025-04-21 13:59:49,161 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.03s
2025-04-21 13:59:49,164 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.81 GB, VMS: 41.93 GB
2025-04-21 13:59:49,166 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 13:59:49,621 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 6.86s. Overall success for this batch: True
2025-04-21 13:59:49,626 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 7.36s (Overall Success: True)
2025-04-21 13:59:49,628 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 7.40s =====
2025-04-21 13:59:49,629 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 13:59:49,630 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 13:59:49,631 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 13:59:50,601 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 13:59:51,040 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 13:59:51,054 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 13:59:48,930 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 13:59:48,934 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.88 GB, VMS: 42.00 GB
2025-04-21 13:59:48,936 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:59:48,938 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 13:59:48,939 - app_setup - INFO - Shutting down indexing model...
2025-04-21 13:59:48,940 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 13:59:49,393 - app_setup - INFO - Process memory - RSS: 2.88 GB, VMS: 42.00 GB
2025-04-21 13:59:49,395 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:59:49,455 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 13:59:49,456 - app_setup - INFO - Process memory - RSS: 2.88 GB, VMS: 42.00 GB
2025-04-21 13:59:49,457 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 13:59:49,892 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 13:59:49,966 - app_setup - INFO - Process memory - RSS: 2.86 GB, VMS: 41.93 GB
2025-04-21 13:59:49,968 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:05:18,397 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:05:18,398 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:05:18,398 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:05:18,398 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:05:19,424 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:05:26,010 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 14:05:28,359 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:05:28,361 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:05:28,363 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:05:28,364 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:05:28,365 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:05:28,684 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 14:05:38,941 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:05:38,944 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 14:05:38,945 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 14:05:38,946 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 14:05:38,949 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 14:05:39,037 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 14:05:39,039 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 14:05:39,041 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 14:05:39,043 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 14:05:39,044 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 14:05:39,055 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 14:05:39,058 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 14:05:39,059 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 14:05:39,060 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 14:05:39,061 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 14:05:39,062 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 14:05:39,063 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 14:05:39,064 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.63 GB
2025-04-21 14:05:39,154 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:05:39,157 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 14:05:39,224 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 14:05:39,225 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:06:27,425 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:06:27,425 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:06:27,425 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:06:27,425 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:06:27,974 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:06:31,775 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 14:06:33,140 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:06:33,142 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:06:33,142 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:06:33,143 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:06:33,144 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:06:33,305 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 14:06:41,249 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:06:41,252 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 14:06:41,252 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 14:06:41,253 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 14:06:41,254 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 14:06:41,300 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 14:06:41,302 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 14:06:41,305 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 14:06:41,306 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 14:06:41,307 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 14:06:41,309 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 14:06:41,311 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 14:06:41,312 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 14:06:41,313 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 14:06:41,314 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 14:06:41,314 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 14:06:41,315 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 14:06:41,316 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.63 GB
2025-04-21 14:06:41,403 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:06:41,406 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 14:06:41,473 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 14:06:41,475 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:07:32,091 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:07:32,157 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 14:07:32,158 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:07:33,768 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:07:33,826 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 14:07:33,828 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:07:33,834 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-flash-preview (Backend: OPENROUTER)
2025-04-21 14:07:33,838 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 14:07:33,839 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 14:07:33,842 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 14:07:33,844 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:07:33,850 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 14:07:33,851 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 14:07:33,856 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 14:07:33,877 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 14:07:33,879 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 14:07:33,880 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 14:07:33,881 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 14:07:40,371 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 14:07:40,403 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 14:07:40,404 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 14:07:40,406 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 14:07:40,407 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 14:07:40,408 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.18 GB, VMS: 40.10 GB
2025-04-21 14:07:40,409 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 14:07:40,410 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 14:07:40,412 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 14:07:40,414 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 14:07:40,931 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 14:07:40,932 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 14:07:40,958 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 14:07:40,959 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 14:07:40,960 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.18 GB, VMS: 40.10 GB
2025-04-21 14:07:40,961 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:07:40,962 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 14:07:41,418 - app_setup - INFO - Document loader shut down complete.
2025-04-21 14:07:41,421 - app_setup - INFO - Process memory - RSS: 2.18 GB, VMS: 40.10 GB
2025-04-21 14:07:41,424 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:07:41,425 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 14:07:41,426 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 14:07:41,428 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.18 GB, VMS: 40.10 GB
2025-04-21 14:07:41,429 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:07:41,430 - app_setup - INFO - Loading chunking model...
2025-04-21 14:07:41,431 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:07:41,432 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 14:07:41,432 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 14:07:41,433 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 14:07:41,434 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 14:07:44,938 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 14:07:44,940 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 3.50 seconds
2025-04-21 14:07:44,941 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 14:07:44,942 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:07:44,944 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 14:07:44,945 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: 3654a9c5-ad41-4e68-98d9-c5132dedbfcb, Type: .pdf)
2025-04-21 14:07:44,946 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 14:07:44,947 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 14:07:44,948 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 14:07:44,986 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 14:07:44,987 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 14:07:44,989 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.04s.
2025-04-21 14:07:44,990 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 14:07:44,991 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 14:07:44,992 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 14:07:44,994 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 14:07:44,995 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 14:07:44,996 - app_setup - INFO - Shutting down chunking model...
2025-04-21 14:07:44,997 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:07:44,998 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 14:07:44,999 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 14:07:45,000 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 14:07:45,002 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 14:07:45,730 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 14:07:45,733 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 14:07:45,735 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:07:46,260 - app_setup - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 14:07:46,262 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:07:46,269 - app_setup - INFO - Total chunks generated: 2
2025-04-21 14:07:46,271 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 14:07:46,272 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 14:07:46,273 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 14:07:46,274 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 14:07:46,278 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 14:07:46,279 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-flash-preview, debug=True
2025-04-21 14:07:46,280 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 14:07:46,282 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:07:46,284 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 14:07:46,285 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 14:07:46,287 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 14:07:46,288 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 14:07:46,290 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 14:07:46,291 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:07:46,292 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 14:07:46,293 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 14:07:46,294 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 14:07:46,295 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 14:07:46,296 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-flash-preview).
2025-04-21 14:07:46,297 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 14:07:46,298 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 14:07:46,299 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 14:07:46,300 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 14:07:46,302 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 14:07:46,303 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 14:07:46,305 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 14:07:46,306 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:07:46,307 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 14:07:46,309 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 14:07:46,310 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 14:07:51,517 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 14:07:51,518 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:07:51,537 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 14:07:51,538 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 14:07:51,539 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 14:08:16,993 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Unterminated string starting at: line 149 column 16 (char 4296)
2025-04-21 14:08:16,994 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "zero pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_description": "lives in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Manchester",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Manchester",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Doctor",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "holds the position of",
      "relationship_type": "WORKS_FOR",
      "to_entity_name": "Doctor",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "ninety-five thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "ninety-five thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "resides in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Birmingham",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Birmingham",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Data Scientist",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "holds the position of",
      "relationship_type": "WORKS_FOR",
      "to_entity_name": "Data Scientist",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "seventy-two thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "seventy-two thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "is based in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Edinburgh",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Edinburgh",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text provides details about several individuals, including their ages, professions, annual earnings (represented as money amounts), and locations. It mentions a child who is a student and earns no money, a person working as a doctor with a specific salary, and another person who is a data scientist with a different salary. The individuals are associated with various locations and positions, and their earnings are specified as money amounts. There are no commercial companies, government bodies, NGOs, assets, or events mentioned in this text. There are no clear corruption red flags in this text, as it mainly describes personal and professional details of individuals, including their earnings and locations, without indicating any suspicious financial transactions or activities. The text includes information about multiple people, their jobs or student status, and their incomes, as well as the cities where they live. It also includes employee IDs for the working individuals, but not for the student. There is no information about any companies or organizations they work for, just their positions and salaries. There are no details about any assets or events. The text is a straightforward description of several individuals and their basic attributes. There are no complex relationships or transactions described. The information provided is simple and direct. There are no indications of any potential corruption issues based on the information given. The earnings and positions mentioned seem to be within a normal range, and there are no unusual financial activities or connections described. The text is purely descriptive and does not suggest any illicit behavior. It focuses on personal and professional details of a few individuals. The text is very simple and does not contain any information that would suggest corruption. It just provides basic facts about a few people. The text is a simple list of attributes for different individuals. It does not contain any complex information or potential red flags. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The
2025-04-21 14:08:17,022 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "zero pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_description": "lives in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Manchester",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Manchester",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Doctor",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "holds the position of",
      "relationship_type": "WORKS_FOR",
      "to_entity_name": "Doctor",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "ninety-five thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "ninety-five thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "resides in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Birmingham",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Birmingham",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Data Scientist",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "holds the position of",
      "relationship_type": "WORKS_FOR",
      "to_entity_name": "Data Scientist",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "seventy-two thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "seventy-two thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "is based in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Edinburgh",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Edinburgh",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "This text provides details about several individuals, including their ages, professions, annual earnings (represented as money amounts), and locations. It mentions a child who is a student and earns no money, a person working as a doctor with a specific salary, and another person who is a data scientist with a different salary. The individuals are associated with various locations and positions, and their earnings are specified as money amounts. There are no commercial companies, government bodies, NGOs, assets, or events mentioned in this text. There are no clear corruption red flags in this text, as it mainly describes personal and professional details of individuals, including their earnings and locations, without indicating any suspicious financial transactions or activities. The text includes information about multiple people, their jobs or student status, and their incomes, as well as the cities where they live. It also includes employee IDs for the working individuals, but not for the student. There is no information about any companies or organizations they work for, just their positions and salaries. There are no details about any assets or events. The text is a straightforward description of several individuals and their basic attributes. There are no complex relationships or transactions described. The information provided is simple and direct. There are no indications of any potential corruption issues based on the information given. The earnings and positions mentioned seem to be within a normal range, and there are no unusual financial activities or connections described. The text is purely descriptive and does not suggest any illicit behavior. It focuses on personal and professional details of a few individuals. The text is very simple and does not contain any information that would suggest corruption. It just provides basic facts about a few people. The text is a simple list of attributes for different individuals. It does not contain any complex information or potential red flags. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The text is a simple description of several individuals and their basic details. It does not contain any information that would suggest corruption. The text is very basic and provides simple facts about different people. It does not contain any information that would suggest corruption. The
2025-04-21 14:08:17,052 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 86de2875-2306-45e4-aef1-0d5b8ec492e5: Model returned invalid JSON content: Unterminated string starting at: line 149 column 16 (char 4296)
2025-04-21 14:08:17,054 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 30.75s. Success: 1, Errors: 1
2025-04-21 14:08:17,055 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 30.76s
2025-04-21 14:08:17,057 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 14:08:17,058 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 10 entities, 3 relationships.
2025-04-21 14:08:17,059 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-21 14:08:17,061 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 10 raw entities...
2025-04-21 14:08:17,094 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-21 14:08:17,099 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-21 14:08:17,213 - src.core.extraction.entity_extractor - INFO - Generated 9 candidate pairs.
2025-04-21 14:08:17,214 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-21 14:08:17,223 - src.core.extraction.entity_extractor - INFO - Found 9 potential duplicate pairs.
2025-04-21 14:08:17,225 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-21 14:08:17,227 - src.core.extraction.entity_extractor - INFO - Found 4 clusters (including singletons).
2025-04-21 14:08:17,228 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-21 14:08:17,230 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 4.
2025-04-21 14:08:17,232 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs...
2025-04-21 14:08:17,233 - src.core.extraction.entity_extractor - INFO - Updating 3 raw relationships with canonical entity IDs...
2025-04-21 14:08:17,234 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 3, Updated IDs in 2, Skipped 0.
2025-04-21 14:08:17,235 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-21 14:08:17,235 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-21 14:08:17,236 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 0 duplicates. Final count: 3.
2025-04-21 14:08:17,237 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 4 entities, 3 relationships.
2025-04-21 14:08:17,238 - src.core.extraction.entity_extractor - INFO - Saved 4 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 14:08:17,239 - src.core.extraction.entity_extractor - INFO - Saved 3 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 14:08:17,240 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 14:08:17,765 - app_setup - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 14:08:17,767 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:08:17,830 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-flash-preview
2025-04-21 14:08:17,831 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 14:08:17,832 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 14:08:17,833 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 14:08:17,834 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 14:08:17,835 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 14:08:17,836 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 14:08:17,836 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 14:08:17,837 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 14:08:17,838 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 14:08:17,839 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 14:08:17,840 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 14:08:17,840 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 14:08:17,841 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 14:08:17,842 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 14:08:17,844 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:08:17,844 - app_setup - INFO - Loading indexing model...
2025-04-21 14:08:17,845 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 14:08:17,846 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 14:08:17,847 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 14:08:19,248 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 14:08:19,250 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.40 seconds
2025-04-21 14:08:19,251 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.59 GB, VMS: 43.73 GB
2025-04-21 14:08:19,253 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:08:19,373 - app_setup - WARNING - Error checking/clearing collection: 'DocumentIndexer' object has no attribute 'get_embedding_dimension'
2025-04-21 14:08:19,374 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 14:08:19,375 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 14:08:19,376 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 14:08:19,377 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 14:08:19,377 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 14:08:19,396 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 14:08:19,420 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 14:08:19,421 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 14:08:19,422 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 14:08:19,424 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 14:08:19,425 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.05s (Success: True)
2025-04-21 14:08:19,476 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 14:08:19,477 - src.core.indexing.document_indexer - INFO - Collection 'anticorruption_rag_e5_instruct' exists. Verifying configuration...
2025-04-21 14:08:19,947 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 14:08:19,951 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 14:08:19,952 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 14:08:19,953 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 14:08:26,323 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 6.37s
2025-04-21 14:08:26,325 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 14:08:26,327 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 14:08:26,376 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 14:08:26,377 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 25456903-9da5-47c4-802a-60b20b9c0491...
2025-04-21 14:08:26,420 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.04s
2025-04-21 14:08:26,423 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.80 GB, VMS: 41.93 GB
2025-04-21 14:08:26,424 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 14:08:26,897 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 6.95s. Overall success for this batch: True
2025-04-21 14:08:26,905 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 7.48s (Overall Success: True)
2025-04-21 14:08:26,910 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 7.53s =====
2025-04-21 14:08:26,911 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 14:08:26,912 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 14:08:26,913 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 14:08:27,983 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 14:08:28,473 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 14:08:28,490 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 14:08:29,002 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 14:08:29,004 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.86 GB, VMS: 41.99 GB
2025-04-21 14:08:29,007 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:08:29,008 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 14:08:29,009 - app_setup - INFO - Shutting down indexing model...
2025-04-21 14:08:29,009 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 14:08:29,490 - app_setup - INFO - Process memory - RSS: 2.86 GB, VMS: 41.99 GB
2025-04-21 14:08:29,493 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:08:29,577 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 14:08:29,579 - app_setup - INFO - Process memory - RSS: 2.86 GB, VMS: 41.99 GB
2025-04-21 14:08:29,580 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:08:30,121 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:08:30,197 - app_setup - INFO - Process memory - RSS: 2.80 GB, VMS: 41.93 GB
2025-04-21 14:08:30,200 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:19:29,325 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:19:29,326 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:19:29,326 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:19:29,326 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:19:30,258 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:19:36,229 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 14:19:38,289 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:19:38,290 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:19:38,291 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:19:38,292 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:19:38,292 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:19:36,030 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 14:19:45,399 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:19:45,402 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 14:19:45,403 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 14:19:45,403 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 14:19:45,405 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 14:19:45,478 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 14:19:45,479 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 14:19:45,482 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 14:19:45,483 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 14:19:45,484 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 14:19:45,508 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 14:19:45,510 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 14:19:45,511 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 14:19:45,512 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 14:19:45,513 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 14:19:45,513 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 14:19:45,514 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 14:19:45,515 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.63 GB
2025-04-21 14:19:45,592 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:19:45,594 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 14:19:45,670 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 14:19:45,671 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:20:14,339 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:20:14,397 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 14:20:14,399 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:20:15,868 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:20:15,926 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 14:20:15,928 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:20:16,353 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:20:16,420 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 14:20:16,421 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:20:16,428 - app_setup - INFO - Clearing all indexed and extracted data...
2025-04-21 14:20:16,622 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-21 14:20:17,624 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 14:20:17,627 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-21 14:20:17,628 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 14:20:17,629 - src.core.query_system.query_engine - INFO - Internal BM25 state cleared.
2025-04-21 14:20:17,631 - app_setup - INFO - Data clearing successful via QueryEngine.
2025-04-21 14:20:17,632 - app_setup - INFO - Cleared relevant session state caches after data deletion.
2025-04-21 14:20:17,684 - app_setup - INFO - Collection info after clearing: {'exists': False}
2025-04-21 14:20:18,102 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 14:20:18,104 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:20:18,106 - app_setup - ERROR - Unhandled error in main application loop: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 127, in <module>
    main()
  File "/home/t/lm_rag/src/ui/app.py", line 74, in main
    selected_page = render_sidebar()
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/ui/app_ui_core.py", line 159, in render_sidebar
    st.session_state.confirm_delete = False; st.rerun()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 136, in __setattr__
    self[key] = value
    ~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 114, in __setitem__
    get_session_state()[key] = value
    ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py", line 101, in __setitem__
    self._state[key] = value
    ~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py", line 515, in __setitem__
    raise StreamlitAPIException(
streamlit.errors.StreamlitAPIException: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
2025-04-21 14:20:20,568 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:20:20,623 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 14:20:20,624 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:20:20,746 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 14:20:20,808 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 14:20:21,248 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:20:21,304 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 14:20:21,306 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:20:26,535 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:20:26,591 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 14:20:26,593 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:20:27,261 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:20:27,311 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 14:20:27,313 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:20:27,319 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-flash-preview (Backend: OPENROUTER)
2025-04-21 14:20:27,322 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 14:20:27,324 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 14:20:27,327 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 14:20:27,329 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:20:27,335 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 14:20:27,337 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 14:20:27,344 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 14:20:27,347 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 14:20:27,348 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 14:20:27,350 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 14:20:27,352 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 14:20:33,295 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 14:20:33,313 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 14:20:33,314 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 14:20:33,315 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 14:20:33,316 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 14:20:33,317 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.17 GB, VMS: 40.08 GB
2025-04-21 14:20:33,318 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 14:20:33,319 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 14:20:33,321 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 14:20:33,322 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 14:20:33,750 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 14:20:33,752 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 14:20:33,775 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 14:20:33,776 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 14:20:33,777 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.17 GB, VMS: 40.08 GB
2025-04-21 14:20:33,778 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:20:33,779 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 14:20:34,211 - app_setup - INFO - Document loader shut down complete.
2025-04-21 14:20:34,214 - app_setup - INFO - Process memory - RSS: 2.17 GB, VMS: 40.08 GB
2025-04-21 14:20:34,216 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:20:34,217 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 14:20:34,218 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 14:20:34,219 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.17 GB, VMS: 40.08 GB
2025-04-21 14:20:34,221 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:20:34,222 - app_setup - INFO - Loading chunking model...
2025-04-21 14:20:34,222 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:20:34,223 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 14:20:34,224 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 14:20:34,225 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 14:20:34,225 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 14:20:36,222 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 14:20:36,224 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 2.00 seconds
2025-04-21 14:20:36,225 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:20:36,226 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:20:36,227 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 14:20:36,228 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: 71010573-3855-4d68-a27e-b46d9f34fc50, Type: .pdf)
2025-04-21 14:20:36,229 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 14:20:36,229 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 14:20:36,230 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 14:20:36,251 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 14:20:36,252 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 14:20:36,253 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 14:20:36,254 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 14:20:36,255 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 14:20:36,256 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:20:36,257 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 14:20:36,258 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 14:20:36,259 - app_setup - INFO - Shutting down chunking model...
2025-04-21 14:20:36,260 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:20:36,260 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 14:20:36,261 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 14:20:36,262 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 14:20:36,264 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 14:20:36,866 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 14:20:36,868 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:20:36,869 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:20:37,300 - app_setup - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:20:37,302 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:20:37,303 - app_setup - INFO - Total chunks generated: 2
2025-04-21 14:20:37,304 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 14:20:37,304 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 14:20:37,305 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 14:20:37,306 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 14:20:37,309 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 14:20:37,309 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-flash-preview, debug=True
2025-04-21 14:20:37,310 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:20:37,311 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:20:37,312 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 14:20:37,313 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 14:20:37,314 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 14:20:37,315 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 14:20:37,316 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:20:37,317 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:20:37,318 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 14:20:37,318 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 14:20:37,319 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 14:20:37,320 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 14:20:37,321 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-flash-preview).
2025-04-21 14:20:37,321 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 14:20:37,322 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 14:20:37,323 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 14:20:37,324 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 14:20:37,325 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 14:20:37,325 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 14:20:37,326 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 14:20:37,327 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:20:37,328 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 14:20:37,328 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 14:20:37,329 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 14:20:37,331 - src.utils.openrouter_manager - ERROR - Exception during OpenRouter structured extraction API call: TypeError
Traceback (most recent call last):
  File "/home/t/lm_rag/src/utils/openrouter_manager.py", line 384, in extract_structured
    response = self.client.chat.completions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/openai/_utils/_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: Completions.create() got an unexpected keyword argument 'repetition_penalty'
2025-04-21 14:20:37,340 - src.utils.openrouter_manager - ERROR - OpenRouter extraction structured extraction error (TypeError): Completions.create() got an unexpected keyword argument 'repetition_penalty'
Traceback (most recent call last):
  File "/home/t/lm_rag/src/utils/openrouter_manager.py", line 384, in extract_structured
    response = self.client.chat.completions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/openai/_utils/_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: Completions.create() got an unexpected keyword argument 'repetition_penalty'
2025-04-21 14:20:37,341 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 801c36a3-20b2-4bc0-a3c8-7a62e4ce8c4f: An unexpected error occurred: Completions.create() got an unexpected keyword argument 'repetition_penalty'
2025-04-21 14:20:37,342 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:20:37,343 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 14:20:37,344 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 14:20:37,345 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 14:20:37,346 - src.utils.openrouter_manager - ERROR - Exception during OpenRouter structured extraction API call: TypeError
Traceback (most recent call last):
  File "/home/t/lm_rag/src/utils/openrouter_manager.py", line 384, in extract_structured
    response = self.client.chat.completions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/openai/_utils/_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: Completions.create() got an unexpected keyword argument 'repetition_penalty'
2025-04-21 14:20:37,347 - src.utils.openrouter_manager - ERROR - OpenRouter extraction structured extraction error (TypeError): Completions.create() got an unexpected keyword argument 'repetition_penalty'
Traceback (most recent call last):
  File "/home/t/lm_rag/src/utils/openrouter_manager.py", line 384, in extract_structured
    response = self.client.chat.completions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/openai/_utils/_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: Completions.create() got an unexpected keyword argument 'repetition_penalty'
2025-04-21 14:20:37,349 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 53543d62-a9d1-4504-a5e6-fe4e78dcafb6: An unexpected error occurred: Completions.create() got an unexpected keyword argument 'repetition_penalty'
2025-04-21 14:20:37,350 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 0.03s. Success: 0, Errors: 2
2025-04-21 14:20:37,351 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 0.03s
2025-04-21 14:20:37,352 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 14:20:37,353 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 0 entities, 0 relationships.
2025-04-21 14:20:37,353 - src.core.extraction.entity_extractor - WARNING - No raw data to deduplicate or save.
2025-04-21 14:20:37,354 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 0 entities, 0 relationships.
2025-04-21 14:20:37,355 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 14:20:37,356 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 14:20:37,357 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 14:20:37,790 - app_setup - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:20:37,792 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:20:37,845 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-flash-preview
2025-04-21 14:20:37,846 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 14:20:37,847 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 14:20:37,847 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 14:20:37,848 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 14:20:37,849 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 14:20:37,850 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 14:20:37,850 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 14:20:37,851 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 14:20:37,852 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 14:20:37,853 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 14:20:37,853 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 14:20:37,854 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 14:20:37,855 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 14:20:37,856 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:20:37,857 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:20:37,857 - app_setup - INFO - Loading indexing model...
2025-04-21 14:20:37,858 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 14:20:37,859 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 14:20:37,860 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 14:20:39,333 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 14:20:39,335 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.48 seconds
2025-04-21 14:20:39,336 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.61 GB, VMS: 45.03 GB
2025-04-21 14:20:39,338 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:20:39,443 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 14:20:39,444 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 14:20:39,445 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 14:20:39,446 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 14:20:39,446 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 14:20:39,465 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 14:20:39,481 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 14:20:39,482 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 14:20:39,483 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 14:20:39,484 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 14:20:39,485 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.04s (Success: True)
2025-04-21 14:20:39,534 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 14:20:39,535 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-21 14:20:39,904 - src.core.indexing.document_indexer - INFO - Collection created.
2025-04-21 14:20:40,337 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 14:20:40,340 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 14:20:40,341 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 14:20:40,342 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 14:20:46,590 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 6.25s
2025-04-21 14:20:46,592 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 14:20:46,594 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 14:20:46,642 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 14:20:46,643 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 801c36a3-20b2-4bc0-a3c8-7a62e4ce8c4f...
2025-04-21 14:20:46,682 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.04s
2025-04-21 14:20:46,684 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.23 GB, VMS: 42.91 GB
2025-04-21 14:20:46,685 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 14:20:47,217 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 6.88s. Overall success for this batch: True
2025-04-21 14:20:47,220 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 7.73s (Overall Success: True)
2025-04-21 14:20:47,222 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 7.78s =====
2025-04-21 14:20:47,225 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 14:20:47,226 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 14:20:47,227 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 14:20:47,991 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 14:20:48,434 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 14:20:48,450 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 14:20:48,889 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 14:20:48,891 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.44 GB, VMS: 42.91 GB
2025-04-21 14:20:48,892 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:20:48,893 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 14:20:48,894 - app_setup - INFO - Shutting down indexing model...
2025-04-21 14:20:48,895 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 14:20:49,343 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.91 GB
2025-04-21 14:20:49,345 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:20:49,411 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 14:20:49,412 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.91 GB
2025-04-21 14:20:49,414 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:20:49,861 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:20:49,934 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.91 GB
2025-04-21 14:20:49,941 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:27:05,965 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:27:05,966 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:27:05,966 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:27:05,966 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:27:06,885 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:27:10,210 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 14:27:12,125 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:27:12,126 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:27:12,127 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:27:12,128 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:27:12,128 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:27:12,401 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 14:27:21,548 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:27:21,551 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 14:27:21,552 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 14:27:21,553 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 14:27:21,555 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 14:27:21,631 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 14:27:21,632 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 14:27:21,635 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 14:27:21,636 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 14:27:21,637 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 14:27:21,647 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 14:27:21,649 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 14:27:21,650 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 14:27:21,651 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 14:27:21,652 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 14:27:21,652 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 14:27:21,653 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 14:27:21,654 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.63 GB
2025-04-21 14:27:21,738 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:27:21,741 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 14:27:21,811 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 14:27:21,812 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:27:25,006 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:27:25,066 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 14:27:25,067 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:27:26,301 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:27:26,359 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 14:27:26,361 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:27:26,793 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:27:26,856 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 14:27:26,857 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:27:26,863 - app_setup - INFO - Clearing all indexed and extracted data...
2025-04-21 14:27:27,009 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-21 14:27:28,018 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 14:27:28,021 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-21 14:27:28,023 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 14:27:28,023 - src.core.query_system.query_engine - INFO - Internal BM25 state cleared.
2025-04-21 14:27:28,025 - app_setup - INFO - Data clearing successful via QueryEngine.
2025-04-21 14:27:28,026 - app_setup - INFO - Cleared relevant session state caches after data deletion.
2025-04-21 14:27:28,097 - app_setup - INFO - Collection info after clearing: {'exists': False}
2025-04-21 14:27:28,552 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 14:27:28,553 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:27:28,555 - app_setup - ERROR - Unhandled error in main application loop: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 127, in <module>
    main()
  File "/home/t/lm_rag/src/ui/app.py", line 74, in main
    selected_page = render_sidebar()
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/ui/app_ui_core.py", line 159, in render_sidebar
    st.session_state.confirm_delete = False; st.rerun()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 136, in __setattr__
    self[key] = value
    ~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 114, in __setitem__
    get_session_state()[key] = value
    ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py", line 101, in __setitem__
    self._state[key] = value
    ~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py", line 515, in __setitem__
    raise StreamlitAPIException(
streamlit.errors.StreamlitAPIException: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
2025-04-21 14:27:33,507 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:27:33,560 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 14:27:33,562 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:27:33,689 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 14:27:33,750 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 14:27:34,183 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:27:34,238 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 14:27:34,239 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:27:37,461 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:27:37,525 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 14:27:37,527 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:27:38,293 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:27:38,347 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 14:27:38,348 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:27:38,354 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-flash-preview (Backend: OPENROUTER)
2025-04-21 14:27:38,356 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 14:27:38,357 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 14:27:38,360 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.71 GB
2025-04-21 14:27:38,362 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:27:38,366 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 14:27:38,368 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 14:27:38,374 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 14:27:38,384 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 14:27:38,385 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 14:27:38,386 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 14:27:38,389 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 14:27:45,216 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 14:27:45,231 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 14:27:45,232 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 14:27:45,233 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 14:27:45,234 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 14:27:45,235 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 14:27:45,237 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 14:27:45,237 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 14:27:45,240 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 14:27:45,241 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 14:27:45,690 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 14:27:45,691 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 14:27:45,715 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 14:27:45,716 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 14:27:45,717 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 14:27:45,718 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:27:45,719 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 14:27:46,143 - app_setup - INFO - Document loader shut down complete.
2025-04-21 14:27:46,145 - app_setup - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 14:27:46,147 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:27:46,149 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 14:27:46,151 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 14:27:46,152 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 14:27:46,153 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:27:46,154 - app_setup - INFO - Loading chunking model...
2025-04-21 14:27:46,155 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:27:46,156 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 14:27:46,157 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 14:27:46,157 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 14:27:46,158 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 14:27:50,517 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 14:27:50,518 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.36 seconds
2025-04-21 14:27:50,520 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:27:50,521 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:27:50,522 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 14:27:50,523 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: f8c738b6-46d6-4dfb-ae3b-e52a76950c28, Type: .pdf)
2025-04-21 14:27:50,524 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 14:27:50,525 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 14:27:50,526 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 14:27:50,549 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 14:27:50,550 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 14:27:50,551 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 14:27:50,552 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 14:27:50,553 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 14:27:50,554 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:27:50,556 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 14:27:50,557 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 14:27:50,558 - app_setup - INFO - Shutting down chunking model...
2025-04-21 14:27:50,559 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:27:50,559 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 14:27:50,560 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 14:27:50,561 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 14:27:50,563 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 14:27:51,243 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 14:27:51,245 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:27:51,246 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:27:51,694 - app_setup - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:27:51,696 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:27:51,697 - app_setup - INFO - Total chunks generated: 2
2025-04-21 14:27:51,697 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 14:27:51,698 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 14:27:51,699 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 14:27:51,700 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 14:27:51,703 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 14:27:51,703 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-flash-preview, debug=True
2025-04-21 14:27:51,705 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:27:51,706 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:27:51,707 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 14:27:51,707 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 14:27:51,708 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 14:27:51,709 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 14:27:51,710 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:27:51,711 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:27:51,712 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 14:27:51,713 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 14:27:51,713 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 14:27:51,714 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 14:27:51,715 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-flash-preview).
2025-04-21 14:27:51,716 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 14:27:51,716 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 14:27:51,717 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 14:27:51,718 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 14:27:51,719 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 14:27:51,720 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 14:27:51,721 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 14:27:51,721 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:27:51,722 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 14:27:51,723 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 14:27:51,724 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 14:28:17,157 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Unterminated string starting at: line 61 column 16 (char 1710)
2025-04-21 14:28:17,159 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "thirty thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "London",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Software Engineer",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": "earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "thirty thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": "lives in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "London",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": "works as a",
      "relationship_type": "WORKS_FOR",
      "to_entity_name": "Software Engineer",
      "to_entity_type": "POSITION"
    }
  ],
  "metadata": {
    "summary": "This text describes a person's age, income, location, and occupation. It mentions a person, a monetary amount, a location, and a position. There are no complex relationships or financial transactions described beyond a person's salary and residence. The information appears straightforward and personal in nature, without suggesting any business or organizational context that would typically involve complex financial or regulatory issues. The text does not contain information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual'
2025-04-21 14:28:17,182 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "thirty thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "London",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Software Engineer",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": "earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "thirty thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": "lives in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "London",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": "works as a",
      "relationship_type": "WORKS_FOR",
      "to_entity_name": "Software Engineer",
      "to_entity_type": "POSITION"
    }
  ],
  "metadata": {
    "summary": "This text describes a person's age, income, location, and occupation. It mentions a person, a monetary amount, a location, and a position. There are no complex relationships or financial transactions described beyond a person's salary and residence. The information appears straightforward and personal in nature, without suggesting any business or organizational context that would typically involve complex financial or regulatory issues. The text does not contain information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual's basic details. The text does not contain any information that would indicate potential corruption risks or red flags. It is a simple description of an individual'
2025-04-21 14:28:17,206 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 166f518f-2058-4e97-9b3a-198ad2689379: Model returned invalid JSON content: Unterminated string starting at: line 61 column 16 (char 1710)
2025-04-21 14:28:17,207 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:28:17,208 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 14:28:17,209 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 14:28:17,209 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 14:28:43,089 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Unterminated string starting at: line 141 column 16 (char 4083)
2025-04-21 14:28:43,090 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Manchester",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_description": "Resides in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Manchester",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Doctor",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "Holds the position of",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "Doctor",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "ninety-five thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "Earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "ninety-five thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Birmingham",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "Resides in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Birmingham",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Data Scientist",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "Holds the position of",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "Data Scientist",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "seventy-two thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "Earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "seventy-two thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Edinburgh",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "Is based in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Edinburgh",
      "to_entity_type": "LOCATION"
    }
  ],
  "metadata": {
    "summary": "This text provides details about several individuals, including their ages, occupations, salaries, and locations. It mentions a person who is a student, another who is a doctor earning a specific amount of money, and a third person who is a data scientist also earning a stated amount of money. The individuals are located in different cities in the UK. The text also includes employee IDs for some individuals and notes that one person earns zero money. It involves multiple persons, positions, money amounts, and locations. There are no commercial companies, NGOs, government bodies, assets, or events mentioned. There are no apparent red flags related to corruption in this text, as it simply describes personal details and employment information without any indication of suspicious activities or financial irregularities. The text focuses on basic personal and professional information for several individuals, including their roles, earnings, and where they live. It provides a snapshot of their current status without delving into complex financial or business relationships that might raise concerns. The information presented is straightforward and does not suggest any hidden or illicit activities. The details provided are typical for personal profiles or employment records, and there is no indication of any unusual transactions, undisclosed assets, or conflicts of interest. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and do not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and do not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and do not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities
2025-04-21 14:28:43,117 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Manchester",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_description": "Resides in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Manchester",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Doctor",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "Holds the position of",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "Doctor",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "ninety-five thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "Earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "ninety-five thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Birmingham",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "Resides in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Birmingham",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Data Scientist",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "Holds the position of",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "Data Scientist",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "seventy-two thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "Earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "seventy-two thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Edinburgh",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "Is based in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Edinburgh",
      "to_entity_type": "LOCATION"
    }
  ],
  "metadata": {
    "summary": "This text provides details about several individuals, including their ages, occupations, salaries, and locations. It mentions a person who is a student, another who is a doctor earning a specific amount of money, and a third person who is a data scientist also earning a stated amount of money. The individuals are located in different cities in the UK. The text also includes employee IDs for some individuals and notes that one person earns zero money. It involves multiple persons, positions, money amounts, and locations. There are no commercial companies, NGOs, government bodies, assets, or events mentioned. There are no apparent red flags related to corruption in this text, as it simply describes personal details and employment information without any indication of suspicious activities or financial irregularities. The text focuses on basic personal and professional information for several individuals, including their roles, earnings, and where they live. It provides a snapshot of their current status without delving into complex financial or business relationships that might raise concerns. The information presented is straightforward and does not suggest any hidden or illicit activities. The details provided are typical for personal profiles or employment records, and there is no indication of any unusual transactions, undisclosed assets, or conflicts of interest. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and do not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and do not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and do not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities or irregularities. The text is purely descriptive of personal circumstances and employment details, and it does not contain any elements that would typically be associated with corrupt practices. Therefore, based on the content provided, there are no red flags for corruption. The text simply lists personal and professional details for several individuals, including their jobs, salaries, and locations. It does not contain any information about financial transactions, business dealings, or relationships with government bodies or other organizations that might indicate corruption. The details provided are straightforward and does not suggest any suspicious activities
2025-04-21 14:28:43,144 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk e905c202-8858-4ed4-b3bd-8fd5129cf374: Model returned invalid JSON content: Unterminated string starting at: line 141 column 16 (char 4083)
2025-04-21 14:28:43,146 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 51.43s. Success: 0, Errors: 2
2025-04-21 14:28:43,147 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 51.43s
2025-04-21 14:28:43,148 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 14:28:43,149 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 0 entities, 0 relationships.
2025-04-21 14:28:43,149 - src.core.extraction.entity_extractor - WARNING - No raw data to deduplicate or save.
2025-04-21 14:28:43,151 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 0 entities, 0 relationships.
2025-04-21 14:28:43,152 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 14:28:43,153 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 14:28:43,154 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 14:28:43,604 - app_setup - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:28:43,606 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:28:43,657 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-flash-preview
2025-04-21 14:28:43,658 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 14:28:43,659 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 14:28:43,660 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 14:28:43,661 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 14:28:43,662 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 14:28:43,663 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 14:28:43,663 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 14:28:43,664 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 14:28:43,665 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 14:28:43,666 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 14:28:43,666 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 14:28:43,667 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 14:28:43,668 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 14:28:43,669 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:28:43,670 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:28:43,671 - app_setup - INFO - Loading indexing model...
2025-04-21 14:28:43,671 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 14:28:43,672 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 14:28:43,673 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 14:28:45,221 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 14:28:45,223 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.55 seconds
2025-04-21 14:28:45,224 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.62 GB, VMS: 45.09 GB
2025-04-21 14:28:45,225 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:28:45,327 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 14:28:45,328 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 14:28:45,329 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 14:28:45,329 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 14:28:45,330 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 14:28:45,334 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 14:28:45,350 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 14:28:45,351 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 14:28:45,352 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 14:28:45,353 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 14:28:45,354 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.02s (Success: True)
2025-04-21 14:28:45,403 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 14:28:45,404 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-21 14:28:45,751 - src.core.indexing.document_indexer - INFO - Collection created.
2025-04-21 14:28:46,188 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 14:28:46,191 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 14:28:46,192 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 14:28:46,194 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 14:28:52,500 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 6.31s
2025-04-21 14:28:52,501 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 14:28:52,503 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 14:28:52,548 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 14:28:52,550 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 166f518f-2058-4e97-9b3a-198ad2689379...
2025-04-21 14:28:52,567 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.02s
2025-04-21 14:28:52,569 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.33 GB, VMS: 42.98 GB
2025-04-21 14:28:52,571 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 14:28:53,015 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 6.82s. Overall success for this batch: True
2025-04-21 14:28:53,020 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 7.66s (Overall Success: True)
2025-04-21 14:28:53,023 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 7.69s =====
2025-04-21 14:28:53,024 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 14:28:53,025 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 14:28:53,026 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 14:28:53,690 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 14:28:54,132 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 14:28:54,147 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 14:28:54,594 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 14:28:54,597 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.44 GB, VMS: 42.98 GB
2025-04-21 14:28:54,598 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:28:54,599 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 14:28:54,599 - app_setup - INFO - Shutting down indexing model...
2025-04-21 14:28:54,600 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 14:28:55,040 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.98 GB
2025-04-21 14:28:55,042 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:28:55,104 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 14:28:55,105 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.98 GB
2025-04-21 14:28:55,106 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:28:55,556 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:28:55,627 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.98 GB
2025-04-21 14:28:55,629 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:33:52,255 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:33:52,256 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:33:52,256 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:33:52,256 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:33:53,149 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:33:59,070 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 14:34:01,045 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:34:01,046 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:34:01,047 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:34:01,048 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:34:01,049 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:34:01,322 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 14:34:07,450 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:34:07,452 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 14:34:07,453 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 14:34:07,454 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 14:34:07,456 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 14:34:07,527 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 14:34:07,528 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 14:34:07,530 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 14:34:07,531 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 14:34:07,532 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 14:34:07,542 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 14:34:07,545 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 14:34:07,546 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 14:34:07,547 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 14:34:07,548 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 14:34:07,548 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 14:34:07,549 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 14:34:07,550 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.33 GB, VMS: 37.63 GB
2025-04-21 14:34:07,628 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:34:07,630 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 14:34:07,694 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 14:34:07,695 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:34:15,797 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:34:15,855 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 14:34:15,856 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:34:17,434 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:34:17,492 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 14:34:17,493 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:34:17,974 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:34:18,036 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 14:34:18,037 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:34:19,408 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:34:19,466 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 14:34:19,467 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:34:19,897 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:34:19,958 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 14:34:19,959 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:34:19,964 - app_setup - INFO - Clearing all indexed and extracted data...
2025-04-21 14:34:20,110 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-21 14:34:21,128 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 14:34:21,131 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-21 14:34:21,132 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 14:34:21,133 - src.core.query_system.query_engine - INFO - Internal BM25 state cleared.
2025-04-21 14:34:21,134 - app_setup - INFO - Data clearing successful via QueryEngine.
2025-04-21 14:34:21,135 - app_setup - INFO - Cleared relevant session state caches after data deletion.
2025-04-21 14:34:21,191 - app_setup - INFO - Collection info after clearing: {'exists': False}
2025-04-21 14:34:21,618 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.71 GB
2025-04-21 14:34:21,620 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:34:21,622 - app_setup - ERROR - Unhandled error in main application loop: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 127, in <module>
    main()
  File "/home/t/lm_rag/src/ui/app.py", line 74, in main
    selected_page = render_sidebar()
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/ui/app_ui_core.py", line 159, in render_sidebar
    st.session_state.confirm_delete = False; st.rerun()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 136, in __setattr__
    self[key] = value
    ~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 114, in __setitem__
    get_session_state()[key] = value
    ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py", line 101, in __setitem__
    self._state[key] = value
    ~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py", line 515, in __setitem__
    raise StreamlitAPIException(
streamlit.errors.StreamlitAPIException: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
2025-04-21 14:34:23,217 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:34:23,274 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.71 GB
2025-04-21 14:34:23,275 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:34:23,401 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 14:34:23,461 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 14:34:23,904 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:34:23,966 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.71 GB
2025-04-21 14:34:23,968 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:34:29,675 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:34:29,735 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.71 GB
2025-04-21 14:34:29,737 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:34:30,365 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:34:30,422 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.71 GB
2025-04-21 14:34:30,425 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:34:30,433 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-flash-preview (Backend: OPENROUTER)
2025-04-21 14:34:30,436 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 14:34:30,438 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 14:34:30,441 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.71 GB
2025-04-21 14:34:30,444 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:34:30,451 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 14:34:30,453 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 14:34:30,459 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 14:34:30,463 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 14:34:30,465 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 14:34:30,466 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 14:34:30,467 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 14:34:33,770 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 14:34:33,784 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 14:34:33,785 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 14:34:33,786 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 14:34:33,787 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 14:34:33,788 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 14:34:33,789 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 14:34:33,790 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 14:34:33,792 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 14:34:33,793 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 14:34:34,230 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 14:34:34,232 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 14:34:34,255 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 14:34:34,257 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 14:34:34,258 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 14:34:34,259 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:34:34,260 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 14:34:34,692 - app_setup - INFO - Document loader shut down complete.
2025-04-21 14:34:34,693 - app_setup - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 14:34:34,694 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:34:34,695 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 14:34:34,696 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 14:34:34,697 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 14:34:34,698 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:34:34,699 - app_setup - INFO - Loading chunking model...
2025-04-21 14:34:34,700 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:34:34,701 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 14:34:34,701 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 14:34:34,702 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 14:34:34,703 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 14:34:49,401 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 14:34:49,402 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 14.70 seconds
2025-04-21 14:34:49,403 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.54 GB, VMS: 41.60 GB
2025-04-21 14:34:49,405 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:34:49,406 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 14:34:49,407 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: 80e728d0-1032-447e-ae17-32ea8555ca1e, Type: .pdf)
2025-04-21 14:34:49,408 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 14:34:49,408 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 14:34:49,409 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 14:34:49,430 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 14:34:49,431 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 14:34:49,432 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 14:34:49,433 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 14:34:49,434 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 14:34:49,435 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.54 GB, VMS: 41.60 GB
2025-04-21 14:34:49,436 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 14:34:49,437 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 14:34:49,438 - app_setup - INFO - Shutting down chunking model...
2025-04-21 14:34:49,439 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:34:49,439 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 14:34:49,440 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 14:34:49,441 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 14:34:49,443 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 14:34:50,078 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 14:34:50,080 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.54 GB, VMS: 41.60 GB
2025-04-21 14:34:50,081 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:34:50,524 - app_setup - INFO - Process memory - RSS: 2.54 GB, VMS: 41.60 GB
2025-04-21 14:34:50,526 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:34:50,527 - app_setup - INFO - Total chunks generated: 2
2025-04-21 14:34:50,527 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 14:34:50,528 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 14:34:50,529 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 14:34:50,530 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 14:34:50,532 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 14:34:50,533 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-flash-preview, debug=True
2025-04-21 14:34:50,534 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.54 GB, VMS: 41.60 GB
2025-04-21 14:34:50,535 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:34:50,536 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 14:34:50,537 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 14:34:50,538 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 14:34:50,539 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 14:34:50,540 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.54 GB, VMS: 41.60 GB
2025-04-21 14:34:50,541 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:34:50,542 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 14:34:50,542 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 14:34:50,543 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 14:34:50,544 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 14:34:50,545 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-flash-preview).
2025-04-21 14:34:50,546 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 14:34:50,546 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 14:34:50,547 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 14:34:50,548 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 14:34:50,549 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 14:34:50,549 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 14:34:50,550 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 14:34:50,551 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:34:50,552 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 14:34:50,553 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 14:34:50,553 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 14:35:16,736 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Unterminated string starting at: line 61 column 16 (char 1710)
2025-04-21 14:35:16,738 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "thirty thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "London",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Software Engineer",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": "earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "thirty thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": "lives in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "London",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": "works as a",
      "relationship_type": "WORKS_FOR",
      "to_entity_name": "Software Engineer",
      "to_entity_type": "POSITION"
    }
  ],
  "metadata": {
    "summary": "This text provides basic personal information about a person, including their age, annual income (money), location, and professional position. It describes a person, a location, a position, and a monetary value. There are no complex relationships or financial transactions mentioned beyond income details. The information appears straightforward and factual, focusing on personal attributes and employment status. The text does not indicate any unusual or suspicious activities or connections. It is a simple description of an individual's circumstances. The details are presented clearly and concisely. No further context is provided about the individual or their activities beyond these basic facts. The text is purely descriptive of personal status. It does not involve any organizational or governmental entities. The focus is solely on the individual's personal and professional life details. The information is limited to age, income, residence, and job title. No other aspects of their life or activities are mentioned. The text is brief and to the point. It serves as a simple profile of an individual. The entities involved are a person, a location, a position, and a monetary value. The relationships described are earning income, living in a location, and working in a position. There are no other relationships or entities mentioned in the text. The text is purely informational and descriptive. It does not contain any narrative or event details. The information is presented as simple facts about the individual. The text is very short and provides only essential details. It is a basic personal description. The entities are clearly defined and the relationships are straightforward. There are no ambiguities in the text. The information is easy to understand and interpret. The text is a simple statement of facts. It does not imply any further context or background. The details provided are limited to the individual's current status. There is no historical or future information included. The text is a snapshot of the individual's life at a specific point in time. The information is presented in a clear and concise manner. The text is easy to read and understand. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement
2025-04-21 14:35:16,764 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "thirty thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "London",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Software Engineer",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": "earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "thirty thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": "lives in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "London",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_description": "works as a",
      "relationship_type": "WORKS_FOR",
      "to_entity_name": "Software Engineer",
      "to_entity_type": "POSITION"
    }
  ],
  "metadata": {
    "summary": "This text provides basic personal information about a person, including their age, annual income (money), location, and professional position. It describes a person, a location, a position, and a monetary value. There are no complex relationships or financial transactions mentioned beyond income details. The information appears straightforward and factual, focusing on personal attributes and employment status. The text does not indicate any unusual or suspicious activities or connections. It is a simple description of an individual's circumstances. The details are presented clearly and concisely. No further context is provided about the individual or their activities beyond these basic facts. The text is purely descriptive of personal status. It does not involve any organizational or governmental entities. The focus is solely on the individual's personal and professional life details. The information is limited to age, income, residence, and job title. No other aspects of their life or activities are mentioned. The text is brief and to the point. It serves as a simple profile of an individual. The entities involved are a person, a location, a position, and a monetary value. The relationships described are earning income, living in a location, and working in a position. There are no other relationships or entities mentioned in the text. The text is purely informational and descriptive. It does not contain any narrative or event details. The information is presented as simple facts about the individual. The text is very short and provides only essential details. It is a basic personal description. The entities are clearly defined and the relationships are straightforward. There are no ambiguities in the text. The information is easy to understand and interpret. The text is a simple statement of facts. It does not imply any further context or background. The details provided are limited to the individual's current status. There is no historical or future information included. The text is a snapshot of the individual's life at a specific point in time. The information is presented in a clear and concise manner. The text is easy to read and understand. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement of facts. It does not contain any subjective or opinion-based information. The text is purely objective and descriptive. The information is presented in a neutral tone. There is no bias or judgment in the text. The text is a simple report of facts. It does not provide any analysis or commentary. The text is purely informational. It serves to convey basic details about the individual. The text is straightforward and unambiguous. The information is presented clearly and concisely. The text is easy to understand and interpret. The entities and relationships are explicitly stated. There is no need for inference or interpretation. The text is a direct statement
2025-04-21 14:35:16,789 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk a61085e0-146d-4639-afdf-92adf6657694: Model returned invalid JSON content: Unterminated string starting at: line 61 column 16 (char 1710)
2025-04-21 14:35:16,790 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:35:16,791 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 14:35:16,792 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 14:35:16,793 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 14:35:43,137 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Unterminated string starting at: line 141 column 16 (char 4047)
2025-04-21 14:35:43,138 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Manchester",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_description": "lives in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Manchester",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Doctor",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "is a",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "Doctor",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "ninety-five thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "ninety-five thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Birmingham",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "resides in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Birmingham",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Data Scientist",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "is a",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "Data Scientist",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "seventy-two thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "seventy-two thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Edinburgh",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "is based in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Edinburgh",
      "to_entity_type": "LOCATION"
    }
  ],
  "metadata": {
    "summary": "This text provides details about several individuals, including their ages, occupations, salaries, and locations. It mentions a person who is a student, another person who is a doctor earning a specific amount of money, and a third person who is a data scientist also earning a specific amount of money. The text includes information about locations where these individuals reside and the amounts of money they earn annually. It also references employee IDs, though these are not extracted as entities or relationships in this context. The text focuses on personal and professional details of individuals in different locations and positions, along with their earnings in pounds. It does not contain information related to companies, NGOs, government bodies, assets, or events beyond the personal details provided. There are no apparent red flags for corruption in this text, as it describes standard personal and employment information without any indication of illicit activities or unusual financial practices. The summary abstracts the specific names of individuals and locations to their entity types, such as 'a person', 'a location', 'a position', and 'money', to provide a generalized overview of the content. It highlights the presence of individuals with different occupations and earnings, residing in various locations, and notes the mention of monetary amounts and positions held by these individuals. The text is straightforward and descriptive, focusing on demographic and employment details without suggesting any complex or potentially suspicious interactions or transactions. The information presented is typical of personal profiles or employment records, detailing age, occupation, income, and residence for multiple individuals. The absence of any mention of companies, organizations, or financial transactions beyond salaries indicates a focus on individual circumstances rather than broader economic or organizational activities. The text is purely descriptive of personal and professional attributes of the individuals mentioned. It does not involve any complex financial structures, offshore accounts, or interactions with government bodies or NGOs that might raise concerns about corruption. The details provided are limited to basic personal and employment data, making it a simple and transparent description of the individuals' situations. The text is concise and directly presents the information about each person without additional context or narrative that might suggest underlying issues. The focus is solely on presenting factual details about the individuals' lives and work. The text is clear and unambiguous in its description of each person's situation, including their age, job, income, and place of residence. There are no hidden meanings or implications of wrongdoing in the information provided. The text is a simple list of facts about different people. It does not describe any events or activities that would be relevant to corruption. The information is limited to personal attributes and employment details. The text is straightforward and easy to understand, providing basic information about the individuals mentioned. It does not contain any complex or technical language. The text is purely descriptive and does not involve any analysis or interpretation of the information provided. It simply presents the facts as they are. The text is short and to the point, providing only the essential details about each person. It does not include any unnecessary information or embellishments. The text is well-structured and easy to read, with clear separation between the information for each person. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a
2025-04-21 14:35:43,165 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Manchester",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_description": "lives in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Manchester",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Doctor",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "is a",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "Doctor",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "ninety-five thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "ninety-five thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Birmingham",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_description": "resides in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Birmingham",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Data Scientist",
      "from_entity_type": "POSITION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "is a",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "Data Scientist",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "seventy-two thousand pounds",
      "from_entity_type": "MONEY",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "earns",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "seventy-two thousand pounds",
      "to_entity_type": "MONEY"
    },
    {
      "from_entity_name": "Edinburgh",
      "from_entity_type": "LOCATION",
      "relationship_description": null,
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_description": "is based in",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Edinburgh",
      "to_entity_type": "LOCATION"
    }
  ],
  "metadata": {
    "summary": "This text provides details about several individuals, including their ages, occupations, salaries, and locations. It mentions a person who is a student, another person who is a doctor earning a specific amount of money, and a third person who is a data scientist also earning a specific amount of money. The text includes information about locations where these individuals reside and the amounts of money they earn annually. It also references employee IDs, though these are not extracted as entities or relationships in this context. The text focuses on personal and professional details of individuals in different locations and positions, along with their earnings in pounds. It does not contain information related to companies, NGOs, government bodies, assets, or events beyond the personal details provided. There are no apparent red flags for corruption in this text, as it describes standard personal and employment information without any indication of illicit activities or unusual financial practices. The summary abstracts the specific names of individuals and locations to their entity types, such as 'a person', 'a location', 'a position', and 'money', to provide a generalized overview of the content. It highlights the presence of individuals with different occupations and earnings, residing in various locations, and notes the mention of monetary amounts and positions held by these individuals. The text is straightforward and descriptive, focusing on demographic and employment details without suggesting any complex or potentially suspicious interactions or transactions. The information presented is typical of personal profiles or employment records, detailing age, occupation, income, and residence for multiple individuals. The absence of any mention of companies, organizations, or financial transactions beyond salaries indicates a focus on individual circumstances rather than broader economic or organizational activities. The text is purely descriptive of personal and professional attributes of the individuals mentioned. It does not involve any complex financial structures, offshore accounts, or interactions with government bodies or NGOs that might raise concerns about corruption. The details provided are limited to basic personal and employment data, making it a simple and transparent description of the individuals' situations. The text is concise and directly presents the information about each person without additional context or narrative that might suggest underlying issues. The focus is solely on presenting factual details about the individuals' lives and work. The text is clear and unambiguous in its description of each person's situation, including their age, job, income, and place of residence. There are no hidden meanings or implications of wrongdoing in the information provided. The text is a simple list of facts about different people. It does not describe any events or activities that would be relevant to corruption. The information is limited to personal attributes and employment details. The text is straightforward and easy to understand, providing basic information about the individuals mentioned. It does not contain any complex or technical language. The text is purely descriptive and does not involve any analysis or interpretation of the information provided. It simply presents the facts as they are. The text is short and to the point, providing only the essential details about each person. It does not include any unnecessary information or embellishments. The text is well-structured and easy to read, with clear separation between the information for each person. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a structured format, with clear separation between the different pieces of information. It is easy to extract the relevant details from the text. The text is accurate and consistent in the information it provides. There are no contradictions or inconsistencies in the details presented. The text is complete and provides all the necessary information about each person. There are no missing details that would make it difficult to understand the information. The text is relevant to the task of extracting entities and relationships, as it contains clear examples of individuals, locations, positions, and money. The text is suitable for the purpose of demonstrating the extraction capabilities of the model. The text is a good example of how to present information about multiple individuals in a clear and concise manner. It is easy to follow the information for each person. The text is a simple and straightforward example of how to describe personal and professional details. It does not involve any complex or unusual situations. The text is a good starting point for extracting entities and relationships, as it contains clear examples of the different types of entities and relationships that can be extracted. The text is a good example of how to present information in a
2025-04-21 14:35:43,191 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 2dd2a167-2887-406e-bf8a-ac92d854b80e: Model returned invalid JSON content: Unterminated string starting at: line 141 column 16 (char 4047)
2025-04-21 14:35:43,192 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 52.64s. Success: 0, Errors: 2
2025-04-21 14:35:43,193 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 52.65s
2025-04-21 14:35:43,194 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 14:35:43,195 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 0 entities, 0 relationships.
2025-04-21 14:35:43,196 - src.core.extraction.entity_extractor - WARNING - No raw data to deduplicate or save.
2025-04-21 14:35:43,196 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 0 entities, 0 relationships.
2025-04-21 14:35:43,197 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 14:35:43,198 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 14:35:43,199 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 14:35:43,655 - app_setup - INFO - Process memory - RSS: 2.54 GB, VMS: 41.60 GB
2025-04-21 14:35:43,656 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:35:43,710 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-flash-preview
2025-04-21 14:35:43,711 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 14:35:43,712 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 14:35:43,713 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 14:35:43,714 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 14:35:43,715 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 14:35:43,715 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 14:35:43,716 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 14:35:43,717 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 14:35:43,719 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 14:35:43,719 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 14:35:43,720 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 14:35:43,721 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 14:35:43,722 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 14:35:43,723 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.54 GB, VMS: 41.60 GB
2025-04-21 14:35:43,724 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:35:43,725 - app_setup - INFO - Loading indexing model...
2025-04-21 14:35:43,726 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 14:35:43,726 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 14:35:43,727 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 14:35:45,093 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 14:35:45,095 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.37 seconds
2025-04-21 14:35:45,096 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.61 GB, VMS: 45.09 GB
2025-04-21 14:35:45,098 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:35:45,204 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 14:35:45,205 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 14:35:45,206 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 14:35:45,207 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 14:35:45,208 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 14:35:45,212 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 14:35:45,228 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 14:35:45,230 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 14:35:45,231 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 14:35:45,233 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 14:35:45,233 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.03s (Success: True)
2025-04-21 14:35:45,284 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 14:35:45,285 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-21 14:35:45,667 - src.core.indexing.document_indexer - INFO - Collection created.
2025-04-21 14:35:46,109 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 14:35:46,112 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 14:35:46,113 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 14:35:46,114 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 14:35:52,550 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 6.44s
2025-04-21 14:35:52,552 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 14:35:52,556 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 14:35:52,619 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 14:35:52,621 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: a61085e0-146d-4639-afdf-92adf6657694...
2025-04-21 14:35:52,647 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.02s
2025-04-21 14:35:52,650 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.32 GB, VMS: 42.97 GB
2025-04-21 14:35:52,652 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 14:35:53,247 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 7.13s. Overall success for this batch: True
2025-04-21 14:35:53,252 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 8.02s (Overall Success: True)
2025-04-21 14:35:53,254 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 8.05s =====
2025-04-21 14:35:53,256 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 14:35:53,257 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 14:35:53,257 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 14:35:53,916 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 14:35:54,358 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 14:35:54,373 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 14:35:54,812 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 14:35:54,817 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.43 GB, VMS: 42.97 GB
2025-04-21 14:35:54,818 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:35:54,819 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 14:35:54,820 - app_setup - INFO - Shutting down indexing model...
2025-04-21 14:35:54,820 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 14:35:55,288 - app_setup - INFO - Process memory - RSS: 3.43 GB, VMS: 42.97 GB
2025-04-21 14:35:55,290 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:35:55,354 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 14:35:55,355 - app_setup - INFO - Process memory - RSS: 3.43 GB, VMS: 42.97 GB
2025-04-21 14:35:55,356 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:35:55,859 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:35:55,943 - app_setup - INFO - Process memory - RSS: 3.43 GB, VMS: 42.97 GB
2025-04-21 14:35:55,944 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:40:17,061 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:40:17,062 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:40:17,062 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:40:17,062 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:40:18,015 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:40:24,598 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 14:40:26,571 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:40:26,572 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:40:26,573 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:40:26,574 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:40:26,575 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:40:26,844 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 14:40:33,339 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:40:33,342 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 14:40:33,343 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 14:40:33,344 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 14:40:33,345 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 14:40:33,425 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 14:40:33,426 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 14:40:33,429 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 14:40:33,430 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 14:40:33,431 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 14:40:33,440 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 14:40:33,443 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 14:40:33,444 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 14:40:33,444 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 14:40:33,445 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 14:40:33,446 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 14:40:33,447 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 14:40:33,448 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.63 GB
2025-04-21 14:40:33,531 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:40:33,533 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 14:40:33,600 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 14:40:33,602 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:43:04,875 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:43:04,934 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 14:43:04,935 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:43:06,061 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:43:06,121 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 14:43:06,123 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:43:06,564 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:43:06,629 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 14:43:06,630 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:43:06,638 - app_setup - INFO - Clearing all indexed and extracted data...
2025-04-21 14:43:06,795 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-21 14:43:07,811 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 14:43:07,813 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-21 14:43:07,815 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 14:43:07,816 - src.core.query_system.query_engine - INFO - Internal BM25 state cleared.
2025-04-21 14:43:07,817 - app_setup - INFO - Data clearing successful via QueryEngine.
2025-04-21 14:43:07,819 - app_setup - INFO - Cleared relevant session state caches after data deletion.
2025-04-21 14:43:07,877 - app_setup - INFO - Collection info after clearing: {'exists': False}
2025-04-21 14:43:08,333 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.71 GB
2025-04-21 14:43:08,336 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:43:08,339 - app_setup - ERROR - Unhandled error in main application loop: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 127, in <module>
    main()
  File "/home/t/lm_rag/src/ui/app.py", line 74, in main
    selected_page = render_sidebar()
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/ui/app_ui_core.py", line 159, in render_sidebar
    st.session_state.confirm_delete = False; st.rerun()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 136, in __setattr__
    self[key] = value
    ~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 114, in __setitem__
    get_session_state()[key] = value
    ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py", line 101, in __setitem__
    self._state[key] = value
    ~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py", line 515, in __setitem__
    raise StreamlitAPIException(
streamlit.errors.StreamlitAPIException: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
2025-04-21 14:43:42,591 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:43:42,645 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.71 GB
2025-04-21 14:43:42,646 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:43:42,776 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 14:43:42,837 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 14:43:43,268 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:43:43,326 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.71 GB
2025-04-21 14:43:43,328 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:43:48,161 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:43:48,224 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.71 GB
2025-04-21 14:43:48,226 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:43:52,308 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:43:52,360 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.71 GB
2025-04-21 14:43:52,361 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:43:52,367 - app_setup - INFO - Starting processing with LLM: google/gemini-2.5-flash-preview (Backend: OPENROUTER)
2025-04-21 14:43:52,371 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 14:43:52,374 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 14:43:52,377 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.71 GB
2025-04-21 14:43:52,379 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:43:52,381 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 14:43:52,383 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 14:43:52,390 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 14:43:52,393 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 14:43:52,395 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 14:43:52,396 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 14:43:52,396 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 14:43:58,127 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 14:43:58,142 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 14:43:58,143 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 14:43:58,144 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 14:43:58,145 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 14:43:58,146 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.17 GB, VMS: 40.08 GB
2025-04-21 14:43:58,148 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 14:43:58,149 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 14:43:58,151 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 14:43:58,152 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 14:43:58,650 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 14:43:58,651 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 14:43:58,677 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 14:43:58,678 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 14:43:58,679 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.17 GB, VMS: 40.08 GB
2025-04-21 14:43:58,681 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:43:58,683 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 14:43:59,200 - app_setup - INFO - Document loader shut down complete.
2025-04-21 14:43:59,202 - app_setup - INFO - Process memory - RSS: 2.17 GB, VMS: 40.08 GB
2025-04-21 14:43:59,203 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:43:59,204 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 14:43:59,205 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 14:43:59,207 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.17 GB, VMS: 40.08 GB
2025-04-21 14:43:59,209 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:43:59,210 - app_setup - INFO - Loading chunking model...
2025-04-21 14:43:59,211 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:43:59,212 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 14:43:59,213 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 14:43:59,214 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 14:43:59,215 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 14:44:03,795 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 14:44:03,797 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.58 seconds
2025-04-21 14:44:03,798 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:44:03,799 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:44:03,800 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 14:44:03,801 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: 348b31a3-70f6-4ff8-9b67-5f0c5dbcb08a, Type: .pdf)
2025-04-21 14:44:03,802 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 14:44:03,803 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 14:44:03,804 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 14:44:03,826 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 14:44:03,827 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 14:44:03,828 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 14:44:03,829 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 14:44:03,830 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 14:44:03,831 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:44:03,832 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 14:44:03,833 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 14:44:03,835 - app_setup - INFO - Shutting down chunking model...
2025-04-21 14:44:03,835 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:44:03,836 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 14:44:03,837 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 14:44:03,838 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 14:44:03,841 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 14:44:04,522 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 14:44:04,524 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:44:04,526 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:44:04,975 - app_setup - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:44:04,976 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:44:04,977 - app_setup - INFO - Total chunks generated: 2
2025-04-21 14:44:04,978 - app_setup - INFO - Creating entity extractor with model google/gemini-2.5-flash-preview (Backend: openrouter)
2025-04-21 14:44:04,979 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 14:44:04,980 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 14:44:04,981 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 14:44:04,984 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 14:44:04,985 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemini-2.5-flash-preview, debug=True
2025-04-21 14:44:04,986 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:44:04,987 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:44:04,988 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 14:44:04,989 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 14:44:04,990 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 14:44:04,991 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 14:44:04,992 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:44:04,993 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:44:04,994 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 14:44:04,995 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 14:44:04,996 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 14:44:04,997 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 14:44:04,997 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemini-2.5-flash-preview).
2025-04-21 14:44:04,998 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 14:44:05,000 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 14:44:05,001 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 14:44:05,002 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 14:44:05,002 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 14:44:05,003 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 14:44:05,004 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 14:44:05,005 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:44:05,006 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 14:44:30,835 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Unterminated string starting at: line 47 column 16 (char 1214)
2025-04-21 14:44:30,837 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "London",
      "from_entity_type": "LOCATION",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Software Engineer",
      "from_entity_type": "POSITION",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "thirty thousand pounds",
      "from_entity_type": "MONETARY_AMOUNT",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "London",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_type": "WORKS_FOR",
      "to_entity_name": "Software Engineer",
      "to_entity_type": "POSITION"
    }
  ],
  "metadata": {
    "summary": "This text describes a person, including their age, location, position, and annual income. It mentions a person, a location, a position, and a monetary amount. There are no complex relationships or organizational structures described in this simple biographical snippet. The information provided is straightforward and relates to personal details and employment status. The text does not contain any information about companies, government bodies, or events. It is a basic description of an individual's circumstances. The details are limited to personal and professional attributes. No financial transactions or assets are mentioned beyond the annual salary figure. The context is purely descriptive of an individual's life details. No potential red flags are apparent in this text. The information is presented factually and without any indication of suspicious activity or unusual circumstances. The focus is on providing a snapshot of a person's current situation. The text is brief and to the point, offering only essential details about the individual. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided
2025-04-21 14:44:30,860 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "London",
      "from_entity_type": "LOCATION",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Software Engineer",
      "from_entity_type": "POSITION",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "thirty thousand pounds",
      "from_entity_type": "MONETARY_AMOUNT",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "London",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Jason",
      "from_entity_type": "PERSON",
      "relationship_type": "WORKS_FOR",
      "to_entity_name": "Software Engineer",
      "to_entity_type": "POSITION"
    }
  ],
  "metadata": {
    "summary": "This text describes a person, including their age, location, position, and annual income. It mentions a person, a location, a position, and a monetary amount. There are no complex relationships or organizational structures described in this simple biographical snippet. The information provided is straightforward and relates to personal details and employment status. The text does not contain any information about companies, government bodies, or events. It is a basic description of an individual's circumstances. The details are limited to personal and professional attributes. No financial transactions or assets are mentioned beyond the annual salary figure. The context is purely descriptive of an individual's life details. No potential red flags are apparent in this text. The information is presented factually and without any indication of suspicious activity or unusual circumstances. The focus is on providing a snapshot of a person's current situation. The text is brief and to the point, offering only essential details about the individual. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided and does not suggest any broader implications or connections. The text is a straightforward account of a person's life details. It does not contain any complex information or relationships. The focus is on providing a simple description of an individual. The text is brief and to the point, offering only essential details about the person. There is no mention of any other entities or interactions. The information is self-contained and relates solely to the person named. The text does not provide any context about the source of the income or the nature of the employment beyond the job title. It is a simple statement of facts about an individual. The text is purely descriptive and does not imply any further narrative or context. It is a basic profile of a person. The information is limited to the details provided
2025-04-21 14:44:30,883 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk c00af623-b2eb-47c4-a0af-a93ff3b738ea: Model returned invalid JSON content: Unterminated string starting at: line 47 column 16 (char 1214)
2025-04-21 14:44:30,885 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:44:30,886 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemini-2.5-flash-preview
2025-04-21 14:44:55,955 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Unterminated string starting at: line 124 column 16 (char 3368)
2025-04-21 14:44:55,957 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Manchester",
      "from_entity_type": "LOCATION",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Manchester",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Doctor",
      "from_entity_type": "POSITION",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_type": "WORKS_FOR",
      "to_entity_name": "Doctor",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "ninety-five thousand pounds",
      "from_entity_type": "MONETARY_AMOUNT",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "ninety-five thousand pounds",
      "to_entity_type": "MONETARY_AMOUNT"
    },
    {
      "from_entity_name": "Birmingham",
      "from_entity_type": "LOCATION",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Birmingham",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Data Scientist",
      "from_entity_type": "POSITION",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_type": "WORKS_FOR",
      "to_entity_name": "Data Scientist",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "seventy-two thousand pounds",
      "from_entity_type": "MONETARY_AMOUNT",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "seventy-two thousand pounds",
      "to_entity_type": "MONETARY_AMOUNT"
    },
    {
      "from_entity_name": "Edinburgh",
      "from_entity_type": "LOCATION",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Edinburgh",
      "to_entity_type": "LOCATION"
    }
  ],
  "metadata": {
    "summary": "This text provides details about several individuals, including their ages, occupations, annual earnings (monetary amounts), and locations. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text focuses on personal and professional attributes of multiple persons and their associated locations and monetary amounts. It also includes employee IDs for some individuals, suggesting employment contexts. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets
2025-04-21 14:44:55,983 - src.utils.openrouter_manager - ERROR - Original raw string: {
  "entity_relationship_list": [
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Manchester",
      "from_entity_type": "LOCATION",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Susan",
      "from_entity_type": "PERSON",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Manchester",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Doctor",
      "from_entity_type": "POSITION",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_type": "WORKS_FOR",
      "to_entity_name": "Doctor",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "ninety-five thousand pounds",
      "from_entity_type": "MONETARY_AMOUNT",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "ninety-five thousand pounds",
      "to_entity_type": "MONETARY_AMOUNT"
    },
    {
      "from_entity_name": "Birmingham",
      "from_entity_type": "LOCATION",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Michael",
      "from_entity_type": "PERSON",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Birmingham",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Data Scientist",
      "from_entity_type": "POSITION",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_type": "WORKS_FOR",
      "to_entity_name": "Data Scientist",
      "to_entity_type": "POSITION"
    },
    {
      "from_entity_name": "seventy-two thousand pounds",
      "from_entity_type": "MONETARY_AMOUNT",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_type": "CONNECTED_TO",
      "to_entity_name": "seventy-two thousand pounds",
      "to_entity_type": "MONETARY_AMOUNT"
    },
    {
      "from_entity_name": "Edinburgh",
      "from_entity_type": "LOCATION",
      "relationship_type": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_name": "Emily",
      "from_entity_type": "PERSON",
      "relationship_type": "LOCATED_IN",
      "to_entity_name": "Edinburgh",
      "to_entity_type": "LOCATION"
    }
  ],
  "metadata": {
    "summary": "This text provides details about several individuals, including their ages, occupations, annual earnings (monetary amounts), and locations. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text focuses on personal and professional attributes of multiple persons and their associated locations and monetary amounts. It also includes employee IDs for some individuals, suggesting employment contexts. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets, or events mentioned in the text. The information appears to be descriptive of individuals' circumstances rather than transactional or event-based. There are no apparent red flags for corruption based on the provided text. The text describes personal details and employment information for several individuals, including their locations and earnings. It mentions a person who is a student and lives in a specific location, and two other persons who hold positions, earn specific monetary amounts, and reside in different locations. The text includes employee IDs for some individuals. There are no indications of commercial companies, government bodies, NGOs, assets
2025-04-21 14:44:56,009 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 37a34c58-6916-4077-aa57-8ff76d36ba0b: Model returned invalid JSON content: Unterminated string starting at: line 124 column 16 (char 3368)
2025-04-21 14:44:56,010 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 51.01s. Success: 0, Errors: 2
2025-04-21 14:44:56,011 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 51.01s
2025-04-21 14:44:56,012 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 14:44:56,013 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 0 entities, 0 relationships.
2025-04-21 14:44:56,014 - src.core.extraction.entity_extractor - WARNING - No raw data to deduplicate or save.
2025-04-21 14:44:56,014 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 0 entities, 0 relationships.
2025-04-21 14:44:56,018 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 14:44:56,019 - src.core.extraction.entity_extractor - INFO - Saved 0 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 14:44:56,020 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 14:44:56,483 - app_setup - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:44:56,484 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:44:56,543 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemini-2.5-flash-preview
2025-04-21 14:44:56,544 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 14:44:56,545 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 14:44:56,546 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 14:44:56,547 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 14:44:56,548 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 14:44:56,549 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 14:44:56,549 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 14:44:56,550 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 14:44:56,551 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 14:44:56,552 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 14:44:56,552 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 14:44:56,553 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 14:44:56,554 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 14:44:56,555 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.55 GB, VMS: 41.66 GB
2025-04-21 14:44:56,556 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:44:56,557 - app_setup - INFO - Loading indexing model...
2025-04-21 14:44:56,557 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 14:44:56,558 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 14:44:56,559 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 14:44:57,892 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 14:44:57,893 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.33 seconds
2025-04-21 14:44:57,894 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.61 GB, VMS: 45.09 GB
2025-04-21 14:44:57,895 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:44:57,999 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 14:44:58,000 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 14:44:58,000 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 14:44:58,001 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 14:44:58,002 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 14:44:58,007 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 14:44:58,025 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 14:44:58,026 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 14:44:58,028 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 14:44:58,029 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 14:44:58,030 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.03s (Success: True)
2025-04-21 14:44:58,082 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 14:44:58,083 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-21 14:44:58,452 - src.core.indexing.document_indexer - INFO - Collection created.
2025-04-21 14:44:58,940 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 14:44:58,942 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 14:44:58,943 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 14:44:58,944 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 14:45:05,213 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 6.27s
2025-04-21 14:45:05,214 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 14:45:05,216 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 14:45:05,262 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 14:45:05,263 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: c00af623-b2eb-47c4-a0af-a93ff3b738ea...
2025-04-21 14:45:05,281 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.02s
2025-04-21 14:45:05,283 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.23 GB, VMS: 42.97 GB
2025-04-21 14:45:05,285 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 14:45:05,729 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 6.79s. Overall success for this batch: True
2025-04-21 14:45:05,733 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 7.70s (Overall Success: True)
2025-04-21 14:45:05,736 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 7.74s =====
2025-04-21 14:45:05,738 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 14:45:05,738 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 14:45:05,739 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 14:45:06,474 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 14:45:06,917 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 14:45:06,935 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 14:45:07,380 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 14:45:07,383 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.44 GB, VMS: 42.97 GB
2025-04-21 14:45:07,386 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:45:07,388 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 14:45:07,389 - app_setup - INFO - Shutting down indexing model...
2025-04-21 14:45:07,389 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 14:45:07,842 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.97 GB
2025-04-21 14:45:07,844 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:45:07,911 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 14:45:07,912 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.97 GB
2025-04-21 14:45:07,913 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:45:08,404 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:45:08,478 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 42.97 GB
2025-04-21 14:45:08,480 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:49:21,556 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:49:21,557 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:49:21,557 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:49:21,557 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:49:22,412 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:49:28,753 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 14:49:30,755 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:49:30,758 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:49:30,759 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:49:30,759 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:49:30,760 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:49:31,044 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 14:49:40,131 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:49:40,134 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 14:49:40,135 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 14:49:40,135 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 14:49:40,136 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 14:49:40,210 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 14:49:40,212 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 14:49:40,214 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 14:49:40,215 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 14:49:40,216 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 14:49:40,225 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 14:49:40,227 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 14:49:40,229 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 14:49:40,229 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 14:49:40,230 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 14:49:40,231 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 14:49:40,232 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 14:49:40,233 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.33 GB, VMS: 37.63 GB
2025-04-21 14:49:40,308 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:49:40,311 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-preview-03-25)
2025-04-21 14:49:40,375 - app_setup - INFO - Process memory - RSS: 1.34 GB, VMS: 37.65 GB
2025-04-21 14:49:40,376 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:50:58,046 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:50:58,120 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 14:50:58,122 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:50:59,055 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:50:59,115 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 14:50:59,116 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:50:59,123 - app_setup - INFO - Starting processing with LLM: google/gemma-3-27b-it (Backend: OPENROUTER)
2025-04-21 14:50:59,126 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 14:50:59,128 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemma-3-27b-it (Backend: openrouter)
2025-04-21 14:50:59,131 - app_setup - INFO - Process memory - RSS: 1.35 GB, VMS: 37.65 GB
2025-04-21 14:50:59,133 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:50:59,138 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 14:50:59,140 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 14:50:59,147 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 14:50:59,151 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 14:50:59,152 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 14:50:59,153 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 14:50:59,154 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 14:51:05,942 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 14:51:05,956 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 14:51:05,958 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 14:51:05,959 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 14:51:05,960 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 14:51:05,961 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 14:51:05,962 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 14:51:05,963 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 14:51:05,965 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 14:51:05,966 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 14:51:06,399 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 14:51:06,401 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 14:51:06,423 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 14:51:06,424 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 14:51:06,425 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 14:51:06,427 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:51:06,428 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 14:51:06,854 - app_setup - INFO - Document loader shut down complete.
2025-04-21 14:51:06,857 - app_setup - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 14:51:06,859 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:51:06,860 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 14:51:06,861 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 14:51:06,862 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.16 GB, VMS: 40.08 GB
2025-04-21 14:51:06,863 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:51:06,864 - app_setup - INFO - Loading chunking model...
2025-04-21 14:51:06,865 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:51:06,867 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 14:51:06,868 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 14:51:06,868 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 14:51:06,869 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 14:51:11,378 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 14:51:11,379 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.51 seconds
2025-04-21 14:51:11,380 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:51:11,381 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:51:11,383 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 14:51:11,383 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: 7389d6c0-5269-4b69-bab1-864db0b28f17, Type: .pdf)
2025-04-21 14:51:11,384 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 14:51:11,385 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 14:51:11,386 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 14:51:11,412 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 14:51:11,414 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 14:51:11,415 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 14:51:11,416 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 14:51:11,417 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 14:51:11,418 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:51:11,419 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 14:51:11,420 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 14:51:11,421 - app_setup - INFO - Shutting down chunking model...
2025-04-21 14:51:11,422 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:51:11,423 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 14:51:11,424 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 14:51:11,425 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 14:51:11,427 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 14:51:12,037 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 14:51:12,040 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:51:12,041 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:51:12,478 - app_setup - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:51:12,480 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:51:12,481 - app_setup - INFO - Total chunks generated: 2
2025-04-21 14:51:12,482 - app_setup - INFO - Creating entity extractor with model google/gemma-3-27b-it (Backend: openrouter)
2025-04-21 14:51:12,483 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 14:51:12,484 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 14:51:12,485 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 14:51:12,488 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 14:51:12,489 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=google/gemma-3-27b-it, debug=True
2025-04-21 14:51:12,490 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:51:12,491 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:51:12,492 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 14:51:12,493 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 14:51:12,494 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 14:51:12,494 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 14:51:12,495 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:51:12,496 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:51:12,497 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 14:51:12,498 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 14:51:12,499 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 14:51:12,500 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 14:51:12,501 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: google/gemma-3-27b-it).
2025-04-21 14:51:12,502 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 14:51:12,503 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 14:51:12,503 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 14:51:12,504 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 14:51:12,505 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 14:51:12,506 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 14:51:12,507 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 14:51:12,508 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:51:12,508 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 14:51:12,509 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 14:51:12,510 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it
2025-04-21 14:51:27,405 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 14:51:27,407 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:51:27,408 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 14:51:27,408 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 14:51:27,409 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: google/gemma-3-27b-it
2025-04-21 14:51:54,892 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 14:51:54,894 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk 7332c082-822e-4bef-b268-6dd18fa7da8d): 2 validation errors for EntityRelationshipList
entity_relationship_list.8.relationship_type
  Input should be 'WORKS_FOR', 'OWNS', 'LOCATED_IN', 'CONNECTED_TO' or 'MET_WITH' [type=literal_error, input_value='EARNS', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
entity_relationship_list.9.relationship_type
  Input should be 'WORKS_FOR', 'OWNS', 'LOCATED_IN', 'CONNECTED_TO' or 'MET_WITH' [type=literal_error, input_value='EARNS', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error. Raw: {'entity_relationship_list': [{'from_entity_type': 'PERSON', 'from_entity_name': 'Susan', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'LOCATION', 'from_entity_name': 'Manchester', 'relationship_type': 'LOCATED_IN', 'relationship_description': 'Residence of', 'to_entity_name': 'Susan', 'to_entity_type': 'PERSON'}, {'from_entity_type': 'PERSON', 'from_entity_name': 'Michael', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'POSITION', 'from_entity_name': 'Doctor', 'relationship_type': 'WORKS_FOR', 'relationship_description': 'Occupation of', 'to_entity_name': 'Michael', 'to_entity_type': 'PERSON'}, {'from_entity_type': 'LOCATION', 'from_entity_name': 'Birmingham', 'relationship_type': 'LOCATED_IN', 'relationship_description': 'Residence of', 'to_entity_name': 'Michael', 'to_entity_type': 'PERSON'}, {'from_entity_type': 'PERSON', 'from_entity_name': 'Emily', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'POSITION', 'from_entity_name': 'Data Scientist', 'relationship_type': 'WORKS_FOR', 'relationship_description': 'Occupation of', 'to_entity_name': 'Emily', 'to_entity_type': 'PERSON'}, {'from_entity_type': 'LOCATION', 'from_entity_name': 'Edinburgh', 'relationship_type': 'LOCATED_IN', 'relationship_description': 'Residence of', 'to_entity_name': 'Emily', 'to_entity_type': 'PERSON'}, {'from_entity_type': 'MONEY', 'from_entity_name': 'ninety-five thousand pounds', 'relationship_type': 'EARNS', 'relationship_description': 'Annual income of', 'to_entity_name': 'Michael', 'to_entity_type': 'PERSON'}, {'from_entity_type': 'MONEY', 'from_entity_name': 'seventy-two thousand pounds', 'relationship_type': 'EARNS', 'relationship_description': 'Annual income of', 'to_entity_name': 'Emily', 'to_entity_type': 'PERSON'}], 'metadata': {'summary': 'This text details personal information about several individuals, including their ages, occupations, locations, and annual incomes. It describes a person, their position, and where they live. The document focuses on employment details and financial earnings without any indication of broader organizational context.', 'red_flags': 'Red flags: None detected. The text appears to be a simple listing of personal and employment details and does not contain any immediately suspicious activity.'}}
2025-04-21 14:51:54,898 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 42.39s. Success: 1, Errors: 1
2025-04-21 14:51:54,900 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 42.40s
2025-04-21 14:51:54,901 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 14:51:54,902 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 7 entities, 3 relationships.
2025-04-21 14:51:54,903 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-21 14:51:54,904 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 7 raw entities...
2025-04-21 14:51:54,916 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-21 14:51:54,919 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-21 14:51:54,951 - src.core.extraction.entity_extractor - INFO - Generated 6 candidate pairs.
2025-04-21 14:51:54,952 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-21 14:51:54,959 - src.core.extraction.entity_extractor - INFO - Found 6 potential duplicate pairs.
2025-04-21 14:51:54,960 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-21 14:51:54,961 - src.core.extraction.entity_extractor - INFO - Found 4 clusters (including singletons).
2025-04-21 14:51:54,962 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-21 14:51:54,963 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 4.
2025-04-21 14:51:54,964 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs...
2025-04-21 14:51:54,965 - src.core.extraction.entity_extractor - INFO - Updating 3 raw relationships with canonical entity IDs...
2025-04-21 14:51:54,965 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 3, Updated IDs in 2, Skipped 0.
2025-04-21 14:51:54,966 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-21 14:51:54,967 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-21 14:51:54,968 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 0 duplicates. Final count: 3.
2025-04-21 14:51:54,969 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 4 entities, 3 relationships.
2025-04-21 14:51:54,970 - src.core.extraction.entity_extractor - INFO - Saved 4 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 14:51:54,972 - src.core.extraction.entity_extractor - INFO - Saved 3 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 14:51:54,972 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 14:51:55,430 - app_setup - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:51:55,431 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:51:55,491 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: google/gemma-3-27b-it
2025-04-21 14:51:55,492 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 14:51:55,493 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 14:51:55,494 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 14:51:55,494 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 14:51:55,495 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 14:51:55,496 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 14:51:55,497 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 14:51:55,497 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 14:51:55,498 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 14:51:55,499 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 14:51:55,500 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 14:51:55,500 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 14:51:55,501 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 14:51:55,502 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.55 GB, VMS: 41.60 GB
2025-04-21 14:51:55,503 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:51:55,504 - app_setup - INFO - Loading indexing model...
2025-04-21 14:51:55,505 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 14:51:55,505 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 14:51:55,506 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 14:51:56,828 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 14:51:56,830 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.32 seconds
2025-04-21 14:51:56,831 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.62 GB, VMS: 45.15 GB
2025-04-21 14:51:56,832 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:51:56,948 - app_setup - WARNING - Error checking/clearing collection: 'DocumentIndexer' object has no attribute 'get_embedding_dimension'
2025-04-21 14:51:56,949 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 14:51:56,950 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 14:51:56,951 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 14:51:56,952 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 14:51:56,953 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 14:51:56,958 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 14:51:56,976 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 14:51:56,977 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 14:51:56,978 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 14:51:56,979 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 14:51:56,981 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.03s (Success: True)
2025-04-21 14:51:57,031 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 14:51:57,032 - src.core.indexing.document_indexer - INFO - Collection 'anticorruption_rag_e5_instruct' exists. Verifying configuration...
2025-04-21 14:51:57,587 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 14:51:57,590 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 14:51:57,591 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 14:51:57,592 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 14:52:03,963 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 6.37s
2025-04-21 14:52:03,964 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 14:52:03,966 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 14:52:04,012 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 14:52:04,013 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 911e406f-4d14-4f14-8a34-91ce7ffd9cb3...
2025-04-21 14:52:04,042 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.03s
2025-04-21 14:52:04,044 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.28 GB, VMS: 43.04 GB
2025-04-21 14:52:04,045 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 14:52:04,495 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 6.90s. Overall success for this batch: True
2025-04-21 14:52:04,498 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 7.52s (Overall Success: True)
2025-04-21 14:52:04,500 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 7.55s =====
2025-04-21 14:52:04,500 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 14:52:04,501 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 14:52:04,502 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 14:52:05,223 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 14:52:05,669 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 14:52:05,683 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 14:52:06,131 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 14:52:06,133 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.41 GB, VMS: 42.98 GB
2025-04-21 14:52:06,134 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:52:06,136 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 14:52:06,138 - app_setup - INFO - Shutting down indexing model...
2025-04-21 14:52:06,140 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 14:52:06,615 - app_setup - INFO - Process memory - RSS: 3.41 GB, VMS: 42.98 GB
2025-04-21 14:52:06,617 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:52:06,677 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 14:52:06,679 - app_setup - INFO - Process memory - RSS: 3.41 GB, VMS: 42.98 GB
2025-04-21 14:52:06,680 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:52:07,168 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:52:07,238 - app_setup - INFO - Process memory - RSS: 3.41 GB, VMS: 42.98 GB
2025-04-21 14:52:07,241 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:52:48,966 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:52:49,038 - app_setup - INFO - Process memory - RSS: 3.42 GB, VMS: 42.95 GB
2025-04-21 14:52:49,040 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:52:49,046 - app_setup - INFO - Starting processing with LLM: google/gemma-3-27b-it (Backend: OPENROUTER)
2025-04-21 14:52:49,049 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 14:52:49,051 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: google/gemma-3-27b-it (Backend: openrouter)
2025-04-21 14:52:49,053 - app_setup - INFO - Process memory - RSS: 3.42 GB, VMS: 42.95 GB
2025-04-21 14:52:49,056 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:52:49,059 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 14:52:49,061 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 14:52:49,065 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 14:52:49,068 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 14:52:49,069 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 14:52:49,070 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 14:52:49,071 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 14:52:50,272 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:52:50,340 - app_setup - INFO - Process memory - RSS: 3.94 GB, VMS: 43.45 GB
2025-04-21 14:52:50,341 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:52:51,028 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:52:51,153 - app_setup - INFO - Process memory - RSS: 3.52 GB, VMS: 43.01 GB
2025-04-21 14:52:51,154 - app_setup - INFO - GPU memory - Allocated: 0.09 GB, Reserved: 0.10 GB, Total: 8.00 GB
2025-04-21 14:52:52,816 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:52:52,886 - app_setup - INFO - Process memory - RSS: 3.49 GB, VMS: 43.17 GB
2025-04-21 14:52:52,887 - app_setup - INFO - GPU memory - Allocated: 0.26 GB, Reserved: 0.28 GB, Total: 8.00 GB
2025-04-21 14:52:53,369 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:52:53,435 - app_setup - INFO - Process memory - RSS: 3.49 GB, VMS: 43.17 GB
2025-04-21 14:52:53,437 - app_setup - INFO - GPU memory - Allocated: 0.26 GB, Reserved: 0.28 GB, Total: 8.00 GB
2025-04-21 14:52:53,447 - app_setup - INFO - Clearing all indexed and extracted data...
2025-04-21 14:52:53,627 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-21 14:52:54,651 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 14:52:54,653 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 14:52:54,654 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 14:52:54,656 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 14:52:54,659 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-21 14:52:55,116 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 14:52:55,125 - src.core.query_system.query_engine - INFO - Internal BM25 state cleared.
2025-04-21 14:52:55,127 - app_setup - INFO - Data clearing successful via QueryEngine.
2025-04-21 14:52:55,129 - app_setup - INFO - Cleared relevant session state caches after data deletion.
2025-04-21 14:52:55,182 - app_setup - INFO - Collection info after clearing: {'exists': False}
2025-04-21 14:52:55,662 - app_setup - INFO - Process memory - RSS: 3.60 GB, VMS: 43.20 GB
2025-04-21 14:52:55,663 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:52:55,667 - app_setup - ERROR - Unhandled error in main application loop: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 127, in <module>
    main()
  File "/home/t/lm_rag/src/ui/app.py", line 74, in main
    selected_page = render_sidebar()
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/ui/app_ui_core.py", line 159, in render_sidebar
    st.session_state.confirm_delete = False; st.rerun()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 136, in __setattr__
    self[key] = value
    ~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 114, in __setitem__
    get_session_state()[key] = value
    ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py", line 101, in __setitem__
    self._state[key] = value
    ~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py", line 515, in __setitem__
    raise StreamlitAPIException(
streamlit.errors.StreamlitAPIException: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
2025-04-21 14:55:46,588 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:55:46,589 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:55:46,589 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:55:46,589 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:55:47,481 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:55:51,561 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 14:55:53,701 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:55:53,702 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:55:53,703 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:55:53,704 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:55:53,705 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:55:53,979 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 14:56:04,298 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:56:04,301 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 14:56:04,302 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 14:56:04,303 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 14:56:04,305 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 14:56:04,380 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 14:56:04,382 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 14:56:04,384 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 14:56:04,386 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 14:56:04,387 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 14:56:04,397 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 14:56:04,400 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 14:56:04,401 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 14:56:04,402 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 14:56:04,403 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 14:56:04,404 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 14:56:04,405 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 14:56:04,406 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.36 GB, VMS: 37.63 GB
2025-04-21 14:56:04,502 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:56:04,504 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-exp-03-25:free)
2025-04-21 14:56:04,567 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 14:56:04,568 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:56:24,538 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:56:24,538 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:56:24,538 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:56:24,538 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:56:25,039 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:56:28,605 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 14:56:29,938 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 14:56:29,940 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 14:56:29,941 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 14:56:29,942 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 14:56:29,943 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 14:56:30,099 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 14:56:38,089 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:56:38,092 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 14:56:38,093 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 14:56:38,094 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 14:56:38,095 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 14:56:38,141 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 14:56:38,143 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 14:56:38,145 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 14:56:38,146 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 14:56:38,147 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 14:56:38,149 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 14:56:38,151 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 14:56:38,152 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 14:56:38,153 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 14:56:38,154 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 14:56:38,155 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 14:56:38,156 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 14:56:38,157 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.36 GB, VMS: 37.63 GB
2025-04-21 14:56:38,237 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:56:38,239 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-exp-03-25:free)
2025-04-21 14:56:38,296 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 14:56:38,297 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:57:34,382 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:57:34,439 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 14:57:34,441 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:57:35,397 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:57:35,451 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 14:57:35,452 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:57:35,458 - app_setup - INFO - Starting processing with LLM: deepseek/deepseek-chat-v3-0324 (Backend: OPENROUTER)
2025-04-21 14:57:35,460 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 14:57:35,462 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: deepseek/deepseek-chat-v3-0324 (Backend: openrouter)
2025-04-21 14:57:35,465 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 14:57:35,467 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 14:57:35,472 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 14:57:35,475 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 14:57:35,488 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 14:57:35,492 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 14:57:35,493 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 14:57:35,494 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 14:57:35,496 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 14:57:42,378 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 14:57:42,391 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 14:57:42,392 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 14:57:42,394 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 14:57:42,395 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 14:57:42,396 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.18 GB, VMS: 40.04 GB
2025-04-21 14:57:42,397 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 14:57:42,398 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 14:57:42,400 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 14:57:42,401 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 14:57:42,873 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 14:57:42,874 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 14:57:42,898 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 14:57:42,899 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 14:57:42,900 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.18 GB, VMS: 40.04 GB
2025-04-21 14:57:42,901 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:57:42,902 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 14:57:43,338 - app_setup - INFO - Document loader shut down complete.
2025-04-21 14:57:43,342 - app_setup - INFO - Process memory - RSS: 2.18 GB, VMS: 40.04 GB
2025-04-21 14:57:43,344 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:57:43,345 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 14:57:43,346 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 14:57:43,347 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.18 GB, VMS: 40.04 GB
2025-04-21 14:57:43,348 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:57:43,349 - app_setup - INFO - Loading chunking model...
2025-04-21 14:57:43,350 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:57:43,351 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 14:57:43,352 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 14:57:43,353 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 14:57:43,354 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 14:57:45,592 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 14:57:45,593 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 2.24 seconds
2025-04-21 14:57:45,594 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 14:57:45,596 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:57:45,597 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 14:57:45,598 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: d8312ff7-bde7-4dda-bf00-bbd36ee8f0b6, Type: .pdf)
2025-04-21 14:57:45,599 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 14:57:45,600 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 14:57:45,601 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 14:57:45,627 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 14:57:45,629 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 14:57:45,630 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 14:57:45,631 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 14:57:45,632 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 14:57:45,633 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 14:57:45,634 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 14:57:45,634 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 14:57:45,635 - app_setup - INFO - Shutting down chunking model...
2025-04-21 14:57:45,636 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:57:45,637 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 14:57:45,638 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 14:57:45,639 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 14:57:45,640 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 14:57:46,245 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 14:57:46,246 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 14:57:46,247 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:57:46,675 - app_setup - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 14:57:46,676 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:57:46,677 - app_setup - INFO - Total chunks generated: 2
2025-04-21 14:57:46,678 - app_setup - INFO - Creating entity extractor with model deepseek/deepseek-chat-v3-0324 (Backend: openrouter)
2025-04-21 14:57:46,679 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 14:57:46,680 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 14:57:46,681 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 14:57:46,683 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 14:57:46,684 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=deepseek/deepseek-chat-v3-0324, debug=True
2025-04-21 14:57:46,685 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 14:57:46,686 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:57:46,688 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 14:57:46,688 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 14:57:46,689 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 14:57:46,690 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 14:57:46,691 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 14:57:46,692 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:57:46,693 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 14:57:46,694 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 14:57:46,694 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 14:57:46,695 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 14:57:46,696 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: deepseek/deepseek-chat-v3-0324).
2025-04-21 14:57:46,697 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 14:57:46,698 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 14:57:46,699 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 14:57:46,700 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 14:57:46,701 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 14:57:46,702 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 14:57:46,703 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 14:57:46,704 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:57:46,705 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 14:57:46,705 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 14:57:46,706 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 14:58:14,671 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 14:58:14,673 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:58:14,674 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 14:58:14,675 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 14:58:14,676 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 14:58:51,721 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 14:58:51,722 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 65.02s. Success: 2, Errors: 0
2025-04-21 14:58:51,723 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 65.02s
2025-04-21 14:58:51,725 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 14:58:51,726 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 14 entities, 4 relationships.
2025-04-21 14:58:51,726 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-21 14:58:51,727 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 14 raw entities...
2025-04-21 14:58:51,733 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-21 14:58:51,736 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-21 14:58:51,778 - src.core.extraction.entity_extractor - INFO - Generated 33 candidate pairs.
2025-04-21 14:58:51,779 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-21 14:58:51,789 - src.core.extraction.entity_extractor - INFO - Found 5 potential duplicate pairs.
2025-04-21 14:58:51,790 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-21 14:58:51,792 - src.core.extraction.entity_extractor - INFO - Found 9 clusters (including singletons).
2025-04-21 14:58:51,792 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-21 14:58:51,794 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 9.
2025-04-21 14:58:51,795 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs...
2025-04-21 14:58:51,796 - src.core.extraction.entity_extractor - INFO - Updating 4 raw relationships with canonical entity IDs...
2025-04-21 14:58:51,797 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 4, Updated IDs in 3, Skipped 0.
2025-04-21 14:58:51,798 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-21 14:58:51,798 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-21 14:58:51,799 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 0 duplicates. Final count: 4.
2025-04-21 14:58:51,800 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 9 entities, 4 relationships.
2025-04-21 14:58:51,802 - src.core.extraction.entity_extractor - INFO - Saved 9 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 14:58:51,803 - src.core.extraction.entity_extractor - INFO - Saved 4 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 14:58:51,804 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 14:58:52,257 - app_setup - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 14:58:52,258 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:58:52,313 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: deepseek/deepseek-chat-v3-0324
2025-04-21 14:58:52,314 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 14:58:52,315 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 14:58:52,316 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 14:58:52,317 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 14:58:52,317 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 14:58:52,318 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 14:58:52,319 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 14:58:52,320 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 14:58:52,321 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 14:58:52,321 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 14:58:52,322 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 14:58:52,323 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 14:58:52,324 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 14:58:52,325 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.57 GB, VMS: 41.62 GB
2025-04-21 14:58:52,326 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:58:52,326 - app_setup - INFO - Loading indexing model...
2025-04-21 14:58:52,327 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 14:58:52,328 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 14:58:52,329 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 14:58:53,649 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 14:58:53,650 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.32 seconds
2025-04-21 14:58:53,651 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.64 GB, VMS: 45.11 GB
2025-04-21 14:58:53,652 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:58:53,757 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 14:58:53,758 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 14:58:53,759 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 14:58:53,760 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 14:58:53,761 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 14:58:53,765 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 14:58:53,783 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 14:58:53,784 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 14:58:53,785 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 14:58:53,787 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 14:58:53,788 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.03s (Success: True)
2025-04-21 14:58:53,840 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 14:58:53,841 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-21 14:58:54,204 - src.core.indexing.document_indexer - INFO - Collection created.
2025-04-21 14:58:54,649 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 14:58:54,652 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 14:58:54,653 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 14:58:54,655 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 14:59:01,251 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 6.60s
2025-04-21 14:59:01,252 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 14:59:01,254 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 14:59:01,304 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 14:59:01,306 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: e644ac1d-cefb-4180-878c-320a973a883a...
2025-04-21 14:59:01,324 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.02s
2025-04-21 14:59:01,325 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.38 GB, VMS: 43.00 GB
2025-04-21 14:59:01,327 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 14:59:01,792 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 7.14s. Overall success for this batch: True
2025-04-21 14:59:01,796 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 8.01s (Overall Success: True)
2025-04-21 14:59:01,797 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 8.04s =====
2025-04-21 14:59:01,798 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 14:59:01,799 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 14:59:01,800 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 14:59:02,428 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 14:59:02,902 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 14:59:02,966 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 14:59:03,431 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 14:59:03,433 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.46 GB, VMS: 43.00 GB
2025-04-21 14:59:03,435 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:03,437 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 14:59:03,438 - app_setup - INFO - Shutting down indexing model...
2025-04-21 14:59:03,439 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 14:59:03,940 - app_setup - INFO - Process memory - RSS: 3.46 GB, VMS: 43.00 GB
2025-04-21 14:59:03,942 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:04,018 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 14:59:04,019 - app_setup - INFO - Process memory - RSS: 3.46 GB, VMS: 43.00 GB
2025-04-21 14:59:04,020 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:04,530 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:59:04,625 - app_setup - INFO - Process memory - RSS: 3.46 GB, VMS: 43.00 GB
2025-04-21 14:59:04,629 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:10,813 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:59:10,882 - app_setup - INFO - Process memory - RSS: 3.47 GB, VMS: 42.96 GB
2025-04-21 14:59:10,884 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:12,126 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:59:12,187 - app_setup - INFO - Process memory - RSS: 3.47 GB, VMS: 42.96 GB
2025-04-21 14:59:12,188 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:12,666 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:59:12,728 - app_setup - INFO - Process memory - RSS: 3.47 GB, VMS: 42.96 GB
2025-04-21 14:59:12,730 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:12,736 - app_setup - INFO - Clearing all indexed and extracted data...
2025-04-21 14:59:12,863 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-21 14:59:13,868 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 14:59:13,870 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-21 14:59:13,871 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 14:59:13,872 - src.core.query_system.query_engine - INFO - Internal BM25 state cleared.
2025-04-21 14:59:13,873 - app_setup - INFO - Data clearing successful via QueryEngine.
2025-04-21 14:59:13,874 - app_setup - INFO - Cleared relevant session state caches after data deletion.
2025-04-21 14:59:13,925 - app_setup - INFO - Collection info after clearing: {'exists': False}
2025-04-21 14:59:14,375 - app_setup - INFO - Process memory - RSS: 3.47 GB, VMS: 42.96 GB
2025-04-21 14:59:14,377 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:14,380 - app_setup - ERROR - Unhandled error in main application loop: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 127, in <module>
    main()
  File "/home/t/lm_rag/src/ui/app.py", line 74, in main
    selected_page = render_sidebar()
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/ui/app_ui_core.py", line 159, in render_sidebar
    st.session_state.confirm_delete = False; st.rerun()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 136, in __setattr__
    self[key] = value
    ~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 114, in __setitem__
    get_session_state()[key] = value
    ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py", line 101, in __setitem__
    self._state[key] = value
    ~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py", line 515, in __setitem__
    raise StreamlitAPIException(
streamlit.errors.StreamlitAPIException: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
2025-04-21 14:59:27,153 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:59:27,156 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 14:59:27,158 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 14:59:27,160 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 14:59:27,161 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 14:59:27,189 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 14:59:27,190 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 14:59:27,192 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 14:59:27,193 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 14:59:27,194 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 14:59:27,196 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 14:59:27,198 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 14:59:27,199 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 14:59:27,200 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 14:59:27,201 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 14:59:27,202 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 14:59:27,203 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 14:59:27,204 - src.core.query_system.query_engine - INFO - Process memory - RSS: 3.47 GB, VMS: 42.96 GB
2025-04-21 14:59:27,205 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:27,207 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-exp-03-25:free)
2025-04-21 14:59:27,268 - app_setup - INFO - Process memory - RSS: 3.47 GB, VMS: 42.96 GB
2025-04-21 14:59:27,269 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:43,428 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:59:43,482 - app_setup - INFO - Process memory - RSS: 3.47 GB, VMS: 42.96 GB
2025-04-21 14:59:43,483 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:44,470 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 14:59:44,523 - app_setup - INFO - Process memory - RSS: 3.47 GB, VMS: 42.96 GB
2025-04-21 14:59:44,524 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:44,530 - app_setup - INFO - Starting processing with LLM: deepseek/deepseek-chat-v3-0324 (Backend: OPENROUTER)
2025-04-21 14:59:44,535 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 14:59:44,536 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: deepseek/deepseek-chat-v3-0324 (Backend: openrouter)
2025-04-21 14:59:44,539 - app_setup - INFO - Process memory - RSS: 3.47 GB, VMS: 42.96 GB
2025-04-21 14:59:44,541 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:44,543 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 14:59:44,545 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 14:59:44,548 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 14:59:44,550 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 14:59:44,552 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 14:59:44,553 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 14:59:44,554 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 14:59:47,863 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 14:59:47,865 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 14:59:47,866 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 14:59:47,867 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 14:59:47,868 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 14:59:47,869 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 3.64 GB, VMS: 43.12 GB
2025-04-21 14:59:47,870 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.47 GB, Reserved: 0.78 GB, Total: 8.00 GB
2025-04-21 14:59:47,871 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 14:59:47,873 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 14:59:47,874 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 14:59:48,454 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 14:59:48,456 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 14:59:48,486 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 14:59:48,488 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 14:59:48,489 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 3.64 GB, VMS: 43.12 GB
2025-04-21 14:59:48,490 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:48,491 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 14:59:48,992 - app_setup - INFO - Document loader shut down complete.
2025-04-21 14:59:48,994 - app_setup - INFO - Process memory - RSS: 3.64 GB, VMS: 43.12 GB
2025-04-21 14:59:48,996 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:48,997 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 14:59:48,998 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 14:59:49,000 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 3.64 GB, VMS: 43.12 GB
2025-04-21 14:59:49,001 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 14:59:49,002 - app_setup - INFO - Loading chunking model...
2025-04-21 14:59:49,003 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:59:49,004 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 14:59:49,004 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 14:59:49,005 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 14:59:49,007 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 14:59:52,082 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 14:59:52,084 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 3.08 seconds
2025-04-21 14:59:52,086 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 3.73 GB, VMS: 43.25 GB
2025-04-21 14:59:52,087 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:59:52,088 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 14:59:52,089 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: 770e5d44-5078-452d-86ec-d604045753d8, Type: .pdf)
2025-04-21 14:59:52,091 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 14:59:52,092 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 14:59:52,093 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 14:59:52,115 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 14:59:52,116 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 14:59:52,118 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 14:59:52,119 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 14:59:52,120 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 14:59:52,121 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 3.73 GB, VMS: 43.25 GB
2025-04-21 14:59:52,122 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 14:59:52,123 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 14:59:52,124 - app_setup - INFO - Shutting down chunking model...
2025-04-21 14:59:52,125 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 14:59:52,126 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 14:59:52,127 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 14:59:52,127 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 14:59:52,129 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 14:59:52,780 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 14:59:52,781 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 3.73 GB, VMS: 43.25 GB
2025-04-21 14:59:52,783 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:59:53,230 - app_setup - INFO - Process memory - RSS: 3.73 GB, VMS: 43.25 GB
2025-04-21 14:59:53,232 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:59:53,234 - app_setup - INFO - Total chunks generated: 2
2025-04-21 14:59:53,235 - app_setup - INFO - Creating entity extractor with model deepseek/deepseek-chat-v3-0324 (Backend: openrouter)
2025-04-21 14:59:53,236 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 14:59:53,237 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 14:59:53,237 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 14:59:53,240 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 14:59:53,241 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=deepseek/deepseek-chat-v3-0324, debug=True
2025-04-21 14:59:53,242 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 3.73 GB, VMS: 43.25 GB
2025-04-21 14:59:53,243 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:59:53,244 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 14:59:53,245 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 14:59:53,246 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 14:59:53,247 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 14:59:53,248 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 3.73 GB, VMS: 43.25 GB
2025-04-21 14:59:53,249 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 14:59:53,250 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 14:59:53,251 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 14:59:53,252 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 14:59:53,252 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 14:59:53,253 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: deepseek/deepseek-chat-v3-0324).
2025-04-21 14:59:53,254 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 14:59:53,255 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 14:59:53,256 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 14:59:53,257 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 14:59:53,258 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 14:59:53,259 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 14:59:53,260 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 14:59:53,262 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 14:59:53,263 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 14:59:53,263 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 14:59:53,264 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:00:06,666 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:00:06,667 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:00:06,668 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:00:06,669 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:00:06,670 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:00:49,889 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:00:49,949 - app_setup - INFO - Process memory - RSS: 3.74 GB, VMS: 43.32 GB
2025-04-21 15:00:49,951 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:00:50,074 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 15:00:50,136 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 15:01:03,256 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:01:03,257 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 70.00s. Success: 2, Errors: 0
2025-04-21 15:01:03,258 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 70.00s
2025-04-21 15:01:11,076 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:01:11,130 - app_setup - INFO - Process memory - RSS: 3.74 GB, VMS: 43.28 GB
2025-04-21 15:01:11,132 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:01:12,332 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:01:12,383 - app_setup - INFO - Process memory - RSS: 3.71 GB, VMS: 43.22 GB
2025-04-21 15:01:12,385 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:01:12,855 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:01:12,908 - app_setup - INFO - Process memory - RSS: 3.71 GB, VMS: 43.22 GB
2025-04-21 15:01:12,909 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:01:13,031 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 15:01:13,088 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 15:01:15,955 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:01:16,007 - app_setup - INFO - Process memory - RSS: 3.71 GB, VMS: 43.22 GB
2025-04-21 15:01:16,008 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:01:34,814 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 15:01:34,814 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 15:01:34,814 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 15:01:34,814 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 15:01:35,322 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 15:01:39,108 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 15:01:40,330 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 15:01:40,331 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 15:01:40,332 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 15:01:40,333 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 15:01:40,334 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 15:01:40,471 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 15:01:44,907 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:01:44,909 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 15:01:44,910 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 15:01:44,911 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 15:01:44,914 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 15:01:44,961 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 15:01:44,962 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 15:01:44,965 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 15:01:44,966 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 15:01:44,967 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 15:01:44,970 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 15:01:44,972 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 15:01:44,973 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 15:01:44,974 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 15:01:44,975 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 15:01:44,976 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 15:01:44,977 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 15:01:44,978 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.63 GB
2025-04-21 15:01:45,048 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 15:01:45,051 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-exp-03-25:free)
2025-04-21 15:01:45,108 - app_setup - INFO - Process memory - RSS: 1.36 GB, VMS: 37.65 GB
2025-04-21 15:01:45,109 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 15:03:05,980 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:03:06,038 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 15:03:06,040 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 15:03:06,167 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 15:03:06,226 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-21 15:03:07,909 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:03:07,965 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 15:03:07,966 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 15:03:12,527 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:03:12,583 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 15:03:12,584 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 15:03:13,396 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:03:13,450 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 15:03:13,451 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 15:03:13,457 - app_setup - INFO - Starting processing with LLM: deepseek/deepseek-chat-v3-0324 (Backend: OPENROUTER)
2025-04-21 15:03:13,459 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 15:03:13,461 - app_setup - INFO - Starting document processing. Files: ['free_text_data.pdf']. LLM: deepseek/deepseek-chat-v3-0324 (Backend: openrouter)
2025-04-21 15:03:13,464 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 15:03:13,466 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 15:03:13,472 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 15:03:13,473 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 15:03:13,478 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 15:03:13,481 - app_setup - INFO - Loading regular document: free_text_data.pdf
2025-04-21 15:03:13,482 - src.core.document_processing.document_loader - INFO - Loading document: free_text_data.pdf (Type: .pdf)
2025-04-21 15:03:13,484 - src.core.document_processing.document_loader - INFO - Processing with Docling: free_text_data.pdf
2025-04-21 15:03:13,485 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for free_text_data.pdf...
2025-04-21 15:03:17,733 - src.core.document_processing.document_loader - INFO - Exporting free_text_data.pdf content to Markdown...
2025-04-21 15:03:17,744 - src.core.document_processing.document_loader - INFO - Docling processing successful for free_text_data.pdf. Word count: 92, Page count: 1
2025-04-21 15:03:17,745 - app_setup - INFO - Document loaded: free_text_data.pdf, Content items: 1
2025-04-21 15:03:17,747 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 15:03:17,748 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 15:03:17,749 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.17 GB, VMS: 40.10 GB
2025-04-21 15:03:17,750 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 15:03:17,751 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 15:03:17,753 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 15:03:17,754 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 15:03:18,205 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 15:03:18,206 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 15:03:18,232 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 15:03:18,233 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 15:03:18,234 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.17 GB, VMS: 40.10 GB
2025-04-21 15:03:18,236 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:03:18,237 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 15:03:18,695 - app_setup - INFO - Document loader shut down complete.
2025-04-21 15:03:18,696 - app_setup - INFO - Process memory - RSS: 2.17 GB, VMS: 40.10 GB
2025-04-21 15:03:18,698 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:03:18,699 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 15:03:18,701 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 15:03:18,702 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.17 GB, VMS: 40.10 GB
2025-04-21 15:03:18,703 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:03:18,704 - app_setup - INFO - Loading chunking model...
2025-04-21 15:03:18,705 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 15:03:18,706 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 15:03:18,707 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 15:03:18,708 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 15:03:18,709 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 15:03:21,958 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 15:03:21,960 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 3.25 seconds
2025-04-21 15:03:21,961 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 15:03:21,962 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:03:21,963 - app_setup - INFO - Chunking document 1/1: free_text_data.pdf
2025-04-21 15:03:21,964 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: free_text_data.pdf (ID: 0c12c50a-931b-47c3-a402-67be4fefc7ca, Type: .pdf)
2025-04-21 15:03:21,965 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for free_text_data.pdf.
2025-04-21 15:03:21,966 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 536 chars) using Markdown Header + Semantic chunking.
2025-04-21 15:03:21,967 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 1 initial structural chunks.
2025-04-21 15:03:21,989 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 2 potential chunks.
2025-04-21 15:03:21,990 - src.core.document_processing.document_chunker - INFO - Final processing created 2 chunks from text of length 536.
2025-04-21 15:03:21,991 - src.core.document_processing.document_chunker - INFO - Chunking for free_text_data.pdf completed in 0.03s.
2025-04-21 15:03:21,992 - src.core.document_processing.document_chunker - INFO - Created 2 total chunks: 0 spreadsheet rows, 2 semantic chunks, 0 sentence fallback chunks, 0 basic fallback chunks.
2025-04-21 15:03:21,993 - src.core.document_processing.document_chunker - INFO - Average chunk size: 264.5 characters.
2025-04-21 15:03:21,994 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 15:03:21,996 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.48 GB, Total: 8.00 GB
2025-04-21 15:03:21,996 - app_setup - INFO - Created 2 chunks for free_text_data.pdf
2025-04-21 15:03:21,997 - app_setup - INFO - Shutting down chunking model...
2025-04-21 15:03:21,998 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 15:03:21,999 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 15:03:22,000 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 15:03:22,001 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 15:03:22,003 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 15:03:22,666 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 15:03:22,667 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 15:03:22,669 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:03:23,152 - app_setup - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 15:03:23,154 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:03:23,156 - app_setup - INFO - Total chunks generated: 2
2025-04-21 15:03:23,158 - app_setup - INFO - Creating entity extractor with model deepseek/deepseek-chat-v3-0324 (Backend: openrouter)
2025-04-21 15:03:23,159 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 15:03:23,159 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 15:03:23,160 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 15:03:23,163 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 15:03:23,164 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=deepseek/deepseek-chat-v3-0324, debug=True
2025-04-21 15:03:23,165 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 15:03:23,167 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:03:23,168 - app_setup - INFO - Starting entity extraction on 2 chunks (0 visual chunks)
2025-04-21 15:03:23,169 - src.core.extraction.entity_extractor - INFO - Adding 2 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 15:03:23,170 - src.core.extraction.entity_extractor - INFO - Added 2 chunks to queue. Processing now.
2025-04-21 15:03:23,171 - src.core.extraction.entity_extractor - INFO - Processing all 2 chunks using OPENROUTER backend...
2025-04-21 15:03:23,172 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 15:03:23,173 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:03:23,173 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 15:03:23,174 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 15:03:23,175 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 15:03:23,176 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 15:03:23,177 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: deepseek/deepseek-chat-v3-0324).
2025-04-21 15:03:23,178 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 15:03:23,179 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks (0 spreadsheet rows)
2025-04-21 15:03:23,180 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 15:03:23,181 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (2 chunks)
2025-04-21 15:03:23,182 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 15:03:23,183 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 15:03:23,184 - src.core.extraction.entity_extractor - INFO - Processing 2 chunks sequentially via OpenRouter...
2025-04-21 15:03:23,185 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:03:23,186 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:03:23,186 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:03:23,187 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:03:47,856 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:03:47,857 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:03:47,858 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:03:47,859 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:03:47,859 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:06:39,123 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:06:39,124 - src.core.extraction.entity_extractor - INFO - Batch processing finished in 195.94s. Success: 2, Errors: 0
2025-04-21 15:06:39,125 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 195.95s
2025-04-21 15:06:39,126 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-21 15:06:39,127 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 25 entities, 7 relationships.
2025-04-21 15:06:39,128 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-21 15:06:39,129 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 25 raw entities...
2025-04-21 15:06:39,132 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-21 15:06:39,134 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-21 15:06:39,192 - src.core.extraction.entity_extractor - INFO - Generated 68 candidate pairs.
2025-04-21 15:06:39,193 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-21 15:06:39,200 - src.core.extraction.entity_extractor - INFO - Found 12 potential duplicate pairs.
2025-04-21 15:06:39,201 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-21 15:06:39,203 - src.core.extraction.entity_extractor - INFO - Found 14 clusters (including singletons).
2025-04-21 15:06:39,203 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-21 15:06:39,206 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 14.
2025-04-21 15:06:39,207 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs...
2025-04-21 15:06:39,208 - src.core.extraction.entity_extractor - INFO - Updating 7 raw relationships with canonical entity IDs...
2025-04-21 15:06:39,208 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 7, Updated IDs in 7, Skipped 0.
2025-04-21 15:06:39,209 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-21 15:06:39,210 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-21 15:06:39,211 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 0 duplicates. Final count: 7.
2025-04-21 15:06:39,212 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 14 entities, 7 relationships.
2025-04-21 15:06:39,213 - src.core.extraction.entity_extractor - INFO - Saved 14 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-21 15:06:39,214 - src.core.extraction.entity_extractor - INFO - Saved 7 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 15:06:39,215 - app_setup - INFO - Entity extraction complete. Modified chunks: 2
2025-04-21 15:06:39,676 - app_setup - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 15:06:39,677 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:06:39,728 - app_setup - INFO - QueryEngine LLM model name (for chat) updated to: deepseek/deepseek-chat-v3-0324
2025-04-21 15:06:39,730 - app_setup - INFO - OpenRouter backend: Skipping Aphrodite process info update.
2025-04-21 15:06:39,731 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-21 15:06:39,732 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 128
2025-04-21 15:06:39,732 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode (Dense + Sparse))
2025-04-21 15:06:39,733 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-21 15:06:39,734 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-21 15:06:39,735 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-21 15:06:39,736 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-21 15:06:39,736 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-21 15:06:39,737 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-21 15:06:39,738 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-21 15:06:39,739 - src.core.indexing.document_indexer - INFO -   - Auto Recreate Collection: False
2025-04-21 15:06:39,739 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-21 15:06:39,740 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.56 GB, VMS: 41.62 GB
2025-04-21 15:06:39,741 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:06:39,742 - app_setup - INFO - Loading indexing model...
2025-04-21 15:06:39,743 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-21 15:06:39,744 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-21 15:06:39,745 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-21 15:06:40,896 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-21 15:06:40,898 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 1.15 seconds
2025-04-21 15:06:40,899 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.63 GB, VMS: 45.17 GB
2025-04-21 15:06:40,901 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:06:41,002 - app_setup - INFO - Indexing 2 modified chunks
2025-04-21 15:06:41,003 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 2 CHUNKS =====
2025-04-21 15:06:41,004 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-21 15:06:41,005 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-21 15:06:41,006 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 2 chunks...
2025-04-21 15:06:41,008 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-21 15:06:41,023 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-21 15:06:41,024 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-21 15:06:41,025 - src.core.indexing.document_indexer - INFO - Saving BM25 index, tokenized texts, and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 15:06:41,026 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (2 documents).
2025-04-21 15:06:41,027 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.02s (Success: True)
2025-04-21 15:06:41,077 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-21 15:06:41,078 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-21 15:06:41,448 - src.core.indexing.document_indexer - INFO - Collection created.
2025-04-21 15:06:41,903 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 128...
2025-04-21 15:06:41,905 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/1 (2 chunks) ---
2025-04-21 15:06:41,907 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-21 15:06:41,909 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-21 15:06:43,266 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings (dense, sparse) generated in 1.36s
2025-04-21 15:06:43,269 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-21 15:06:43,272 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-21 15:06:43,335 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-21 15:06:43,337 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 1dcf6f00-c38b-49af-827b-02826fc5a601...
2025-04-21 15:06:43,362 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.02s
2025-04-21 15:06:43,363 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.33 GB, VMS: 43.06 GB
2025-04-21 15:06:43,365 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.09 GB, Total: 8.00 GB
2025-04-21 15:06:43,952 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 2.05s. Overall success for this batch: True
2025-04-21 15:06:43,957 - src.core.indexing.document_indexer - INFO - Qdrant processing finished in 2.93s (Overall Success: True)
2025-04-21 15:06:43,960 - src.core.indexing.document_indexer - INFO - ===== INDEXING PROCESS COMPLETE IN 2.96s =====
2025-04-21 15:06:43,962 - src.core.indexing.document_indexer - INFO - RESULT: Successfully indexed 2 chunks to Qdrant and BM25.
2025-04-21 15:06:43,963 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-21 15:06:43,964 - src.core.indexing.document_indexer - INFO - Unloading BGE-M3 (FlagEmbedding) model components...
2025-04-21 15:06:44,919 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model/tokenizer references.
2025-04-21 15:06:45,411 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-21 15:06:45,428 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-21 15:06:45,881 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-21 15:06:45,885 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.44 GB, VMS: 43.06 GB
2025-04-21 15:06:45,886 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:06:45,887 - src.core.indexing.document_indexer - INFO - Index_documents call finished.
2025-04-21 15:06:45,887 - app_setup - INFO - Shutting down indexing model...
2025-04-21 15:06:45,888 - src.core.indexing.document_indexer - INFO - Embedding model already unloaded or not loaded.
2025-04-21 15:06:46,328 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 43.06 GB
2025-04-21 15:06:46,330 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:06:46,393 - app_setup - INFO - Document processing pipeline completed successfully!
2025-04-21 15:06:46,394 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 43.06 GB
2025-04-21 15:06:46,395 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:06:46,852 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:06:46,931 - app_setup - INFO - Process memory - RSS: 3.44 GB, VMS: 43.06 GB
2025-04-21 15:06:46,934 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:08:24,855 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:08:24,938 - app_setup - INFO - Process memory - RSS: 3.46 GB, VMS: 43.03 GB
2025-04-21 15:08:24,940 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:08:25,164 - src.core.query_system.query_engine - INFO - Retrieved 2 chunks for exploration.
2025-04-21 15:08:25,257 - src.core.query_system.query_engine - INFO - Retrieved 2 chunks for exploration.
2025-04-21 15:08:25,314 - app_setup - INFO - Building NetworkX multi-graphs for analysis...
2025-04-21 15:08:25,318 - app_setup - INFO - Created entity lookup with 14 valid entities.
2025-04-21 15:08:25,324 - app_setup - INFO - Analysis graphs built: Directed (14N, 7E), Undirected (14N, 7E). Skipped 0 edges.
2025-04-21 15:08:25,332 - app_setup - WARNING - Eigenvector centrality failed: `eigenvector_centrality_numpy` does not give consistent results for disconnected graphs. Assigning 0.
2025-04-21 15:08:34,615 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:08:34,679 - app_setup - INFO - Process memory - RSS: 3.47 GB, VMS: 43.09 GB
2025-04-21 15:08:34,681 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:08:34,827 - src.core.query_system.query_engine - INFO - Retrieved 2 chunks for exploration.
2025-04-21 15:08:34,903 - src.core.query_system.query_engine - INFO - Retrieved 2 chunks for exploration.
2025-04-21 15:08:34,950 - app_setup - WARNING - Eigenvector centrality failed: `eigenvector_centrality_numpy` does not give consistent results for disconnected graphs. Assigning 0.
2025-04-21 15:08:35,477 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:08:35,550 - app_setup - INFO - Process memory - RSS: 3.47 GB, VMS: 43.10 GB
2025-04-21 15:08:35,552 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:08:35,728 - src.core.query_system.query_engine - INFO - Retrieved 2 chunks for exploration.
2025-04-21 15:08:35,819 - src.core.query_system.query_engine - INFO - Retrieved 2 chunks for exploration.
2025-04-21 15:08:35,883 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:08:36,443 - app_setup - INFO - Process memory - RSS: 2.62 GB, VMS: 43.10 GB
2025-04-21 15:08:36,444 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:08:36,451 - app_setup - INFO - Clearing all indexed and extracted data...
2025-04-21 15:08:36,597 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-21 15:08:34,922 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-21 15:08:34,925 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-21 15:08:34,926 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-21 15:08:34,927 - src.core.query_system.query_engine - INFO - Internal BM25 state cleared.
2025-04-21 15:08:34,928 - app_setup - INFO - Data clearing successful via QueryEngine.
2025-04-21 15:08:34,930 - app_setup - INFO - Cleared relevant session state caches after data deletion.
2025-04-21 15:08:34,985 - app_setup - INFO - Collection info after clearing: {'exists': False}
2025-04-21 15:08:35,451 - app_setup - INFO - Process memory - RSS: 2.62 GB, VMS: 43.10 GB
2025-04-21 15:08:35,453 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:08:35,456 - app_setup - ERROR - Unhandled error in main application loop: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 127, in <module>
    main()
  File "/home/t/lm_rag/src/ui/app.py", line 74, in main
    selected_page = render_sidebar()
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/ui/app_ui_core.py", line 159, in render_sidebar
    st.session_state.confirm_delete = False; st.rerun()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 136, in __setattr__
    self[key] = value
    ~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state_proxy.py", line 114, in __setitem__
    get_session_state()[key] = value
    ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py", line 101, in __setitem__
    self._state[key] = value
    ~~~~~~~~~~~^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py", line 515, in __setitem__
    raise StreamlitAPIException(
streamlit.errors.StreamlitAPIException: `st.session_state.confirm_delete` cannot be modified after the widget with key `confirm_delete` is instantiated.
2025-04-21 15:08:42,396 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 15:08:42,397 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 15:08:42,397 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 15:08:42,397 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 15:08:42,894 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 15:08:46,526 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 15:08:47,849 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 15:08:47,850 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 15:08:47,851 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 15:08:47,852 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 15:08:47,853 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 15:08:48,004 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 15:08:55,665 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:08:55,668 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 15:08:55,669 - src.utils.openrouter_manager - INFO - Initializing OpenRouterManager...
2025-04-21 15:08:55,670 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 15:08:55,672 - src.utils.openrouter_manager - INFO - OpenRouter API Key found (masked: sk-or-v...0877)
2025-04-21 15:08:55,718 - src.utils.openrouter_manager - INFO - OpenRouter manager initialized. Base URL: https://openrouter.ai/api/v1. OpenAI client created successfully.
2025-04-21 15:08:55,719 - app_setup - INFO - OpenRouterManager initialized successfully.
2025-04-21 15:08:55,722 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 15:08:55,723 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 15:08:55,723 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 15:08:55,727 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 15:08:55,729 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 15:08:55,730 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 15:08:55,731 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 15:08:55,732 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 15:08:55,733 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 15:08:55,734 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 15:08:55,735 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.36 GB, VMS: 37.63 GB
2025-04-21 15:08:55,813 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 15:08:55,815 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-exp-03-25:free)
2025-04-21 15:08:55,874 - app_setup - INFO - Process memory - RSS: 1.38 GB, VMS: 37.65 GB
2025-04-21 15:08:55,875 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 15:10:20,499 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:10:20,558 - app_setup - INFO - Process memory - RSS: 1.39 GB, VMS: 37.66 GB
2025-04-21 15:10:20,559 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 15:10:19,031 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 15:10:19,083 - app_setup - INFO - Process memory - RSS: 1.39 GB, VMS: 37.66 GB
2025-04-21 15:10:19,084 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 15:10:19,091 - app_setup - INFO - Starting processing with LLM: deepseek/deepseek-chat-v3-0324 (Backend: OPENROUTER)
2025-04-21 15:10:19,094 - app_setup - INFO - OpenRouter backend selected. Skipping Aphrodite service checks.
2025-04-21 15:10:19,096 - app_setup - INFO - Starting document processing. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']. LLM: deepseek/deepseek-chat-v3-0324 (Backend: openrouter)
2025-04-21 15:10:19,099 - app_setup - INFO - Process memory - RSS: 1.39 GB, VMS: 37.66 GB
2025-04-21 15:10:19,101 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 15:10:19,107 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-21 15:10:19,108 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-21 15:10:19,113 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-21 15:10:19,118 - app_setup - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-21 15:10:19,119 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-21 15:10:19,120 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-21 15:10:19,122 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-21 15:12:45,656 - src.core.document_processing.document_loader - INFO - Exporting Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf content to Markdown...
2025-04-21 15:13:14,836 - src.core.document_processing.document_loader - INFO - Docling processing successful for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf. Word count: 94174, Page count: 246
2025-04-21 15:13:14,959 - app_setup - INFO - Document loaded: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf, Content items: 1
2025-04-21 15:13:14,961 - app_setup - INFO - Shutting down document loader (Docling)...
2025-04-21 15:13:14,962 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-21 15:13:14,963 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.77 GB, VMS: 40.69 GB
2025-04-21 15:13:14,964 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-21 15:13:14,965 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-21 15:13:14,968 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-21 15:13:14,969 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-21 15:13:15,418 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-21 15:13:15,420 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-21 15:13:15,443 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-21 15:13:15,445 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-21 15:13:15,446 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.71 GB, VMS: 40.63 GB
2025-04-21 15:13:15,447 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:13:15,448 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-21 15:13:15,882 - app_setup - INFO - Document loader shut down complete.
2025-04-21 15:13:15,885 - app_setup - INFO - Process memory - RSS: 2.71 GB, VMS: 40.63 GB
2025-04-21 15:13:15,886 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:13:15,887 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-21 15:13:15,888 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-21 15:13:15,890 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.71 GB, VMS: 40.63 GB
2025-04-21 15:13:15,891 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-21 15:13:15,891 - app_setup - INFO - Loading chunking model...
2025-04-21 15:13:15,892 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 15:13:15,893 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-21 15:13:15,894 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-21 15:13:15,895 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-21 15:13:15,895 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-21 15:13:16,815 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-21 15:13:16,816 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 0.92 seconds
2025-04-21 15:13:16,817 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.85 GB, VMS: 41.91 GB
2025-04-21 15:13:16,819 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:13:16,820 - app_setup - INFO - Chunking document 1/1: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-21 15:13:16,820 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (ID: 896d9840-8f10-469c-bb33-fd2bbc4bfeb9, Type: .pdf)
2025-04-21 15:13:16,821 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf.
2025-04-21 15:13:16,822 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 608866 chars) using Markdown Header + Semantic chunking.
2025-04-21 15:13:16,845 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 244 initial structural chunks.
2025-04-21 15:13:24,594 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 502 potential chunks.
2025-04-21 15:13:24,595 - src.core.document_processing.document_chunker - WARNING - Chunk (length 8299) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 15:13:24,596 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-21 15:13:24,598 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6564) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 15:13:24,599 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-21 15:13:24,600 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6017) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 15:13:24,601 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-21 15:13:24,602 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5972) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 15:13:24,603 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-21 15:13:24,604 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7518) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 15:13:24,605 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 21 basic chunks.
2025-04-21 15:13:24,606 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7098) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 15:13:24,607 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-21 15:13:24,608 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7084) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 15:13:24,609 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 19 basic chunks.
2025-04-21 15:13:24,610 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5166) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 15:13:24,613 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 15 basic chunks.
2025-04-21 15:13:24,614 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5469) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 15:13:24,614 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 14 basic chunks.
2025-04-21 15:13:24,615 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5139) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-21 15:13:24,616 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 13 basic chunks.
2025-04-21 15:13:24,617 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 10 oversized chunks.
2025-04-21 15:13:24,618 - src.core.document_processing.document_chunker - INFO - Final processing created 672 chunks from text of length 608866.
2025-04-21 15:13:24,622 - src.core.document_processing.document_chunker - INFO - Chunking for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf completed in 7.80s.
2025-04-21 15:13:24,623 - src.core.document_processing.document_chunker - INFO - Created 672 total chunks: 0 spreadsheet rows, 492 semantic chunks, 0 sentence fallback chunks, 180 basic fallback chunks.
2025-04-21 15:13:24,624 - src.core.document_processing.document_chunker - INFO - Average chunk size: 881.6 characters.
2025-04-21 15:13:24,625 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.84 GB, VMS: 41.89 GB
2025-04-21 15:13:24,626 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.97 GB, Total: 8.00 GB
2025-04-21 15:13:24,627 - app_setup - INFO - Created 672 chunks for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-21 15:13:24,628 - app_setup - INFO - Shutting down chunking model...
2025-04-21 15:13:24,629 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-21 15:13:24,629 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-21 15:13:24,630 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-21 15:13:24,631 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-21 15:13:24,637 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-21 15:13:25,292 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-21 15:13:25,294 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.84 GB, VMS: 41.88 GB
2025-04-21 15:13:25,295 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:13:25,731 - app_setup - INFO - Process memory - RSS: 2.84 GB, VMS: 41.88 GB
2025-04-21 15:13:25,732 - app_setup - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:13:25,733 - app_setup - INFO - Total chunks generated: 672
2025-04-21 15:13:25,734 - app_setup - INFO - Creating entity extractor with model deepseek/deepseek-chat-v3-0324 (Backend: openrouter)
2025-04-21 15:13:25,735 - src.core.extraction.entity_extractor - INFO - Initializing EntityExtractor...
2025-04-21 15:13:25,736 - src.core.extraction.entity_extractor - INFO - EntityExtractor detected backend: OpenRouter
2025-04-21 15:13:25,737 - src.core.extraction.entity_extractor - INFO - Attempting to generate JSON schema for OpenRouter extraction...
2025-04-21 15:13:25,739 - src.core.extraction.entity_extractor - INFO - Successfully generated JSON schema for OpenRouter.
2025-04-21 15:13:25,740 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with backend: OPENROUTER, model=deepseek/deepseek-chat-v3-0324, debug=True
2025-04-21 15:13:25,741 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.84 GB, VMS: 41.88 GB
2025-04-21 15:13:25,742 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:13:25,743 - app_setup - INFO - Starting entity extraction on 672 chunks (0 visual chunks)
2025-04-21 15:13:25,744 - src.core.extraction.entity_extractor - INFO - Adding 672 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-21 15:13:25,745 - src.core.extraction.entity_extractor - INFO - Added 672 chunks to queue. Processing now.
2025-04-21 15:13:25,746 - src.core.extraction.entity_extractor - INFO - Processing all 672 chunks using OPENROUTER backend...
2025-04-21 15:13:25,747 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.84 GB, VMS: 41.88 GB
2025-04-21 15:13:25,748 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-21 15:13:25,749 - src.core.extraction.entity_extractor - INFO - Ensuring LLM backend model is loaded/ready...
2025-04-21 15:13:25,750 - src.core.extraction.entity_extractor - INFO - Entering ensure_model_loaded...
2025-04-21 15:13:25,751 - src.core.extraction.entity_extractor - INFO - Checking OpenRouter backend readiness...
2025-04-21 15:13:25,751 - src.core.extraction.entity_extractor - INFO - OpenRouter manager found. Client is ready: True
2025-04-21 15:13:25,752 - src.core.extraction.entity_extractor - INFO - OpenRouter backend ready for extraction (using model: deepseek/deepseek-chat-v3-0324).
2025-04-21 15:13:25,753 - src.core.extraction.entity_extractor - INFO - Model readiness check returned: True
2025-04-21 15:13:25,754 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks (0 spreadsheet rows)
2025-04-21 15:13:25,755 - src.core.extraction.entity_extractor - INFO - Processing in 1 conceptual batches (size ~1024)
2025-04-21 15:13:25,756 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (672 chunks)
2025-04-21 15:13:25,756 - src.core.extraction.entity_extractor - INFO - Entering OpenRouter processing logic in _process_text_chunks_batch.
2025-04-21 15:13:25,757 - src.core.extraction.entity_extractor - INFO - JSON schema found. Proceeding with OpenRouter calls.
2025-04-21 15:13:25,758 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks sequentially via OpenRouter...
2025-04-21 15:13:25,759 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:13:25,760 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:13:25,760 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:13:25,761 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:13:29,406 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:13:29,408 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:13:29,409 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:13:29,410 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:13:29,411 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:13:33,811 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:13:33,813 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:13:33,813 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:13:33,814 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:13:33,815 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:13:42,608 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:13:42,609 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:13:42,610 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:13:42,611 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:13:42,612 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:13:44,317 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:13:44,318 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:13:44,319 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:13:44,320 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:13:44,321 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:13:50,227 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:13:50,228 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:13:50,229 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:13:50,230 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:13:50,231 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:13:54,147 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:13:54,149 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:13:54,150 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:13:54,150 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:13:54,151 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:13:59,610 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:13:59,611 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:13:59,612 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:13:59,613 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:13:59,614 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:14:03,146 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:14:03,148 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:14:03,149 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:14:03,149 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:14:03,150 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:14:15,101 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:14:15,102 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:14:15,103 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:14:15,104 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:14:15,105 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:14:31,690 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:14:31,692 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:14:31,692 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:14:31,693 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:14:31,694 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:14:35,639 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:14:35,641 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:14:35,642 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:14:35,642 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:14:35,643 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:14:45,006 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:14:45,007 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:14:45,008 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:14:45,009 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:14:45,010 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:14:49,173 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:14:49,175 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:14:49,176 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:14:49,177 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:14:49,177 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:14:56,304 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:14:56,305 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:14:56,306 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:14:56,307 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:14:56,308 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:15:01,796 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:15:01,797 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:15:01,798 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:15:01,799 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:15:01,800 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:15:11,756 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:15:11,758 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:15:11,759 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:15:11,759 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:15:11,760 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:15:16,831 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:15:16,832 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:15:16,839 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:15:16,839 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:15:16,840 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:15:22,332 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:15:22,333 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:15:22,334 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:15:22,335 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:15:22,336 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:15:32,815 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:15:32,816 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:15:32,817 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:15:32,818 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:15:32,819 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:15:39,760 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:15:39,762 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:15:39,762 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:15:39,763 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:15:39,764 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:15:45,165 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:15:45,166 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:15:45,167 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:15:45,168 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:15:45,169 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:15:49,091 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:15:49,093 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:15:49,094 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:15:49,095 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:15:49,095 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:15:59,349 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:15:59,350 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:15:59,351 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:15:59,352 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:15:59,352 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:16:40,042 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting value: line 1 column 1 (char 0)
2025-04-21 15:16:40,043 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: Here is the structured extraction and metadata for the provided text:

```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Bashirov",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Azerbaijan",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Bashirov",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Linked to the Azerbaijani Laundromat",
      "to_entity_name": "Azerbaijani Laundromat",
      "to_entity_type": "EVENT"
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Bashirov",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Subject of an ongoing criminal investigation",
      "to_entity_name": "Ongoing criminal investigation",
      "to_entity_type": "EVENT"
    }
  ],
  "metadata": {
    "summary": "The text discusses a person's arrest in a specific location, their connections to a financial scandal, and an ongoing criminal investigation. It references a financial scheme and legal proceedings without delving into detailed transactional data. The content involves a person, a location, and notable events.",
    "red_flags": "Red flags: Involvement in a money laundering scheme and ongoing criminal investigation."
  }
}
```

### Notes:
1. **Entities and Relationships**:  
   - "Mr Bashirov" is the primary entity, linked to "Azerbaijani Laundromat" (an event) and an "ongoing criminal investigation" (another event).  
   - "Azerbaijan" is included as a location but has no explicit relationships.  

2. **Metadata**:  
   - The summary abstracts specifics (e.g., "a person" instead of "Mr Bashirov") while noting the presence of a location and events.  
   - Red flags highlight the money laundering link and criminal investigation.  

3. **Avoiding Duplicates**:  
   - "Mr Bashirov" appears only once in the entity list, with relationships consolidated under the same entry.  

Let me know if you'd like any refinements!
2025-04-21 15:16:40,048 - src.utils.openrouter_manager - ERROR - Original raw string: Here is the structured extraction and metadata for the provided text:

```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Bashirov",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Azerbaijan",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Bashirov",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Linked to the Azerbaijani Laundromat",
      "to_entity_name": "Azerbaijani Laundromat",
      "to_entity_type": "EVENT"
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Bashirov",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Subject of an ongoing criminal investigation",
      "to_entity_name": "Ongoing criminal investigation",
      "to_entity_type": "EVENT"
    }
  ],
  "metadata": {
    "summary": "The text discusses a person's arrest in a specific location, their connections to a financial scandal, and an ongoing criminal investigation. It references a financial scheme and legal proceedings without delving into detailed transactional data. The content involves a person, a location, and notable events.",
    "red_flags": "Red flags: Involvement in a money laundering scheme and ongoing criminal investigation."
  }
}
```

### Notes:
1. **Entities and Relationships**:  
   - "Mr Bashirov" is the primary entity, linked to "Azerbaijani Laundromat" (an event) and an "ongoing criminal investigation" (another event).  
   - "Azerbaijan" is included as a location but has no explicit relationships.  

2. **Metadata**:  
   - The summary abstracts specifics (e.g., "a person" instead of "Mr Bashirov") while noting the presence of a location and events.  
   - Red flags highlight the money laundering link and criminal investigation.  

3. **Avoiding Duplicates**:  
   - "Mr Bashirov" appears only once in the entity list, with relationships consolidated under the same entry.  

Let me know if you'd like any refinements!
2025-04-21 15:16:40,053 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 02f6ee92-5a16-4ade-adf1-a17ec490161d: Model returned invalid JSON content: Expecting value: line 1 column 1 (char 0)
2025-04-21 15:16:40,053 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:16:40,054 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:16:40,055 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:16:40,056 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:16:50,642 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:16:50,644 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:16:50,644 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:16:50,645 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:16:50,646 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:17:04,654 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:17:04,656 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:17:04,656 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:17:04,657 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:17:04,658 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:17:17,528 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:17:17,530 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:17:17,531 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:17:17,532 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:17:17,533 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:17:29,699 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:17:29,701 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:17:29,701 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:17:29,702 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:17:29,703 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:17:39,787 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:17:39,789 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:17:39,790 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:17:39,790 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:17:39,791 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:17:43,542 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:17:43,544 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:17:43,545 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:17:43,545 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:17:43,546 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:17:44,187 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:17:44,188 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:17:44,189 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:17:44,190 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:17:44,191 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:17:55,291 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:17:55,292 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:17:55,293 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:17:55,293 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:17:55,294 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:17:59,046 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:17:59,047 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:17:59,048 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:17:59,049 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:17:59,050 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:18:25,002 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:18:25,004 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:18:25,024 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:18:25,025 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:18:25,025 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:18:42,687 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:18:42,688 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk f2733f14-384f-4daa-9133-f39a0551daa5): 1 validation error for EntityRelationshipList
entity_relationship_list.2.relationship_type
  Input should be 'WORKS_FOR', 'OWNS', 'LOCATED_IN', 'CONNECTED_TO' or 'MET_WITH' [type=literal_error, input_value='ESTABLISHED_UNDER', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error. Raw: {'entity_relationship_list': [{'from_entity_type': 'PERSON', 'from_entity_name': 'financial investigator', 'relationship_type': 'WORKS_FOR', 'relationship_description': 'Employed by', 'to_entity_name': 'National Crime Agency', 'to_entity_type': 'GOVERNMENT_BODY'}, {'from_entity_type': 'GOVERNMENT_BODY', 'from_entity_name': 'National Crime Agency', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'GOVERNMENT_BODY', 'from_entity_name': 'NCA', 'relationship_type': 'ESTABLISHED_UNDER', 'relationship_description': 'Established under', 'to_entity_name': 'Crime and Courts Act 2013', 'to_entity_type': 'GOVERNMENT_BODY'}, {'from_entity_type': 'GOVERNMENT_BODY', 'from_entity_name': 'Crime and Courts Act 2013', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'GOVERNMENT_BODY', 'from_entity_name': 'Proceeds of Crime Act 2002', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}], 'metadata': {'summary': 'The text describes the role and functions of a government body responsible for tackling organized crime, including asset recovery. It mentions a financial investigator employed by this body and references specific legislation under which the body operates. The content focuses on legal and organizational structures related to crime prevention and asset recovery.', 'red_flags': None}}
2025-04-21 15:18:42,691 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:18:42,692 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:18:42,693 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:18:42,694 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:19:19,329 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:19:19,331 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:19:19,332 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:19:19,332 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:19:19,333 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:19:53,553 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:19:53,554 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:19:53,555 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:19:53,556 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:19:53,557 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:19:59,352 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:19:59,353 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:19:59,354 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:19:59,355 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:19:59,356 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:20:44,081 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:20:44,082 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:20:44,083 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:20:44,084 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:20:44,085 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:21:39,012 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:21:39,013 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:21:39,014 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:21:39,015 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:21:39,016 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:21:50,594 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:21:50,596 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:21:50,597 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:21:50,598 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:21:50,599 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:21:55,708 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:21:55,709 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:21:55,710 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:21:55,711 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:21:55,712 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:22:30,182 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:22:30,183 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:22:30,184 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:22:30,185 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:22:30,186 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:26:27,077 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:26:27,080 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:26:27,081 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:26:27,082 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:26:27,082 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:26:38,420 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:26:38,421 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:26:38,422 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:26:38,423 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:26:38,424 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:27:08,468 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:27:08,470 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:27:08,471 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:27:08,471 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:27:08,472 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:27:20,429 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:27:20,430 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:27:20,431 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:27:20,432 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:27:20,433 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:28:37,160 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:28:37,162 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:28:37,167 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:28:37,168 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:28:37,169 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:29:34,573 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:29:34,575 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:29:34,575 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:29:34,576 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:29:34,577 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:29:40,346 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:29:40,347 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:29:40,348 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:29:40,349 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:29:40,350 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:30:33,383 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:30:33,384 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:30:33,388 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:30:33,389 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:30:33,390 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:31:01,495 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:31:01,497 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:31:01,498 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:31:01,498 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:31:01,499 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:31:37,146 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:31:37,147 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:31:37,148 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:31:37,149 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:31:37,150 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:33:12,152 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:33:12,154 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:33:12,154 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:33:12,155 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:33:12,156 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:33:34,675 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:33:34,676 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:33:34,677 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:33:34,678 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:33:34,679 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:34:31,758 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:34:31,759 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:34:31,761 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:34:31,762 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:34:31,763 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:35:34,864 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting value: line 1 column 1 (char 0)
2025-04-21 15:35:34,866 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: Here is the structured extraction and metadata for the provided text:

```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "NCA",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Justice Foxton",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "NCA",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Applied for a Disclosure Order granted by",
      "to_entity_name": "Mr Justice Foxton",
      "to_entity_type": "PERSON"
    }
  ],
  "metadata": {
    "summary": "The text describes legal proceedings involving a government body obtaining a Disclosure Order under POCA, which authorizes them to request information from individuals relevant to an investigation. The order was granted by a judicial authority. The content focuses on regulatory actions and legal processes without detailing specific financial or corruption-related matters.",
    "red_flags": "Red flags: None explicitly mentioned, but the use of Unexplained Wealth Orders and Disclosure Orders may indicate investigations into potential financial irregularities."
  }
}
``` 

### Notes:
1. **Entities**:  
   - The **NCA** (National Crime Agency) is a `GOVERNMENT_BODY`.  
   - **Mr Justice Foxton** is a `PERSON` (a judicial authority).  

2. **Relationships**:  
   - The NCA applied for a Disclosure Order granted by Mr Justice Foxton, indicating a `CONNECTED_TO` relationship.  

3. **Metadata**:  
   - The summary abstracts the entities (e.g., "a government body," "a judicial authority") for normalization.  
   - The red flags note the investigative context but do not assert explicit corruption, as the text is procedural.  

Let me know if you'd like any refinements!
2025-04-21 15:35:34,870 - src.utils.openrouter_manager - ERROR - Original raw string: Here is the structured extraction and metadata for the provided text:

```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "NCA",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Justice Foxton",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "NCA",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Applied for a Disclosure Order granted by",
      "to_entity_name": "Mr Justice Foxton",
      "to_entity_type": "PERSON"
    }
  ],
  "metadata": {
    "summary": "The text describes legal proceedings involving a government body obtaining a Disclosure Order under POCA, which authorizes them to request information from individuals relevant to an investigation. The order was granted by a judicial authority. The content focuses on regulatory actions and legal processes without detailing specific financial or corruption-related matters.",
    "red_flags": "Red flags: None explicitly mentioned, but the use of Unexplained Wealth Orders and Disclosure Orders may indicate investigations into potential financial irregularities."
  }
}
``` 

### Notes:
1. **Entities**:  
   - The **NCA** (National Crime Agency) is a `GOVERNMENT_BODY`.  
   - **Mr Justice Foxton** is a `PERSON` (a judicial authority).  

2. **Relationships**:  
   - The NCA applied for a Disclosure Order granted by Mr Justice Foxton, indicating a `CONNECTED_TO` relationship.  

3. **Metadata**:  
   - The summary abstracts the entities (e.g., "a government body," "a judicial authority") for normalization.  
   - The red flags note the investigative context but do not assert explicit corruption, as the text is procedural.  

Let me know if you'd like any refinements!
2025-04-21 15:35:34,874 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 52da8f3a-25bc-4cd0-bb69-14d2812ae7dd: Model returned invalid JSON content: Expecting value: line 1 column 1 (char 0)
2025-04-21 15:35:34,875 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:35:34,876 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:35:34,877 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:35:34,877 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:36:16,262 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:36:16,263 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:36:16,264 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:36:16,265 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:36:16,266 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:36:42,163 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:36:42,164 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:36:42,165 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:36:42,166 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:36:42,167 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:36:45,461 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:36:45,462 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:36:45,463 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:36:45,464 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:36:45,465 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:37:10,821 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:37:10,822 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:37:10,823 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:37:10,824 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:37:10,825 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:39:35,370 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:39:35,372 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:39:35,372 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:39:35,373 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:39:35,374 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:40:21,262 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:40:21,264 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:40:21,264 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:40:21,265 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:40:21,266 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:41:06,523 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:41:06,525 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:41:06,525 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:41:06,526 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:41:06,527 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:41:19,473 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:41:19,474 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:41:19,475 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:41:19,476 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:41:19,477 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:41:47,063 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:41:47,067 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk 3fce335b-ef8a-439a-9652-68e75acb14d7): 4 validation errors for EntityRelationshipList
entity_relationship_list.1.relationship_type
  Input should be 'WORKS_FOR', 'OWNS', 'LOCATED_IN', 'CONNECTED_TO' or 'MET_WITH' [type=literal_error, input_value='OWNED_BY', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
entity_relationship_list.2.relationship_type
  Input should be 'WORKS_FOR', 'OWNS', 'LOCATED_IN', 'CONNECTED_TO' or 'MET_WITH' [type=literal_error, input_value='OWNED_BY', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
entity_relationship_list.3.relationship_type
  Input should be 'WORKS_FOR', 'OWNS', 'LOCATED_IN', 'CONNECTED_TO' or 'MET_WITH' [type=literal_error, input_value='OWNED_BY', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
entity_relationship_list.4.relationship_type
  Input should be 'WORKS_FOR', 'OWNS', 'LOCATED_IN', 'CONNECTED_TO' or 'MET_WITH' [type=literal_error, input_value='OWNED_BY', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error. Raw: {'entity_relationship_list': [{'from_entity_type': 'PERSON', 'from_entity_name': 'Mr Hajiyev', 'relationship_type': 'WORKS_FOR', 'relationship_description': 'Chairman of a majority state-owned bank', 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'ASSET', 'from_entity_name': 'high-value residential property in the UK', 'relationship_type': 'OWNED_BY', 'relationship_description': 'Owned by Mr Hajiyev', 'to_entity_name': 'Mr Hajiyev', 'to_entity_type': 'PERSON'}, {'from_entity_type': 'ASSET', 'from_entity_name': 'villa in Sardinia', 'relationship_type': 'OWNED_BY', 'relationship_description': 'Purchased for EUR 10.7 million in 2007 by Mr Hajiyev', 'to_entity_name': 'Mr Hajiyev', 'to_entity_type': 'PERSON'}, {'from_entity_type': 'ASSET', 'from_entity_name': 'private jet', 'relationship_type': 'OWNED_BY', 'relationship_description': 'Purchased for USD 50 million by Mr Hajiyev', 'to_entity_name': 'Mr Hajiyev', 'to_entity_type': 'PERSON'}, {'from_entity_type': 'ASSET', 'from_entity_name': 'rights in an oilfield', 'relationship_type': 'OWNED_BY', 'relationship_description': 'Worth USD 41 million, owned by Mr Hajiyev', 'to_entity_name': 'Mr Hajiyev', 'to_entity_type': 'PERSON'}, {'from_entity_type': 'LOCATION', 'from_entity_name': 'UK', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'LOCATION', 'from_entity_name': 'Sardinia', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'MONEY', 'from_entity_name': 'EUR 10.7 million', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'MONEY', 'from_entity_name': 'USD 50 million', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'MONEY', 'from_entity_name': 'USD 41 million', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}], 'metadata': {'summary': "The text discusses the acquisition of a significant portfolio of high-value assets by a person holding a prominent position in a state-owned bank. The assets include residential properties, a villa, a private jet, and oilfield rights, all of which are inconsistent with the person's reported income. The document highlights locations such as the UK and Sardinia, and mentions substantial monetary values involved in these transactions.", 'red_flags': 'Red flags: Significant asset acquisitions inconsistent with reported income, suggesting potential corruption or illicit enrichment.'}}
2025-04-21 15:41:47,076 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:41:47,077 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:41:47,078 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:41:47,079 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:42:26,066 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:42:26,068 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:42:26,069 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:42:26,070 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:42:26,071 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:42:40,992 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:42:40,993 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:42:40,994 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:42:40,995 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:42:40,996 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:42:50,816 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:42:50,817 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:42:50,818 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:42:50,819 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:42:50,820 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:43:12,796 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:43:12,798 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk 27f00016-3987-4740-8ab6-1fa467363e8a): 2 validation errors for EntityRelationshipList
entity_relationship_list.3.relationship_type
  Input should be 'WORKS_FOR', 'OWNS', 'LOCATED_IN', 'CONNECTED_TO' or 'MET_WITH' [type=literal_error, input_value='OWNED_BY', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
entity_relationship_list.4.relationship_type
  Input should be 'WORKS_FOR', 'OWNS', 'LOCATED_IN', 'CONNECTED_TO' or 'MET_WITH' [type=literal_error, input_value='OWNED_BY', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error. Raw: {'entity_relationship_list': [{'from_entity_type': 'PERSON', 'from_entity_name': 'Mr Hajiyev', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'PERSON', 'from_entity_name': 'Mr Bashirov', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'PERSON', 'from_entity_name': 'Mr Hajiyev', 'relationship_type': 'CONNECTED_TO', 'relationship_description': 'Used as an informal nominee to hold high-value assets', 'to_entity_name': 'Mr Bashirov', 'to_entity_type': 'PERSON'}, {'from_entity_type': 'ASSET', 'from_entity_name': 'family home in London', 'relationship_type': 'OWNED_BY', 'relationship_description': 'Held on behalf of Mr Hajiyev', 'to_entity_name': 'Mr Bashirov', 'to_entity_type': 'PERSON'}, {'from_entity_type': 'ASSET', 'from_entity_name': 'private jet', 'relationship_type': 'OWNED_BY', 'relationship_description': 'Held on behalf of Mr Hajiyev', 'to_entity_name': 'Mr Bashirov', 'to_entity_type': 'PERSON'}, {'from_entity_type': 'COMMERCIAL_COMPANY', 'from_entity_name': 'large network of companies', 'relationship_type': 'CONNECTED_TO', 'relationship_description': 'Used to hold bank accounts in various jurisdictions', 'to_entity_name': 'Mr Hajiyev', 'to_entity_type': 'PERSON'}], 'metadata': {'summary': 'The text describes potential money laundering activities involving a person using a network of companies and bank accounts across multiple jurisdictions. Another individual is mentioned as an informal nominee holding high-value assets, including a family home and a private jet, on behalf of the first person. The practices described are consistent with layering, a known money laundering technique.', 'red_flags': 'Red flags: Use of a large network of companies with no identifiable connections, informal nominees holding high-value assets, and practices consistent with money laundering.'}}
2025-04-21 15:43:12,802 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:43:12,803 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:43:12,804 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:43:12,805 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:43:37,349 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:43:37,350 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:43:37,351 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:43:37,352 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:43:37,353 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:43:48,884 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:43:48,885 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:43:48,892 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:43:48,893 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:43:48,893 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:44:10,810 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:44:10,812 - src.core.extraction.entity_extractor - WARNING - Pydantic validation failed for OpenRouter result (chunk 8aae5726-11a5-4546-9b11-d5b08b70aa14): 1 validation error for EntityRelationshipList
entity_relationship_list.3.relationship_type
  Input should be 'WORKS_FOR', 'OWNS', 'LOCATED_IN', 'CONNECTED_TO' or 'MET_WITH' [type=literal_error, input_value='OWNED_BY', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error. Raw: {'entity_relationship_list': [{'from_entity_type': 'PERSON', 'from_entity_name': 'Mr Hajiyev', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'GOVERNMENT_BODY', 'from_entity_name': 'NCA', 'relationship_type': None, 'relationship_description': None, 'to_entity_name': None, 'to_entity_type': None}, {'from_entity_type': 'PERSON', 'from_entity_name': 'Mr Hajiyev', 'relationship_type': 'CONNECTED_TO', 'relationship_description': 'Embezzled and laundered monies', 'to_entity_name': 'NCA', 'to_entity_type': 'GOVERNMENT_BODY'}, {'from_entity_type': 'ASSET', 'from_entity_name': 'Property', 'relationship_type': 'OWNED_BY', 'relationship_description': 'Purchased with embezzled funds', 'to_entity_name': 'Mr Hajiyev', 'to_entity_type': 'PERSON'}], 'metadata': {'summary': 'The text discusses legal proceedings involving a person accused of embezzlement and money laundering on a large scale, with corroborating evidence from a government body. The person is alleged to have used illicit funds to acquire high-value assets. The trial process is noted as potentially unfair by certain standards.', 'red_flags': 'Red flags: Large-scale embezzlement and money laundering, acquisition of high-value assets with illicit funds.'}}
2025-04-21 15:44:10,815 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:44:10,815 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:44:10,816 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:44:10,817 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:44:48,413 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:44:48,414 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:44:48,415 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:44:48,416 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:44:48,417 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:45:03,291 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:45:03,293 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:45:03,299 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:45:03,300 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:45:03,301 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:45:51,670 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting property name enclosed in double quotes: line 4 column 6 (char 45)
2025-04-21 15:45:51,672 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    {
     from_entity_type": "PERSON",
      "from_entity_name": "Mr Hajiyev",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mrs Hajiyev",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "12-14 Walton Street",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "IBA",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Hajiyev",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Funds used to purchase property allegedly stolen from",
      "to_entity_name": "IBA",
      "to_entity_type": "GOVERNMENT_BODY"
    }
  ],
  "metadata": {
    "summary": "The text discusses allegations of concealment regarding a property acquisition by two individuals, with funds purportedly misappropriated from a government body. It involves a person, a government body, and an asset, suggesting financial misconduct.",
    "red_flags": "Red flags: Concealed property acquisition using allegedly stolen funds from a government body."
  }
}
2025-04-21 15:45:51,676 - src.utils.openrouter_manager - ERROR - Original raw string: ```json
{
  "entity_relationship_list": [
    {
     from_entity_type": "PERSON",
      "from_entity_name": "Mr Hajiyev",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mrs Hajiyev",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "ASSET",
      "from_entity_name": "12-14 Walton Street",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "IBA",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Hajiyev",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Funds used to purchase property allegedly stolen from",
      "to_entity_name": "IBA",
      "to_entity_type": "GOVERNMENT_BODY"
    }
  ],
  "metadata": {
    "summary": "The text discusses allegations of concealment regarding a property acquisition by two individuals, with funds purportedly misappropriated from a government body. It involves a person, a government body, and an asset, suggesting financial misconduct.",
    "red_flags": "Red flags: Concealed property acquisition using allegedly stolen funds from a government body."
  }
}
```
2025-04-21 15:45:51,681 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 33e57b67-fbff-4fb8-95dc-52cb23e2c798: Model returned invalid JSON content: Expecting property name enclosed in double quotes: line 4 column 6 (char 45)
2025-04-21 15:45:51,682 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:45:51,683 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:45:51,684 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:45:51,685 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:46:26,826 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:46:26,828 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:46:26,829 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:46:26,830 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:46:26,831 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:46:59,428 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:46:59,430 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:46:59,430 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:46:59,431 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:46:59,432 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:47:55,008 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:47:55,009 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:47:55,010 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:47:55,011 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:47:55,012 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:48:31,500 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:48:31,502 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:48:31,503 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:48:31,503 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:48:31,504 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:48:54,650 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:48:54,651 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:48:54,653 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:48:54,654 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:48:54,655 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:49:14,872 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:49:14,874 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:49:14,875 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:49:14,876 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:49:14,876 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:49:28,442 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:49:28,444 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:49:28,445 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:49:28,446 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:49:28,446 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:50:07,942 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:50:07,943 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:50:07,944 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:50:07,945 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:50:07,946 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:50:18,118 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:50:18,120 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:50:18,121 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:50:18,121 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:50:18,122 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:50:22,528 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:50:22,530 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:50:22,530 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:50:22,531 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:50:22,532 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:50:36,011 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:50:36,013 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:50:36,013 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:50:36,014 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:50:36,015 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:50:52,562 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting value: line 1 column 1 (char 0)
2025-04-21 15:50:52,567 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: Given the provided text is just a table header ("| Definition and exhibit reference |") without any substantive content, there are no entities, relationships, or meaningful metadata to extract.  

### Output:  
```json
{
  "entity_relationship_list": [],
  "metadata": {
    "summary": "The provided text consists only of a table header with no substantive content to analyze.",
    "red_flags": null
  }
}
2025-04-21 15:50:52,569 - src.utils.openrouter_manager - ERROR - Original raw string: Given the provided text is just a table header ("| Definition and exhibit reference |") without any substantive content, there are no entities, relationships, or meaningful metadata to extract.  

### Output:  
```json
{
  "entity_relationship_list": [],
  "metadata": {
    "summary": "The provided text consists only of a table header with no substantive content to analyze.",
    "red_flags": null
  }
}
```
2025-04-21 15:50:52,570 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 42ab6638-bad3-443b-a904-1ea6b381d3dc: Model returned invalid JSON content: Expecting value: line 1 column 1 (char 0)
2025-04-21 15:50:52,571 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:50:52,572 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:50:52,573 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:50:52,574 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:50:56,971 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:50:56,973 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:50:56,974 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:50:56,975 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:50:56,976 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:51:05,673 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:51:05,675 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:51:05,676 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:51:05,676 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:51:05,677 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:51:17,588 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:51:17,590 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:51:17,591 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:51:17,591 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:51:17,592 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:51:27,651 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:51:27,652 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:51:27,653 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:51:27,653 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:51:27,654 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:51:33,894 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:51:33,895 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:51:33,896 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:51:33,897 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:51:33,898 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:51:46,373 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:51:46,375 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:51:46,376 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:51:46,376 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:51:46,377 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:51:57,136 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:51:57,137 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:51:57,138 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:51:57,139 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:51:57,140 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:52:01,587 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:52:01,588 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:52:01,589 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:52:01,590 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:52:01,591 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:52:13,987 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:52:13,989 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:52:13,990 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:52:13,990 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:52:13,991 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:52:23,365 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:52:23,366 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:52:23,367 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:52:23,368 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:52:23,369 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:52:26,814 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:52:26,815 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:52:26,816 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:52:26,817 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:52:26,818 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:52:34,366 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:52:34,367 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:52:34,368 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:52:34,369 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:52:34,370 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:52:59,968 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:52:59,969 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:52:59,970 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:52:59,971 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:52:59,971 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:53:32,432 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:53:32,434 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:53:32,435 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:53:32,436 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:53:32,436 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:54:12,159 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:54:12,160 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:54:12,161 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:54:12,162 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:54:12,163 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:54:29,076 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:54:29,078 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:54:29,079 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:54:29,079 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:54:29,080 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:56:08,336 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting value: line 1 column 1 (char 0)
2025-04-21 15:56:08,337 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: Here is the structured extraction and metadata augmentation for the provided text:

```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Bashirov",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "KB Group of Companies",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Bashirov",
      "relationship_type": "OWNS",
      "relationship_description": "Controls a group structure including 73 companies",
      "to_entity_name": "KB Group of Companies",
      "to_entity_type": "COMMERCIAL_COMPANY"
    }
  ],
  "metadata": {
    "summary": "The document outlines the corporate structure of a commercial group, detailing its extensive network of subsidiaries across multiple jurisdictions. It involves a person who controls the group, which comprises numerous companies. The text suggests a complex organizational setup with potential implications for financial transparency and regulatory oversight.",
    "red_flags": "Red flags: Complex corporate structure spanning 17 jurisdictions, which may obscure ownership and financial flows."
  }
}
``` 

### Explanation:
1. **Entities & Relationships**:
   - Extracted "Mr Bashirov" (PERSON) and "KB Group of Companies" (COMMERCIAL_COMPANY) as standalone entities.
   - Added a relationship where "Mr Bashirov" owns/controls the "KB Group of Companies" with context about the 73 subsidiaries.

2. **Metadata**:
   - **Summary**: Abstracted the key themes (corporate structure, multi-jurisdictional presence) without repeating specific names.
   - **Red Flags**: Highlighted the complexity of the group's structure as a potential risk for opacity.

Note: The text cuts off mid-sentence ("It should be correct"), so no further meaningful extraction was possible.
2025-04-21 15:56:08,342 - src.utils.openrouter_manager - ERROR - Original raw string: Here is the structured extraction and metadata augmentation for the provided text:

```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Bashirov",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "KB Group of Companies",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Bashirov",
      "relationship_type": "OWNS",
      "relationship_description": "Controls a group structure including 73 companies",
      "to_entity_name": "KB Group of Companies",
      "to_entity_type": "COMMERCIAL_COMPANY"
    }
  ],
  "metadata": {
    "summary": "The document outlines the corporate structure of a commercial group, detailing its extensive network of subsidiaries across multiple jurisdictions. It involves a person who controls the group, which comprises numerous companies. The text suggests a complex organizational setup with potential implications for financial transparency and regulatory oversight.",
    "red_flags": "Red flags: Complex corporate structure spanning 17 jurisdictions, which may obscure ownership and financial flows."
  }
}
``` 

### Explanation:
1. **Entities & Relationships**:
   - Extracted "Mr Bashirov" (PERSON) and "KB Group of Companies" (COMMERCIAL_COMPANY) as standalone entities.
   - Added a relationship where "Mr Bashirov" owns/controls the "KB Group of Companies" with context about the 73 subsidiaries.

2. **Metadata**:
   - **Summary**: Abstracted the key themes (corporate structure, multi-jurisdictional presence) without repeating specific names.
   - **Red Flags**: Highlighted the complexity of the group's structure as a potential risk for opacity.

Note: The text cuts off mid-sentence ("It should be correct"), so no further meaningful extraction was possible.
2025-04-21 15:56:08,346 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 62d20d5f-3b62-4fa1-8615-48e9414451fa: Model returned invalid JSON content: Expecting value: line 1 column 1 (char 0)
2025-04-21 15:56:08,347 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:56:08,348 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:56:08,349 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:56:08,350 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:56:22,617 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:56:22,618 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:56:22,619 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:56:22,620 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:56:22,621 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:57:20,155 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:57:20,157 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:57:20,158 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:57:20,158 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:57:20,159 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 15:59:47,287 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 15:59:47,288 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 15:59:47,289 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 15:59:47,290 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 15:59:47,291 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:00:56,385 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:00:56,386 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:00:56,387 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:00:56,388 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:00:56,389 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:05:30,262 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:05:30,264 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:05:30,265 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:05:30,266 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:05:30,267 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:05:41,187 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:05:41,188 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:05:41,189 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:05:41,190 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:05:41,191 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:06:05,859 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:06:05,860 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:06:05,867 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:06:05,867 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:06:05,868 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:06:13,189 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:06:13,191 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:06:13,191 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:06:13,192 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:06:13,193 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:08:14,119 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:08:14,121 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:08:14,122 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:08:14,122 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:08:14,123 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:10:13,339 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:10:13,341 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:10:13,346 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:10:13,347 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:10:13,348 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:10:58,287 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:10:58,288 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:10:58,289 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:10:58,290 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:10:58,291 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:11:01,439 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:11:01,441 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:11:01,441 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:11:01,442 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:11:01,443 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:11:26,430 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:11:26,432 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:11:26,433 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:11:26,434 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:11:26,434 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:12:00,810 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:12:00,812 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:12:00,812 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:12:00,813 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:12:00,814 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:12:04,918 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:12:04,920 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:12:04,920 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:12:04,921 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:12:04,922 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:12:55,863 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:12:55,865 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:12:55,866 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:12:55,867 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:12:55,867 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:13:54,982 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:13:54,984 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:13:54,984 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:13:54,985 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:13:54,986 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:14:47,982 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:14:47,984 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:14:47,984 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:14:47,985 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:14:47,986 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:15:45,740 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting value: line 98 column 5 (char 3323)
2025-04-21 16:15:45,741 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "VneshExpertService Consulting Company",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "VES Consultancy LLC",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "VneshExpertService Consulting Company Inc",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Bashirov",
      "relationship_type": "OWNS",
      "relationship_description": "Beneficial owner of VES Consultancy LLC and VneshExpertService Consulting Company Inc",
      "to_entity_name": "VES Consultancy LLC",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Bashirov",
      "relationship_type": "OWNS",
      "relationship_description": "Beneficial owner of VES Consultancy LLC and VneshExpertService Consulting Company Inc",
      "to_entity_name": "VneshExpertService Consulting Company Inc",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Hajiyev",
      "relationship_type": "OWNS",
      "relationship_description": "Claimed owner of VES Consultancy LLC",
      "to_entity_name": "VES Consultancy LLC",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "VES Consultancy LLC",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Used to move funds for the IBA and the Hajiyev family",
      "to_entity_name": "IBA",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "VneshExpertService Consulting Company Inc",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Used to move funds for the IBA and the Hajiyev family",
      "to_entity_name": "IBA",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Azerbaijan",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "BVI",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Russia",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Cyprus",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type":
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Latvia",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Luxembourg",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Switzerland",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Estonia",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Danske Bank Estonia",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "MONEY",
      "from_entity_name": "USD 285 million",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "MONEY",
      "from_entity_name": "EUR 150 million",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "The text discusses allegations of large-scale money laundering involving a consulting company and its various entities, controlled by a specific individual. It mentions the movement of significant funds through multiple international bank accounts, with discrepancies between the stated activities and the actual volume of transactions. The narrative involves commercial companies, individuals, and multiple international locations, suggesting complex financial operations.",
    "red_flags": "Red flags: Large-scale money laundering, discrepancies between stated and actual financial activities, use of offshore accounts, and significant fund movements across multiple countries."
  }
}
2025-04-21 16:15:45,765 - src.utils.openrouter_manager - ERROR - Original raw string: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "VneshExpertService Consulting Company",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "VES Consultancy LLC",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "VneshExpertService Consulting Company Inc",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Bashirov",
      "relationship_type": "OWNS",
      "relationship_description": "Beneficial owner of VES Consultancy LLC and VneshExpertService Consulting Company Inc",
      "to_entity_name": "VES Consultancy LLC",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Bashirov",
      "relationship_type": "OWNS",
      "relationship_description": "Beneficial owner of VES Consultancy LLC and VneshExpertService Consulting Company Inc",
      "to_entity_name": "VneshExpertService Consulting Company Inc",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Hajiyev",
      "relationship_type": "OWNS",
      "relationship_description": "Claimed owner of VES Consultancy LLC",
      "to_entity_name": "VES Consultancy LLC",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "VES Consultancy LLC",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Used to move funds for the IBA and the Hajiyev family",
      "to_entity_name": "IBA",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "VneshExpertService Consulting Company Inc",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Used to move funds for the IBA and the Hajiyev family",
      "to_entity_name": "IBA",
      "to_entity_type": "COMMERCIAL_COMPANY"
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Azerbaijan",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "BVI",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Russia",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Cyprus",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type":
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Latvia",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Luxembourg",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Switzerland",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "Estonia",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "Danske Bank Estonia",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "MONEY",
      "from_entity_name": "USD 285 million",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "MONEY",
      "from_entity_name": "EUR 150 million",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    }
  ],
  "metadata": {
    "summary": "The text discusses allegations of large-scale money laundering involving a consulting company and its various entities, controlled by a specific individual. It mentions the movement of significant funds through multiple international bank accounts, with discrepancies between the stated activities and the actual volume of transactions. The narrative involves commercial companies, individuals, and multiple international locations, suggesting complex financial operations.",
    "red_flags": "Red flags: Large-scale money laundering, discrepancies between stated and actual financial activities, use of offshore accounts, and significant fund movements across multiple countries."
  }
}
```
2025-04-21 16:15:45,777 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 1cbe76dd-5ae3-4697-ac06-22abe51754d4: Model returned invalid JSON content: Expecting value: line 98 column 5 (char 3323)
2025-04-21 16:15:45,779 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:15:45,780 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:15:45,781 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:15:45,781 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:16:56,214 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:16:56,216 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:16:56,217 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:16:56,218 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:16:56,219 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:17:04,253 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:17:04,254 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:17:04,255 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:17:04,256 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:17:04,258 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:17:48,949 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:17:48,950 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:17:48,951 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:17:48,952 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:17:48,952 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:18:15,480 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:18:15,482 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:18:15,483 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:18:15,483 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:18:15,484 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:18:35,497 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:18:35,499 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:18:35,500 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:18:35,500 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:18:35,501 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:19:00,624 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:19:00,625 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:19:00,626 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:19:00,627 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:19:00,628 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:19:14,778 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:19:14,779 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:19:14,780 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:19:14,781 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:19:14,782 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:19:44,426 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:19:44,428 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:19:44,429 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:19:44,430 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:19:44,430 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:20:17,052 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:20:17,054 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:20:17,055 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:20:17,056 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:20:17,056 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:20:25,693 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:20:25,694 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:20:25,695 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:20:25,696 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:20:25,697 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:20:38,102 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:20:38,104 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:20:38,105 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:20:38,106 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:20:38,107 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:23:58,092 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:23:58,096 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:23:58,098 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:23:58,099 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:23:58,100 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:24:57,242 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:24:57,243 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:24:57,244 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:24:57,245 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:24:57,246 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:25:25,690 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:25:25,692 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:25:25,694 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:25:25,694 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:25:25,695 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:25:47,873 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:25:47,875 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:25:47,876 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:25:47,877 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:25:47,878 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:27:09,658 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:27:09,660 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:27:09,661 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:27:09,662 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:27:09,663 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:27:15,068 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:27:15,069 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:27:15,075 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:27:15,076 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:27:15,077 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:27:33,116 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:27:33,117 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:27:33,119 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:27:33,120 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:27:33,121 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:27:55,149 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:27:55,151 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:27:55,152 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:27:55,153 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:27:55,154 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:29:18,199 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:29:18,200 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:29:18,201 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:29:18,202 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:29:18,203 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:29:36,296 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:29:36,297 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:29:36,298 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:29:36,299 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:29:36,300 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:30:05,622 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:30:05,623 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:30:05,624 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:30:05,625 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:30:05,626 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:30:48,553 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:30:48,555 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:30:48,556 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:30:48,556 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:30:48,557 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:32:45,179 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:32:45,181 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:32:45,182 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:32:45,183 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:32:45,184 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:33:01,749 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:33:01,751 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:33:01,752 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:33:01,753 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:33:01,754 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:34:04,964 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:34:04,966 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:34:04,967 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:34:04,968 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:34:04,969 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:34:25,046 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:34:25,048 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:34:25,048 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:34:25,049 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:34:25,050 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:35:32,427 - src.utils.openrouter_manager - ERROR - Failed to parse JSON response from OpenRouter (even after cleaning): Expecting ',' delimiter: line 87 column 3 (char 3031)
2025-04-21 16:35:32,429 - src.utils.openrouter_manager - ERROR - Cleaned JSON string that failed: {
  "entity_relationship_list": [
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "IBA",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "VES BVI Account",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Hajiyev",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "NCA",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "IBA-Moscow",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "UK companies",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "UK-based accountant",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "IBA",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Funds embezzled from",
      "to_entity_name": "VES BVI Account",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "UK companies",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Received funds from",
      "to_entity_name": "IBA-Moscow",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "UK companies",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Transferred funds to",
      "to_entity_name": "VES BVI Account",
      "to_entity_type": "LOCATION"
    }
  ],
  "metadata": {
    "summary": "The text discusses financial transactions involving embezzlement of funds from a government body, with details of credits received into an offshore account. It mentions a person involved in alleged unlawful conduct and references loan agreements and promissory note transactions. A government agency was unable to obtain full banking records, but some transactions were traced through UK companies and a UK-based accountant.",
    "red_flags": "Red flags: Embezzlement of funds, suspicious offshore transactions, and incomplete financial records."
 }
2025-04-21 16:35:32,438 - src.utils.openrouter_manager - ERROR - Original raw string: ```json
{
  "entity_relationship_list": [
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "IBA",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "VES BVI Account",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "Mr Hajiyev",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "NCA",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "LOCATION",
      "from_entity_name": "IBA-Moscow",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "UK companies",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "PERSON",
      "from_entity_name": "UK-based accountant",
      "relationship_type": null,
      "relationship_description": null,
      "to_entity_name": null,
      "to_entity_type": null
    },
    {
      "from_entity_type": "GOVERNMENT_BODY",
      "from_entity_name": "IBA",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Funds embezzled from",
      "to_entity_name": "VES BVI Account",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "UK companies",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Received funds from",
      "to_entity_name": "IBA-Moscow",
      "to_entity_type": "LOCATION"
    },
    {
      "from_entity_type": "COMMERCIAL_COMPANY",
      "from_entity_name": "UK companies",
      "relationship_type": "CONNECTED_TO",
      "relationship_description": "Transferred funds to",
      "to_entity_name": "VES BVI Account",
      "to_entity_type": "LOCATION"
    }
  ],
  "metadata": {
    "summary": "The text discusses financial transactions involving embezzlement of funds from a government body, with details of credits received into an offshore account. It mentions a person involved in alleged unlawful conduct and references loan agreements and promissory note transactions. A government agency was unable to obtain full banking records, but some transactions were traced through UK companies and a UK-based accountant.",
    "red_flags": "Red flags: Embezzlement of funds, suspicious offshore transactions, and incomplete financial records."
 }
```
2025-04-21 16:35:32,445 - src.core.extraction.entity_extractor - WARNING - extract_structured failed for chunk 365faf3e-67e0-4803-b81e-53c84f55e310: Model returned invalid JSON content: Expecting ',' delimiter: line 87 column 3 (char 3031)
2025-04-21 16:35:32,447 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:35:32,448 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:35:32,449 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:35:32,450 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:35:45,884 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:35:45,885 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:35:45,887 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:35:45,888 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:35:45,889 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:36:28,308 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:36:28,309 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:36:28,310 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:36:28,311 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:36:28,312 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:36:42,805 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:36:42,806 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:36:42,807 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:36:42,808 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:36:42,809 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:36:59,141 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:36:59,143 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:36:59,143 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:36:59,144 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:36:59,145 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:37:18,403 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:37:18,405 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:37:18,406 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:37:18,407 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:37:18,407 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:37:49,654 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:37:49,656 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:37:49,657 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:37:49,658 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:37:49,658 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:38:08,371 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:38:08,373 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:38:08,374 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:38:08,375 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:38:08,377 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:38:30,137 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:38:30,138 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:38:30,139 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:38:30,140 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:38:30,141 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:38:44,828 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:38:44,830 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:38:44,831 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:38:44,832 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:38:44,833 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:39:08,520 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:39:08,522 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:39:08,523 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:39:08,524 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:39:08,525 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:39:47,881 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:39:47,883 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:39:47,884 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:39:47,885 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:39:47,886 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:40:39,918 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:40:39,921 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:40:39,924 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:40:39,925 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:40:39,926 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:41:20,868 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:41:20,869 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:41:20,870 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:41:20,871 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:41:20,872 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:42:13,615 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:42:13,617 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:42:13,618 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:42:13,619 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:42:13,620 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:42:40,297 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:42:40,299 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:42:40,299 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:42:40,300 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:42:40,301 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:42:53,641 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:42:53,643 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:42:53,644 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:42:53,645 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:42:53,646 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:43:59,590 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:43:59,591 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:43:59,592 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:43:59,593 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:43:59,594 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:44:38,106 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:44:38,108 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:44:38,109 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:44:38,110 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:44:38,112 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:45:36,786 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:45:36,788 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:45:36,789 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:45:36,791 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:45:36,792 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:45:57,775 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:45:57,776 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:45:57,777 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:45:57,778 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:45:57,779 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:46:52,324 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:46:52,326 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:46:52,327 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:46:52,328 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:46:52,328 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:47:29,193 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:47:29,195 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:47:29,196 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:47:29,197 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:47:29,197 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:48:31,785 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:48:31,789 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:48:31,791 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:48:31,793 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:48:31,795 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:48:48,987 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:48:48,990 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:48:48,991 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:48:48,992 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:48:48,992 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:49:12,164 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:49:12,165 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:49:12,166 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:49:12,167 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:49:12,168 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:49:33,747 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:49:33,748 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:49:33,749 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:49:33,750 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:49:33,751 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:49:37,865 - src.utils.openrouter_manager - INFO - Successfully parsed structured JSON response (including nested).
2025-04-21 16:49:37,867 - src.utils.openrouter_manager - INFO - Entering extract_structured for task: extraction
2025-04-21 16:49:37,868 - src.utils.openrouter_manager - INFO - Using max_tokens for output: 5024
2025-04-21 16:49:37,868 - src.utils.openrouter_manager - INFO - JSON Schema mode requested with strict=False
2025-04-21 16:49:37,869 - src.utils.openrouter_manager - INFO - Extracting structured data with OpenRouter model: deepseek/deepseek-chat-v3-0324
2025-04-21 16:55:32,736 - app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 16:55:32,737 - app_setup - INFO - Configuration loaded successfully.
2025-04-21 16:55:32,737 - app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 16:55:32,737 - app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 16:55:32,749 - src.utils.openrouter_manager - ERROR - Could not import standard logger/models: No module named 'src.core.models'. Using basic logging. Ensure models are importable from src.core.models.
2025-04-21 16:55:33,647 - src.utils.openrouter_manager - WARNING - Google Generative AI library not found (pip install google-generativeai). Google Gemini functionality will be disabled if selected.
2025-04-21 16:55:33,659 - src.utils.openrouter_manager - INFO - Configuration loaded successfully from /home/t/lm_rag/config.yaml
2025-04-21 16:55:33,660 - app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 16:55:40,700 - app_setup - INFO - OpenRouter backend active for chat.
2025-04-21 16:55:43,047 - src.ui.app_setup - INFO - Project Root Directory set to: /home/t/lm_rag
2025-04-21 16:55:43,048 - src.ui.app_setup - INFO - Configuration loaded successfully.
2025-04-21 16:55:43,049 - src.ui.app_setup - INFO - Selected LLM Backend: OPENROUTER
2025-04-21 16:55:43,050 - src.ui.app_setup - INFO - OpenRouter backend selected, Aphrodite service modules not imported.
2025-04-21 16:55:43,050 - src.ui.app_setup - INFO - OpenRouterManager module imported (backend is OpenRouter).
2025-04-21 16:55:43,336 - app_setup - INFO - Imported OpenRouter chat handler.
2025-04-21 16:55:50,760 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 16:55:50,762 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 16:55:50,763 - src.utils.openrouter_manager - INFO - Initializing LLM API Manager...
2025-04-21 16:55:50,764 - src.utils.openrouter_manager - INFO - Extraction provider configured: openrouter
2025-04-21 16:55:50,765 - src.utils.openrouter_manager - WARNING - OpenRouter API key missing. OpenRouter client not initialized.
2025-04-21 16:55:50,766 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 16:55:50,767 - app_setup - ERROR - Failed to initialize OpenRouterManager: 'OpenRouterManager' object has no attribute 'client'
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app_setup.py", line 127, in initialize_active_llm_manager
    if not manager.client: # Check if client initialization failed
           ^^^^^^^^^^^^^^
AttributeError: 'OpenRouterManager' object has no attribute 'client'
2025-04-21 16:55:50,776 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 16:55:50,778 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 16:55:50,779 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 16:55:50,787 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 16:55:50,791 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 16:55:50,792 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 16:55:50,793 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 16:55:50,794 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 16:55:50,795 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 16:55:50,797 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 16:55:50,798 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.35 GB, VMS: 37.63 GB
2025-04-21 16:55:50,892 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 16:55:50,894 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-exp-03-25:free)
2025-04-21 16:55:51,032 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 16:55:51,034 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 16:55:57,011 - app_setup - INFO - Skipping multiprocessing start method check (Aphrodite service not available).
2025-04-21 16:55:57,013 - app_setup - INFO - Initializing OpenRouterManager...
2025-04-21 16:55:57,014 - src.utils.openrouter_manager - INFO - Initializing LLM API Manager...
2025-04-21 16:55:57,014 - src.utils.openrouter_manager - INFO - Extraction provider configured: openrouter
2025-04-21 16:55:57,015 - src.utils.openrouter_manager - WARNING - OpenRouter API key missing. OpenRouter client not initialized.
2025-04-21 16:55:57,016 - src.utils.openrouter_manager - INFO - Default max_tokens set to: 5024
2025-04-21 16:55:57,016 - app_setup - ERROR - Failed to initialize OpenRouterManager: 'OpenRouterManager' object has no attribute 'client'
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app_setup.py", line 127, in initialize_active_llm_manager
    if not manager.client: # Check if client initialization failed
           ^^^^^^^^^^^^^^
AttributeError: 'OpenRouterManager' object has no attribute 'client'
2025-04-21 16:55:57,019 - app_setup - INFO - Initializing ConversationStore...
2025-04-21 16:55:57,021 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-21 16:55:57,021 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-21 16:55:57,024 - src.utils.conversation_store - INFO - Successfully loaded 14 conversations into memory.
2025-04-21 16:55:57,025 - app_setup - INFO - Creating new QueryEngine instance.
2025-04-21 16:55:57,026 - src.core.query_system.query_engine - INFO - Initializing QueryEngine...
2025-04-21 16:55:57,027 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-21 16:55:57,028 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3 (Enabled: True)
2025-04-21 16:55:57,028 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-21 16:55:57,030 - src.core.query_system.query_engine - INFO -   - Fusion Weights (Vec/BM25_or_Sparse): 0.7/0.3
2025-04-21 16:55:57,031 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 16:55:57,032 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-21 16:55:57,033 - app_setup - INFO - QueryEngine created, using OpenRouter backend (Chat Model: google/gemini-2.5-pro-exp-03-25:free)
2025-04-21 16:55:57,096 - app_setup - INFO - Process memory - RSS: 1.37 GB, VMS: 37.65 GB
2025-04-21 16:55:57,097 - app_setup - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
