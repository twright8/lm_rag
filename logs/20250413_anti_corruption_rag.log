2025-04-13 12:29:19,944 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 12:29:19,983 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 12:29:19,986 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 12:29:19,987 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 12:29:19,995 - src.utils.conversation_store - INFO - Successfully loaded 12 conversations into memory.
2025-04-13 12:29:19,997 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 12:29:19,998 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 12:29:19,999 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 12:29:20,000 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 12:29:20,001 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 12:29:20,001 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 12:29:20,002 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 12:29:20,003 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 12:29:20,004 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.33 GB, VMS: 37.55 GB
2025-04-13 12:29:20,140 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 12:29:20,141 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 12:29:20,735 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 12:29:20,738 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 12:29:57,527 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 12:29:57,851 - src.core.query_system.query_engine - INFO - No points found matching filter: text='None', doc='None'
2025-04-13 12:29:57,852 - __main__ - WARNING - No document names found in retrieved chunks metadata.
2025-04-13 12:29:57,940 - src.core.query_system.query_engine - INFO - No points found matching filter: text='None', doc='None'
2025-04-13 12:29:57,991 - __main__ - INFO - Loading relationships and entities from disk...
2025-04-13 12:29:58,006 - __main__ - INFO - Loaded 1356 entities and 1203 relationships.
2025-04-13 12:29:58,631 - __main__ - INFO - Building NetworkX multi-graphs for analysis...
2025-04-13 12:29:58,636 - __main__ - INFO - Created entity lookup with 1356 valid entities.
2025-04-13 12:29:58,657 - __main__ - INFO - Analysis multi-graphs built: Directed (1356 nodes, 1203 edges), Undirected (1356 nodes, 1203 edges). Skipped 0 edges.
2025-04-13 12:29:58,719 - __main__ - WARNING - Eigenvector prep error: `eigenvector_centrality_numpy` does not give consistent results for disconnected graphs. Assigning 0.
2025-04-13 12:30:02,471 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 12:30:05,294 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 12:30:19,792 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 12:30:21,436 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 12:30:21,499 - __main__ - INFO - Storing selected LLM for session: Qwen/Qwen2.5-7B-Instruct
2025-04-13 12:30:21,501 - __main__ - INFO - Starting document processing for 1 files
2025-04-13 12:30:21,503 - __main__ - INFO - Starting document processing with spreadsheet options. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']
2025-04-13 12:30:21,505 - __main__ - INFO - Starting Aphrodite service for document processing
2025-04-13 12:30:35,982 - __main__ - INFO - Aphrodite service started successfully
2025-04-13 12:30:35,983 - __main__ - INFO - Saved Aphrodite process info: PID=17789
2025-04-13 12:30:35,984 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-13 12:30:35,985 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-13 12:30:36,013 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-13 12:30:36,017 - __main__ - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 12:30:36,019 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-13 12:30:36,020 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 12:30:36,021 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-13 12:32:59,395 - src.core.document_processing.document_loader - INFO - Exporting Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf content to Markdown...
2025-04-13 12:33:28,848 - src.core.document_processing.document_loader - INFO - Docling processing successful for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf. Word count: 94174, Page count: 246
2025-04-13 12:33:29,036 - __main__ - INFO - Document loaded: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf, Content items: 1
2025-04-13 12:33:29,038 - __main__ - INFO - All documents loaded. Shutting down document loader (Docling) to free resources...
2025-04-13 12:33:29,039 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-13 12:33:29,041 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.81 GB, VMS: 40.97 GB
2025-04-13 12:33:29,042 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-13 12:33:29,043 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-13 12:33:29,047 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-13 12:33:29,049 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-13 12:33:29,602 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-13 12:33:29,603 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-13 12:33:29,628 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-13 12:33:29,629 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-13 12:33:29,630 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.77 GB, VMS: 40.93 GB
2025-04-13 12:33:29,632 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 12:33:29,632 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-13 12:33:30,064 - __main__ - INFO - Document loader shut down complete.
2025-04-13 12:33:30,065 - __main__ - INFO - Process memory - RSS: 2.77 GB, VMS: 40.93 GB
2025-04-13 12:33:30,066 - __main__ - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 12:33:30,068 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-13 12:33:30,069 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-13 12:33:30,070 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.77 GB, VMS: 40.93 GB
2025-04-13 12:33:30,072 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 12:33:30,073 - __main__ - INFO - Loading chunking model...
2025-04-13 12:33:30,074 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 12:33:30,075 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-13 12:33:30,076 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-13 12:33:30,077 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-13 12:33:30,078 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-13 12:33:34,689 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-13 12:33:34,690 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.61 seconds
2025-04-13 12:33:34,691 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.91 GB, VMS: 42.20 GB
2025-04-13 12:33:34,692 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 12:33:34,693 - __main__ - INFO - Chunking document 1/1: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 12:33:34,694 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (ID: a9747982-e3e3-4c09-bb1d-1b40a9166dc8, Type: .pdf)
2025-04-13 12:33:34,695 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf.
2025-04-13 12:33:34,696 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 608866 chars) using Markdown Header + Semantic chunking.
2025-04-13 12:33:34,716 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 244 initial structural chunks.
2025-04-13 12:33:40,511 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 502 potential chunks.
2025-04-13 12:33:40,513 - src.core.document_processing.document_chunker - WARNING - Chunk (length 8299) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 12:33:40,514 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 12:33:40,515 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6564) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 12:33:40,516 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 12:33:40,517 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6017) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 12:33:40,519 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 12:33:40,520 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5972) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 12:33:40,521 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 12:33:40,522 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7518) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 12:33:40,523 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 21 basic chunks.
2025-04-13 12:33:40,524 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7098) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 12:33:40,525 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 12:33:40,526 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7084) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 12:33:40,527 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 19 basic chunks.
2025-04-13 12:33:40,528 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5166) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 12:33:40,531 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 15 basic chunks.
2025-04-13 12:33:40,532 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5469) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 12:33:40,533 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 14 basic chunks.
2025-04-13 12:33:40,534 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5139) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 12:33:40,535 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 13 basic chunks.
2025-04-13 12:33:40,536 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 10 oversized chunks.
2025-04-13 12:33:40,537 - src.core.document_processing.document_chunker - INFO - Final processing created 672 chunks from text of length 608866.
2025-04-13 12:33:40,541 - src.core.document_processing.document_chunker - INFO - Chunking for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf completed in 5.85s.
2025-04-13 12:33:40,542 - src.core.document_processing.document_chunker - INFO - Created 672 total chunks: 0 spreadsheet rows, 492 semantic chunks, 0 sentence fallback chunks, 180 basic fallback chunks.
2025-04-13 12:33:40,543 - src.core.document_processing.document_chunker - INFO - Average chunk size: 881.6 characters.
2025-04-13 12:33:40,544 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.90 GB, VMS: 42.19 GB
2025-04-13 12:33:40,545 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.97 GB, Total: 8.00 GB
2025-04-13 12:33:40,546 - __main__ - INFO - Created 672 chunks for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 12:33:40,547 - __main__ - INFO - Shutting down chunking model...
2025-04-13 12:33:40,548 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 12:33:40,549 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-13 12:33:40,549 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-13 12:33:40,550 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-13 12:33:40,557 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-13 12:33:41,180 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-13 12:33:41,183 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.90 GB, VMS: 42.19 GB
2025-04-13 12:33:41,184 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 12:33:41,185 - __main__ - INFO - Total chunks generated: 672
2025-04-13 12:33:41,186 - __main__ - INFO - Creating entity extractor with model Qwen/Qwen2.5-7B-Instruct
2025-04-13 12:33:41,187 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with model=Qwen/Qwen2.5-7B-Instruct, debug=True, using advanced deduplication.
2025-04-13 12:33:41,188 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.90 GB, VMS: 42.19 GB
2025-04-13 12:33:41,189 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 12:33:41,191 - __main__ - INFO - Starting entity extraction on 672 chunks (0 visual chunks)
2025-04-13 12:33:41,192 - src.core.extraction.entity_extractor - INFO - Adding 672 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-13 12:33:41,193 - src.core.extraction.entity_extractor - INFO - Added 672 chunks to queue. Processing now.
2025-04-13 12:33:41,194 - src.core.extraction.entity_extractor - INFO - Processing all 672 chunks...
2025-04-13 12:33:41,195 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.90 GB, VMS: 42.19 GB
2025-04-13 12:33:41,196 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 12:33:41,199 - src.core.extraction.entity_extractor - INFO - Loading designated extraction model: Qwen/Qwen2.5-7B-Instruct
2025-04-13 12:37:47,696 - src.core.extraction.entity_extractor - INFO - Model Qwen/Qwen2.5-7B-Instruct loaded successfully for extraction.
2025-04-13 12:37:47,699 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks (0 spreadsheet rows)
2025-04-13 12:37:47,701 - src.core.extraction.entity_extractor - INFO - Processing in 1 batches of size 1024
2025-04-13 12:37:47,702 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (672 chunks)
2025-04-13 12:37:47,713 - src.core.extraction.entity_extractor - INFO - Sending batch of 672 prompts to service
2025-04-13 13:16:19,743 - src.core.extraction.entity_extractor - INFO - Received response from service
2025-04-13 13:16:19,781 - src.core.extraction.entity_extractor - INFO - Service request/response took 2312.07s
2025-04-13 13:16:19,853 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d1979ce9-0aa9-4bb0-bdf3-2e6dc4dde9b1: from_entity_type='LOCATION' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='UK' to_entity_type='LOCATION'
2025-04-13 13:16:19,858 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d1979ce9-0aa9-4bb0-bdf3-2e6dc4dde9b1: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='indefinite leave to remain' to_entity_type='ASSET'
2025-04-13 13:16:19,860 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d1979ce9-0aa9-4bb0-bdf3-2e6dc4dde9b1: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='June 2015' to_entity_type='ASSET'
2025-04-13 13:16:19,865 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 05ac3b01-35bf-482e-8086-1295fe0dd353: Unterminated string starting at: line 1 column 7120 (char 7119). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 13:16:19,871 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 03e567b7-3cda-4a85-a75d-dbf7244bc53f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:19,874 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 03e567b7-3cda-4a85-a75d-dbf7244bc53f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='judge' to_entity_type='POSITION'
2025-04-13 13:16:19,877 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 03e567b7-3cda-4a85-a75d-dbf7244bc53f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='PFO' to_entity_type='ASSET'
2025-04-13 13:16:19,878 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 03e567b7-3cda-4a85-a75d-dbf7244bc53f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Disclosure Order' to_entity_type='ASSET'
2025-04-13 13:16:19,879 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 03e567b7-3cda-4a85-a75d-dbf7244bc53f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='financial institutions, law firms and other relevant third parties' to_entity_type='LOCATION'
2025-04-13 13:16:19,884 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk a9453d31-c00c-41a4-9489-2ac4ae5ea4c3: Unterminated string starting at: line 1 column 8084 (char 8083). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 13:16:19,888 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk eb51709a-5f50-48a4-b775-dc6baf7ce49a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:19,902 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk eb51709a-5f50-48a4-b775-dc6baf7ce49a: from_entity_type='ASSET' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:19,904 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk eee711f5-8f78-4595-bd93-79c630173c33: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='LOCATED_IN' relationship_description='Used to hold bank accounts' to_entity_name='a number of jurisdictions' to_entity_type='LOCATION'
2025-04-13 13:16:19,910 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 39f92aa0-0e16-430e-952b-468d827dfb09: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:19,914 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a52e5e3b-c975-4c81-849d-181bb0330112: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='income' to_entity_type='ASSET'
2025-04-13 13:16:19,917 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 64e6fb26-bf21-432d-b14f-1476c32a5ed3: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='the KB Companies presentation' to_entity_type='ASSET'
2025-04-13 13:16:19,922 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 0dec53d1-fcc8-430a-a9df-577d2c7afd7f: Unterminated string starting at: line 1 column 7502 (char 7501). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 13:16:19,928 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 02918e5e-4b77-4985-a954-bfaa243f56ae: Expecting value: line 1 column 7360 (char 7359). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "My clients", "r...'
2025-04-13 13:16:19,931 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 618650e1-3632-403b-ae99-b6883797bfb6: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Azerbaijan' to_entity_type='LOCATION'
2025-04-13 13:16:19,935 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 9ed997d6-30c5-4683-b08b-e6188d9a05d3: Unterminated string starting at: line 1 column 8137 (char 8136). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 13:16:19,936 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9361b44f-9a68-422f-9c1b-f03c97be548f: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:19,938 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9361b44f-9a68-422f-9c1b-f03c97be548f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:19,941 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 1504a15e-1fd3-4741-bced-0d34f3ad1837: Expecting ',' delimiter: line 1 column 7736 (char 7735). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 13:16:19,943 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c62a5059-8d9f-4d03-b2fd-e25d2f126619: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:19,947 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 11f8fea3-6e5a-44dc-9fa2-2e7b24d1d88d: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='correspond to the dates and amounts of promissory notes and loan agreements' to_entity_name='promissory notes and loan agreements' to_entity_type='ASSET'
2025-04-13 13:16:19,956 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1048eca5-06ef-4c58-8240-c57b211e3ce9: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:19,963 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ea6011cd-28b7-4d7e-9c69-80f4051b78d7: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:19,965 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ea6011cd-28b7-4d7e-9c69-80f4051b78d7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:19,968 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5788f1a8-d8a3-413d-8f5e-f29b7d4233f4: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:19,971 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk ac94e9c6-73b1-4b07-9e0d-742bddef7846: Unterminated string starting at: line 1 column 8084 (char 8083). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 13:16:19,981 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 7e49ee63-b062-4f58-9278-de95635bbf94: Unterminated string starting at: line 1 column 7728 (char 7727). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "OCCRP"...'
2025-04-13 13:16:19,986 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d8059aa6-4d66-466b-a025-4b72e355da19: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OCCRP' to_entity_type='NGO'
2025-04-13 13:16:19,991 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9b8a8296-162d-472a-b8a5-0b67e0485786: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:19,996 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c2dbea16-db7b-4212-8e20-1d4390cf4a0d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:19,998 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c2dbea16-db7b-4212-8e20-1d4390cf4a0d: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,000 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0d3a5bd9-5d1c-4a6a-9f31-204330dac6d9: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,002 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0d3a5bd9-5d1c-4a6a-9f31-204330dac6d9: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,010 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 45ace787-cb78-4f88-99b3-8093dc70caf4: Unterminated string starting at: line 1 column 8193 (char 8192). Content: '{"entity_relationship_list": [{"from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "rel...'
2025-04-13 13:16:20,012 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk b90d4906-0cc9-4532-b5cd-e98eb47775b9: Expecting property name enclosed in double quotes: line 1 column 7882 (char 7881). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 6,...'
2025-04-13 13:16:20,016 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a7e3c9fd-e72b-4785-b4b4-ffd7907cf464: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='FATF' to_entity_type='GOVERNMENT_BODY'
2025-04-13 13:16:20,019 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a7e3c9fd-e72b-4785-b4b4-ffd7907cf464: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OECD' to_entity_type='GOVERNMENT_BODY'
2025-04-13 13:16:20,020 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a7e3c9fd-e72b-4785-b4b4-ffd7907cf464: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='NCA' to_entity_type='GOVERNMENT_BODY'
2025-04-13 13:16:20,021 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a7e3c9fd-e72b-4785-b4b4-ffd7907cf464: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Companies House' to_entity_type='GOVERNMENT_BODY'
2025-04-13 13:16:20,025 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 327f84d0-2310-4a38-8f8d-a5bd1a230d1b: Unterminated string starting at: line 1 column 7636 (char 7635). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "USD 5,...'
2025-04-13 13:16:20,033 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b779a392-9623-467b-b2e2-9179c07fc72a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='loan' to_entity_type='MONEY'
2025-04-13 13:16:20,038 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 03579f91-91b5-4a39-8f76-206afcc0b88c: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,043 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c564fc27-7a98-4b94-8d59-d7e0ad8db46f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,046 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e6e51b0a-855a-4480-8c4b-732d9dc4684d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,048 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bed0b8e1-8e77-49c5-9147-6f82c7e42e7d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,052 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0e2bd7f3-dfb5-443e-b387-089ce2dddf93: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='DH Leasing' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 13:16:20,055 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 899b01d8-8a9a-4163-9722-96c6fb5bd101: Unterminated string starting at: line 1 column 8160 (char 8159). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 13:16:20,057 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f91a4aed-8cbf-4c7f-b81e-3fe773d90eee: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Isle of Man' to_entity_type='LOCATION'
2025-04-13 13:16:20,063 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c868efa5-61c0-4753-a9ee-edd92efcdb42: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='IBA-Moscow' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 13:16:20,064 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c868efa5-61c0-4753-a9ee-edd92efcdb42: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='transactions' to_entity_type='ASSET'
2025-04-13 13:16:20,068 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 0561bb5a-eda5-45d3-8dc7-5725b50f9989: Expecting value: line 1 column 7655 (char 7654). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "EUR 2,...'
2025-04-13 13:16:20,070 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3edbf94f-680f-472f-873d-49cd734e4a51: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Regulated firms were required to carry out due diligence' to_entity_name='regulated firms' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 13:16:20,072 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3edbf94f-680f-472f-873d-49cd734e4a51: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Source of funds and source of wealth' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 13:16:20,073 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3edbf94f-680f-472f-873d-49cd734e4a51: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Income' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 13:16:20,075 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9ac16fe5-3995-435c-8e05-445ca9316011: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Employed' to_entity_name='Tab C1' to_entity_type='LOCATION'
2025-04-13 13:16:20,082 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5868c540-9325-43fb-b5c6-2be00bfbb538: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,086 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 0ef6e0f1-c061-481c-8caf-700c52afcdda: Expecting ',' delimiter: line 1 column 7614 (char 7613). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 13:16:20,089 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0db7382f-81e5-49e8-a5d1-4b8a5a874a5c: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,090 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 60ddbc5c-6199-4ec7-b894-528c55a5e0ff: Unterminated string starting at: line 1 column 7527 (char 7526). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 13:16:20,093 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 8b4923f8-a73b-493d-a506-c7e068b3dc80: Unterminated string starting at: line 1 column 7146 (char 7145). Content: '{ "entity_relationship_list": [ { "from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "Glo...'
2025-04-13 13:16:20,096 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 99780f1f-ccc6-4d7d-9dbf-ff0934c40a1a: from_entity_type=None from_entity_name='Tea Construction' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,099 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 99780f1f-ccc6-4d7d-9dbf-ff0934c40a1a: from_entity_type=None from_entity_name='Eroil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,101 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 99780f1f-ccc6-4d7d-9dbf-ff0934c40a1a: from_entity_type=None from_entity_name='Mea Oil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,102 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 99780f1f-ccc6-4d7d-9dbf-ff0934c40a1a: from_entity_type=None from_entity_name='TPD Trading Petrol and Drilling' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,103 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 99780f1f-ccc6-4d7d-9dbf-ff0934c40a1a: from_entity_type=None from_entity_name='Tiara' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,104 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 99780f1f-ccc6-4d7d-9dbf-ff0934c40a1a: from_entity_type=None from_entity_name='Migao Corporation' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,106 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 99780f1f-ccc6-4d7d-9dbf-ff0934c40a1a: from_entity_type=None from_entity_name='Anglo Asian Mining Plc' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,108 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk a67f2a94-202e-4860-82a7-40c0dd1e94ef: Unterminated string starting at: line 1 column 6734 (char 6733). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 13:16:20,112 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 2969a44b-eceb-4999-83fc-86563551e9c4: Unterminated string starting at: line 1 column 8328 (char 8327). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 13:16:20,114 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk ae20273a-69c7-4045-bddd-faa57daea940: Unterminated string starting at: line 1 column 7445 (char 7444). Content: '{"entity_relationship_list": [{"from_entity_type": "ASSET", "from_entity_name": "7.9 12-14 Walton St...'
2025-04-13 13:16:20,115 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d05be7c6-3e1c-4d78-b24c-5a7fc6b45595: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='BVI' to_entity_type='LOCATION'
2025-04-13 13:16:20,118 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 10d598ba-016b-4041-a381-8c25015bd27d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,120 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 10d598ba-016b-4041-a381-8c25015bd27d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,122 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 254eaae8-0d44-4a52-b495-2e20b2bf367e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,123 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 273baad9-3608-4f9f-9dd0-2e58149759d6: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Azerbaijan' to_entity_type='LOCATION'
2025-04-13 13:16:20,130 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1412a8bb-2387-4c1f-a556-23a63c556eae: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,140 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ee735bff-b7c8-4917-b201-62fbbdf95e9e: from_entity_type='PERSON' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,143 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ee735bff-b7c8-4917-b201-62fbbdf95e9e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,146 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3264abd4-0bda-4ab1-9d47-8e56ab99ed42: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,147 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3264abd4-0bda-4ab1-9d47-8e56ab99ed42: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,149 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d57f0984-0334-4e82-a726-79bf45e14d5d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,151 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d21622ac-7a18-40fb-b80d-a9b617d7fd66: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,153 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk cbbbb6b3-ae3d-4a3a-8053-4667ba5a4965: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,159 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 943c1828-9c33-4955-9820-95697ee4b40f: Unterminated string starting at: line 1 column 8004 (char 8003). Content: '{"entity_relationship_list": [{"from_entity_type": "LOCATION", "from_entity_name": "Guernsey", "rela...'
2025-04-13 13:16:20,163 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 93ecb180-12ed-41cd-a32e-76b46be66bb2: Unterminated string starting at: line 1 column 7469 (char 7468). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 13:16:20,165 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 01657fb4-ce52-4438-94e3-ceef65def705: Unterminated string starting at: line 1 column 7134 (char 7133). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Mateos", "re...'
2025-04-13 13:16:20,167 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9138fe2b-4810-44d8-9722-6ddba016ca97: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,168 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9138fe2b-4810-44d8-9722-6ddba016ca97: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,170 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bb083729-820e-4f3d-b57e-7eb8f3567133: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,171 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bb083729-820e-4f3d-b57e-7eb8f3567133: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,173 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d3013b74-1ea6-4de4-b50e-7cd334b6db25: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,175 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d3013b74-1ea6-4de4-b50e-7cd334b6db25: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,176 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 9d7871d7-3b4d-4264-8cec-7ff86e17f2bf: Unterminated string starting at: line 1 column 7803 (char 7802). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Georgiou", "...'
2025-04-13 13:16:20,178 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e4b8adb8-8839-4450-8887-b58b39380e40: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,180 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e4b8adb8-8839-4450-8887-b58b39380e40: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Mill Ride Golf Club' to_entity_type='ASSET'
2025-04-13 13:16:20,181 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e4b8adb8-8839-4450-8887-b58b39380e40: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='LOCATED_IN' relationship_description='Offshore trust structure' to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,182 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk efd81c61-eeae-4670-bc7c-dc53cbd9e1f5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,184 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c132e02d-d18e-4cff-819b-edb160fcbb98: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,186 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c132e02d-d18e-4cff-819b-edb160fcbb98: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,188 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 809e37b4-b613-4d24-9342-726c7438e972: Unterminated string starting at: line 1 column 6271 (char 6270). Content: '{"entity_relationship_list": [{"from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 620,0...'
2025-04-13 13:16:20,190 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk d405639c-b501-4bc2-adf4-ae929566bf89: Expecting value: line 1 column 7868 (char 7867). Content: '{"entity_relationship_list": [{"from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "Semfra...'
2025-04-13 13:16:20,192 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4c7394fa-3197-4c2c-90f1-0404dd012c73: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='account number LU190023192776665200' to_entity_type='ASSET'
2025-04-13 13:16:20,194 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 782caeb8-10ff-4980-bfa4-be0b842b2b19: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,196 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 782caeb8-10ff-4980-bfa4-be0b842b2b19: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,201 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 62a8c357-85a2-4e58-b24e-e4a3fb354139: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,210 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 62a8c357-85a2-4e58-b24e-e4a3fb354139: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,214 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 363936ab-11b1-4124-aefe-e938c7b63917: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,216 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 363936ab-11b1-4124-aefe-e938c7b63917: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 13:16:20,218 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 0a94a955-92e0-4b50-ae32-b355e630ced8: Unterminated string starting at: line 1 column 7459 (char 7458). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 13:16:20,219 - src.core.extraction.entity_extractor - INFO - Processed batch results in 0.43s. Total batch time: 2312.52s
2025-04-13 13:16:20,220 - src.core.extraction.entity_extractor - INFO - Batch Stats: Success=646, Parse Errors=26, Missing Outputs=0
2025-04-13 13:16:20,268 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 2312.57s
2025-04-13 13:16:20,302 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-13 13:16:20,303 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 4700 entities, 1345 relationships.
2025-04-13 13:16:20,304 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-13 13:16:20,305 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 4700 raw entities...
2025-04-13 13:16:20,385 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-13 13:16:20,544 - src.core.extraction.entity_extractor - WARNING - Removed 16 entities with empty normalized names.
2025-04-13 13:16:20,546 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-13 13:16:21,330 - src.core.extraction.entity_extractor - INFO - Generated 171254 candidate pairs across all types.
2025-04-13 13:16:21,331 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-13 13:16:39,557 - src.core.extraction.entity_extractor - INFO - Found 142009 potential duplicate pairs after comparison.
2025-04-13 13:16:39,559 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-13 13:16:43,139 - src.core.extraction.entity_extractor - INFO - Found 1356 clusters (including singletons).
2025-04-13 13:16:43,141 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-13 13:16:43,339 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 1356.
2025-04-13 13:16:43,378 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs based on entity deduplication map...
2025-04-13 13:16:43,381 - src.core.extraction.entity_extractor - INFO - Updating 1345 raw relationships with canonical entity IDs...
2025-04-13 13:16:43,383 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 1322, Updated IDs in 1249, Skipped 23 (self-loops or missing mappings).
2025-04-13 13:16:43,385 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-13 13:16:43,386 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-13 13:16:43,387 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 119 duplicates. Final count: 1203.
2025-04-13 13:16:43,388 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 1356 entities, 1203 relationships.
2025-04-13 13:16:43,422 - src.core.extraction.entity_extractor - INFO - Saved 1356 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-13 13:16:43,437 - src.core.extraction.entity_extractor - INFO - Saved 1203 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-13 13:16:43,439 - __main__ - INFO - Entity extraction complete. Modified chunks: 672
2025-04-13 13:16:43,835 - __main__ - INFO - QueryEngine LLM model updated to: Qwen/Qwen2.5-7B-Instruct
2025-04-13 13:16:43,840 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-13 13:16:43,842 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 13:16:43,843 - src.core.indexing.document_indexer - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 13:16:43,844 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-13 13:16:43,845 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-13 13:16:43,860 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.91 GB, VMS: 42.19 GB
2025-04-13 13:16:43,869 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 13:16:43,871 - __main__ - INFO - Loading indexing model...
2025-04-13 13:16:43,873 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-13 13:16:43,874 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-13 13:16:47,337 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-13 13:16:47,339 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 3.46 seconds
2025-04-13 13:16:47,340 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.92 GB, VMS: 44.30 GB
2025-04-13 13:16:47,342 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 13:16:47,416 - __main__ - INFO - Indexing 672 chunks
2025-04-13 13:16:47,417 - src.core.indexing.document_indexer - INFO - Starting indexing process for 672 chunks...
2025-04-13 13:16:47,418 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-13 13:16:47,419 - src.core.indexing.document_indexer - INFO - Indexing 672 chunks to BM25
2025-04-13 13:16:47,457 - src.core.indexing.document_indexer - INFO - Tokenizing enhanced texts for BM25...
2025-04-13 13:16:47,992 - src.core.indexing.document_indexer - INFO - Creating BM25 index...
2025-04-13 13:16:48,010 - src.core.indexing.document_indexer - INFO - Saving BM25 index and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-13 13:16:48,050 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (672 documents).
2025-04-13 13:16:48,055 - src.core.indexing.document_indexer - INFO - Indexing 672 chunks to Qdrant collection 'anticorruption_rag_e5_instruct'...
2025-04-13 13:16:48,119 - src.core.indexing.document_indexer - INFO - Collection 'anticorruption_rag_e5_instruct' already exists. Verifying configuration...
2025-04-13 13:16:48,137 - src.core.indexing.document_indexer - INFO - Generating embeddings for chunks...
2025-04-13 13:16:48,139 - src.core.indexing.document_indexer - INFO - Generating BGE-M3 embeddings for 672 texts (dense, sparse, colbert)...
2025-04-13 13:17:07,989 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated.
2025-04-13 13:17:07,993 - src.core.indexing.document_indexer - INFO - Embeddings generated in 19.85s
2025-04-13 13:17:07,994 - src.core.indexing.document_indexer - INFO - Preparing points for Qdrant upsert...
2025-04-13 14:10:01,991 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 14:10:01,992 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 14:10:02,034 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 14:10:02,035 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 14:10:02,047 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 14:10:02,047 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 14:10:02,048 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 14:10:02,050 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 14:10:02,064 - src.utils.conversation_store - INFO - Successfully loaded 12 conversations into memory.
2025-04-13 14:10:02,064 - src.utils.conversation_store - INFO - Successfully loaded 12 conversations into memory.
2025-04-13 14:10:02,067 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 14:10:02,069 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 14:10:02,070 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 14:10:02,072 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 14:10:02,073 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 14:10:02,074 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 14:10:02,076 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 14:10:02,077 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 14:10:02,078 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 14:10:02,079 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 14:10:02,080 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 14:10:02,081 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 14:10:02,083 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 14:10:02,084 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 14:10:02,085 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 14:10:02,086 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 14:10:02,089 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.32 GB, VMS: 37.62 GB
2025-04-13 14:10:02,089 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.32 GB, VMS: 37.62 GB
2025-04-13 14:10:02,204 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 14:10:02,204 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 14:10:02,206 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 14:10:02,207 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 14:10:02,852 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 14:10:03,168 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 14:10:03,172 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 14:10:03,174 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 14:10:12,473 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 14:10:12,894 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 14:10:13,408 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 14:10:13,515 - __main__ - INFO - Storing selected LLM for session: Qwen/Qwen2.5-7B-Instruct
2025-04-13 14:10:13,517 - __main__ - INFO - Starting document processing for 1 files
2025-04-13 14:10:13,520 - __main__ - INFO - Starting document processing with spreadsheet options. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']
2025-04-13 14:10:13,522 - __main__ - INFO - Starting Aphrodite service for document processing
2025-04-13 14:10:28,279 - __main__ - INFO - Aphrodite service started successfully
2025-04-13 14:10:28,280 - __main__ - INFO - Saved Aphrodite process info: PID=22176
2025-04-13 14:10:28,281 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-13 14:10:28,282 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-13 14:10:28,287 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-13 14:10:28,294 - __main__ - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 14:10:28,296 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-13 14:10:28,298 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 14:10:28,299 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-13 14:13:03,220 - src.core.document_processing.document_loader - INFO - Exporting Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf content to Markdown...
2025-04-13 14:13:33,312 - src.core.document_processing.document_loader - INFO - Docling processing successful for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf. Word count: 94174, Page count: 246
2025-04-13 14:13:33,436 - __main__ - INFO - Document loaded: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf, Content items: 1
2025-04-13 14:13:33,438 - __main__ - INFO - All documents loaded. Shutting down document loader (Docling) to free resources...
2025-04-13 14:13:33,440 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-13 14:13:33,441 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.80 GB, VMS: 40.80 GB
2025-04-13 14:13:33,443 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-13 14:13:33,444 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-13 14:13:33,446 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-13 14:13:33,447 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-13 14:13:33,920 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-13 14:13:33,922 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-13 14:13:33,946 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-13 14:13:33,947 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-13 14:13:33,949 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.75 GB, VMS: 40.75 GB
2025-04-13 14:13:33,950 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 14:13:33,951 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-13 14:13:34,390 - __main__ - INFO - Document loader shut down complete.
2025-04-13 14:13:34,392 - __main__ - INFO - Process memory - RSS: 2.75 GB, VMS: 40.75 GB
2025-04-13 14:13:34,393 - __main__ - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 14:13:34,395 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-13 14:13:34,396 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-13 14:13:34,397 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.75 GB, VMS: 40.75 GB
2025-04-13 14:13:34,398 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 14:13:34,399 - __main__ - INFO - Loading chunking model...
2025-04-13 14:13:34,400 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 14:13:34,400 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-13 14:13:34,401 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-13 14:13:34,402 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-13 14:13:34,403 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-13 14:13:39,334 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-13 14:13:39,335 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.93 seconds
2025-04-13 14:13:39,336 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.92 GB, VMS: 42.05 GB
2025-04-13 14:13:39,337 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 14:13:39,338 - __main__ - INFO - Chunking document 1/1: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 14:13:39,339 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (ID: 8b46b718-a185-4be8-9867-614a549ca556, Type: .pdf)
2025-04-13 14:13:39,340 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf.
2025-04-13 14:13:39,342 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 608866 chars) using Markdown Header + Semantic chunking.
2025-04-13 14:13:39,361 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 244 initial structural chunks.
2025-04-13 14:13:45,448 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 502 potential chunks.
2025-04-13 14:13:45,449 - src.core.document_processing.document_chunker - WARNING - Chunk (length 8299) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 14:13:45,451 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 14:13:45,452 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6564) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 14:13:45,453 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 14:13:45,454 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6017) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 14:13:45,456 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 14:13:45,457 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5972) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 14:13:45,458 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 14:13:45,458 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7518) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 14:13:45,459 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 21 basic chunks.
2025-04-13 14:13:45,460 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7098) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 14:13:45,461 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 14:13:45,462 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7084) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 14:13:45,463 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 19 basic chunks.
2025-04-13 14:13:45,464 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5166) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 14:13:45,467 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 15 basic chunks.
2025-04-13 14:13:45,468 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5469) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 14:13:45,469 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 14 basic chunks.
2025-04-13 14:13:45,470 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5139) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 14:13:45,471 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 13 basic chunks.
2025-04-13 14:13:45,472 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 10 oversized chunks.
2025-04-13 14:13:45,472 - src.core.document_processing.document_chunker - INFO - Final processing created 672 chunks from text of length 608866.
2025-04-13 14:13:45,476 - src.core.document_processing.document_chunker - INFO - Chunking for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf completed in 6.14s.
2025-04-13 14:13:45,478 - src.core.document_processing.document_chunker - INFO - Created 672 total chunks: 0 spreadsheet rows, 492 semantic chunks, 0 sentence fallback chunks, 180 basic fallback chunks.
2025-04-13 14:13:45,479 - src.core.document_processing.document_chunker - INFO - Average chunk size: 881.6 characters.
2025-04-13 14:13:45,480 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.92 GB, VMS: 42.04 GB
2025-04-13 14:13:45,481 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.97 GB, Total: 8.00 GB
2025-04-13 14:13:45,482 - __main__ - INFO - Created 672 chunks for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 14:13:45,483 - __main__ - INFO - Shutting down chunking model...
2025-04-13 14:13:45,484 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 14:13:45,485 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-13 14:13:45,486 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-13 14:13:45,487 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-13 14:13:45,494 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-13 14:13:46,147 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-13 14:13:46,150 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.92 GB, VMS: 42.04 GB
2025-04-13 14:13:46,151 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 14:13:46,152 - __main__ - INFO - Total chunks generated: 672
2025-04-13 14:13:46,153 - __main__ - INFO - Creating entity extractor with model Qwen/Qwen2.5-7B-Instruct
2025-04-13 14:13:46,154 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with model=Qwen/Qwen2.5-7B-Instruct, debug=True, using advanced deduplication.
2025-04-13 14:13:46,155 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.92 GB, VMS: 42.04 GB
2025-04-13 14:13:46,156 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 14:13:46,158 - __main__ - INFO - Starting entity extraction on 672 chunks (0 visual chunks)
2025-04-13 14:13:46,159 - src.core.extraction.entity_extractor - INFO - Adding 672 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-13 14:13:46,160 - src.core.extraction.entity_extractor - INFO - Added 672 chunks to queue. Processing now.
2025-04-13 14:13:46,161 - src.core.extraction.entity_extractor - INFO - Processing all 672 chunks...
2025-04-13 14:13:46,162 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.92 GB, VMS: 42.04 GB
2025-04-13 14:13:46,163 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 14:13:46,166 - src.core.extraction.entity_extractor - INFO - Loading designated extraction model: Qwen/Qwen2.5-7B-Instruct
2025-04-13 14:22:03,652 - src.core.extraction.entity_extractor - INFO - Model Qwen/Qwen2.5-7B-Instruct loaded successfully for extraction.
2025-04-13 14:22:03,668 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks (0 spreadsheet rows)
2025-04-13 14:22:03,670 - src.core.extraction.entity_extractor - INFO - Processing in 1 batches of size 1024
2025-04-13 14:22:03,672 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (672 chunks)
2025-04-13 14:22:03,761 - src.core.extraction.entity_extractor - INFO - Sending batch of 672 prompts to service
2025-04-13 15:04:18,479 - src.core.extraction.entity_extractor - INFO - Received response from service
2025-04-13 15:04:18,514 - src.core.extraction.entity_extractor - INFO - Service request/response took 2534.75s
2025-04-13 15:04:18,580 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 85d257d5-d4b6-4734-a54c-7991abf11fb9: from_entity_type='LOCATION' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='UK' to_entity_type='LOCATION'
2025-04-13 15:04:18,584 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 85d257d5-d4b6-4734-a54c-7991abf11fb9: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='indefinite leave to remain' to_entity_type='ASSET'
2025-04-13 15:04:18,586 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 85d257d5-d4b6-4734-a54c-7991abf11fb9: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='June 2015' to_entity_type='ASSET'
2025-04-13 15:04:18,591 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 559f131a-3430-4177-b61b-0e8b033b0697: Unterminated string starting at: line 1 column 7120 (char 7119). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 15:04:18,596 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3981b1f7-5368-4471-8c4a-36d91a989fd8: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,606 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3981b1f7-5368-4471-8c4a-36d91a989fd8: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='judge' to_entity_type='POSITION'
2025-04-13 15:04:18,608 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3981b1f7-5368-4471-8c4a-36d91a989fd8: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='PFO' to_entity_type='ASSET'
2025-04-13 15:04:18,609 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3981b1f7-5368-4471-8c4a-36d91a989fd8: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Disclosure Order' to_entity_type='ASSET'
2025-04-13 15:04:18,611 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3981b1f7-5368-4471-8c4a-36d91a989fd8: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='financial institutions, law firms and other relevant third parties' to_entity_type='LOCATION'
2025-04-13 15:04:18,614 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk dd368c98-69e5-4f5e-a19d-595b877d901b: Unterminated string starting at: line 1 column 8084 (char 8083). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 15:04:18,617 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3795c41f-421d-4308-9744-c04b8f199015: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,620 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3795c41f-421d-4308-9744-c04b8f199015: from_entity_type='ASSET' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,622 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 71680339-ed05-42e6-933c-330ef21417c4: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='LOCATED_IN' relationship_description='Used to hold bank accounts' to_entity_name='a number of jurisdictions' to_entity_type='LOCATION'
2025-04-13 15:04:18,628 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5c57b309-5024-454a-bff7-6b368e1a2fb9: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,632 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 46c2deba-faf7-4627-afb3-562bba244a37: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='income' to_entity_type='ASSET'
2025-04-13 15:04:18,635 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 412a8bea-5525-47a0-8ae9-7573adb914a5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='the KB Companies presentation' to_entity_type='ASSET'
2025-04-13 15:04:18,642 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 25bb9d96-cf9a-4241-8347-ff6add1d9e66: Unterminated string starting at: line 1 column 7502 (char 7501). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 15:04:18,648 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk b9cfae29-a363-4bfe-ad89-7e5ee25b0864: Expecting value: line 1 column 7360 (char 7359). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "My clients", "r...'
2025-04-13 15:04:18,652 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk fc120fe2-e470-4597-ae86-2e0d5f6b80e1: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Azerbaijan' to_entity_type='LOCATION'
2025-04-13 15:04:18,657 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk e26897a0-2a06-4555-adfd-ea5235c6e27a: Unterminated string starting at: line 1 column 8137 (char 8136). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 15:04:18,660 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 77be67de-f99c-4d6e-a20c-5f5e9fd60dbf: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,663 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 77be67de-f99c-4d6e-a20c-5f5e9fd60dbf: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,667 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 159216b6-1b9d-4397-8f2f-2c61ddde2084: Expecting ',' delimiter: line 1 column 7736 (char 7735). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 15:04:18,669 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c0a4ebcb-d006-4153-b693-5125954fa13c: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,675 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e7b4b209-3c8c-443b-bd1b-82c70be88eef: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='correspond to the dates and amounts of promissory notes and loan agreements' to_entity_name='promissory notes and loan agreements' to_entity_type='ASSET'
2025-04-13 15:04:18,683 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 810f1748-9d78-40a4-92b5-981975cf1eed: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,697 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 327756a5-9a92-40c1-8c25-f2cb888eddc1: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,699 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 327756a5-9a92-40c1-8c25-f2cb888eddc1: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,702 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a8959667-d5e7-4b2a-893f-95235f747348: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,705 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 5b42da13-9346-46a8-a69e-a77dc8f29e53: Unterminated string starting at: line 1 column 8084 (char 8083). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 15:04:18,709 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 4ccbc890-8b75-422f-9a8a-cf9d22e7dcd8: Unterminated string starting at: line 1 column 7728 (char 7727). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "OCCRP"...'
2025-04-13 15:04:18,712 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk faf3dfcf-eaa9-4d00-937d-1e1e5ae20fec: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OCCRP' to_entity_type='NGO'
2025-04-13 15:04:18,718 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bf979fa1-fb9b-4f3b-97e0-81592b89a2e7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,723 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6ced3ce5-0345-4329-ad21-8370a91f14d4: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,725 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6ced3ce5-0345-4329-ad21-8370a91f14d4: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,727 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b052ae14-b7bb-4bc9-92ff-cafeda9fd555: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,728 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b052ae14-b7bb-4bc9-92ff-cafeda9fd555: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,735 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk fc136be4-ce4a-44d4-ba40-bad6dea09285: Unterminated string starting at: line 1 column 8193 (char 8192). Content: '{"entity_relationship_list": [{"from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "rel...'
2025-04-13 15:04:18,737 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk d474e070-5290-45a6-b7c2-91dd1f35c460: Expecting property name enclosed in double quotes: line 1 column 7882 (char 7881). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 6,...'
2025-04-13 15:04:18,741 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1db48fd9-192f-4514-8777-4fd1a9430bc2: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='FATF' to_entity_type='GOVERNMENT_BODY'
2025-04-13 15:04:18,744 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1db48fd9-192f-4514-8777-4fd1a9430bc2: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OECD' to_entity_type='GOVERNMENT_BODY'
2025-04-13 15:04:18,745 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1db48fd9-192f-4514-8777-4fd1a9430bc2: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='NCA' to_entity_type='GOVERNMENT_BODY'
2025-04-13 15:04:18,747 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1db48fd9-192f-4514-8777-4fd1a9430bc2: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Companies House' to_entity_type='GOVERNMENT_BODY'
2025-04-13 15:04:18,751 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 28e323c2-0531-41b1-80e3-087f7536dda9: Unterminated string starting at: line 1 column 7636 (char 7635). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "USD 5,...'
2025-04-13 15:04:18,757 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b51507cc-6842-4983-93e7-1e3aac79c68f: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='loan' to_entity_type='MONEY'
2025-04-13 15:04:18,761 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f1168fe1-3936-4834-a444-d2b723b12977: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,765 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 83d1991e-776c-4591-8b82-d52a929e9935: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,768 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e542f1c1-7c09-4f98-aeae-704ebf8d6e87: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,771 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bb1812b0-a236-43b9-b35e-5b3845cf0be8: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,788 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e35de422-08a6-4c9d-b165-91a2f3576c95: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='DH Leasing' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 15:04:18,790 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk c7c8d469-7de7-4959-a70e-da6ac2faca93: Unterminated string starting at: line 1 column 8160 (char 8159). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 15:04:18,793 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e9538be9-b92a-41f5-a737-643ff5d449a4: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Isle of Man' to_entity_type='LOCATION'
2025-04-13 15:04:18,799 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7127745a-0d3b-49f2-9346-2ee95385b6ab: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='IBA-Moscow' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 15:04:18,808 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7127745a-0d3b-49f2-9346-2ee95385b6ab: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='transactions' to_entity_type='ASSET'
2025-04-13 15:04:18,812 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk e90f7be8-1c2e-4f5f-b0e0-ceed0e52ff76: Expecting value: line 1 column 7655 (char 7654). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "EUR 2,...'
2025-04-13 15:04:18,814 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bbfd5c04-e3c0-45ba-ad30-5ae3f57c9cab: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Regulated firms were required to carry out due diligence' to_entity_name='regulated firms' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 15:04:18,816 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bbfd5c04-e3c0-45ba-ad30-5ae3f57c9cab: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Source of funds and source of wealth' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 15:04:18,819 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bbfd5c04-e3c0-45ba-ad30-5ae3f57c9cab: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Income' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 15:04:18,820 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d3dc6794-6b48-4722-99e0-ceabe3e2b7f8: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Employed' to_entity_name='Tab C1' to_entity_type='LOCATION'
2025-04-13 15:04:18,827 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1ef1114d-ce64-4b07-ac24-1fd7e8fd5816: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,832 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk f3e5c92d-84b6-482a-92cf-e12668544e1c: Expecting ',' delimiter: line 1 column 7614 (char 7613). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 15:04:18,835 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 31ec7511-74f5-4aab-80b7-bb1f567340bc: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,837 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 3478ce58-0159-44f0-bb65-50fa183b4381: Unterminated string starting at: line 1 column 7527 (char 7526). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 15:04:18,840 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk b0716db4-59c4-4f70-925a-0e172b7f95b1: Unterminated string starting at: line 1 column 7146 (char 7145). Content: '{ "entity_relationship_list": [ { "from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "Glo...'
2025-04-13 15:04:18,843 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d00a5210-fc77-4696-bd15-d311c2b2bf97: from_entity_type=None from_entity_name='Tea Construction' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,853 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d00a5210-fc77-4696-bd15-d311c2b2bf97: from_entity_type=None from_entity_name='Eroil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,855 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d00a5210-fc77-4696-bd15-d311c2b2bf97: from_entity_type=None from_entity_name='Mea Oil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,857 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d00a5210-fc77-4696-bd15-d311c2b2bf97: from_entity_type=None from_entity_name='TPD Trading Petrol and Drilling' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,858 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d00a5210-fc77-4696-bd15-d311c2b2bf97: from_entity_type=None from_entity_name='Tiara' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,859 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d00a5210-fc77-4696-bd15-d311c2b2bf97: from_entity_type=None from_entity_name='Migao Corporation' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,860 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d00a5210-fc77-4696-bd15-d311c2b2bf97: from_entity_type=None from_entity_name='Anglo Asian Mining Plc' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,866 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk e89eb3ff-bfd6-4b5c-a2af-65cf4861c76b: Unterminated string starting at: line 1 column 6734 (char 6733). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 15:04:18,871 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 98203cb0-cd57-4f11-b4a5-045fef7db9ee: Unterminated string starting at: line 1 column 8328 (char 8327). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 15:04:18,873 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 35427be4-70fa-4c9d-9873-58c20c335407: Unterminated string starting at: line 1 column 7445 (char 7444). Content: '{"entity_relationship_list": [{"from_entity_type": "ASSET", "from_entity_name": "7.9 12-14 Walton St...'
2025-04-13 15:04:18,875 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6617059e-9e5b-410d-a528-aee99a71559d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='BVI' to_entity_type='LOCATION'
2025-04-13 15:04:18,878 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0e97ab42-5d05-4271-90d0-907ece3309e9: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,880 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0e97ab42-5d05-4271-90d0-907ece3309e9: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,882 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 60045c2e-6696-4b4c-bb1a-75ef9923e78f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,884 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk fca3f4f6-19f8-4a7b-a3f3-b8f8cb061df7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Azerbaijan' to_entity_type='LOCATION'
2025-04-13 15:04:18,891 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1ac04797-4ef9-47cc-bac8-24cf831f3c2d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,903 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c1daa639-cf14-464f-94d7-13a798c6cc6f: from_entity_type='PERSON' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,905 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c1daa639-cf14-464f-94d7-13a798c6cc6f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,907 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f5b0e5e6-c555-4be6-9ce5-183fb1a0905e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,909 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f5b0e5e6-c555-4be6-9ce5-183fb1a0905e: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,911 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 196a277b-d54b-463b-a7b7-90f028a811e5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,913 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5b6775fb-981f-4484-a57a-c66588f2a28d: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,915 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a91bae33-85f4-4f47-8d9b-32a312ec0564: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,924 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 8bb6675c-a6ee-4d2b-8b25-4a973cbfcde5: Unterminated string starting at: line 1 column 8004 (char 8003). Content: '{"entity_relationship_list": [{"from_entity_type": "LOCATION", "from_entity_name": "Guernsey", "rela...'
2025-04-13 15:04:18,927 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 83a381dd-4a44-4a44-aa5d-e0e262439817: Unterminated string starting at: line 1 column 7469 (char 7468). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 15:04:18,929 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 8f31e584-684c-44a2-a83f-b89f6d0ff03e: Unterminated string starting at: line 1 column 7134 (char 7133). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Mateos", "re...'
2025-04-13 15:04:18,931 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 445a2264-df2a-4f32-96f8-b5ab73046bef: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,933 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 445a2264-df2a-4f32-96f8-b5ab73046bef: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,935 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 662fdff3-a426-4c01-a0ab-65e68e9ac3ac: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,936 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 662fdff3-a426-4c01-a0ab-65e68e9ac3ac: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,938 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b35be6d0-2c51-461a-b587-b354adec7b8c: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,939 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b35be6d0-2c51-461a-b587-b354adec7b8c: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,941 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 75383a61-7714-416f-b608-25ca1f280dda: Unterminated string starting at: line 1 column 7803 (char 7802). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Georgiou", "...'
2025-04-13 15:04:18,943 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8034c374-0396-4788-b208-d05783134731: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,946 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8034c374-0396-4788-b208-d05783134731: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Mill Ride Golf Club' to_entity_type='ASSET'
2025-04-13 15:04:18,947 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8034c374-0396-4788-b208-d05783134731: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='LOCATED_IN' relationship_description='Offshore trust structure' to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,949 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7de1c8cf-e51e-4927-8fe3-59a1e3dd9d1d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,952 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 66011606-cff8-4c8e-9eef-a6dde707e2d6: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,954 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 66011606-cff8-4c8e-9eef-a6dde707e2d6: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,955 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 9d468ae4-6584-45a9-a39b-a9db1da6040d: Unterminated string starting at: line 1 column 6271 (char 6270). Content: '{"entity_relationship_list": [{"from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 620,0...'
2025-04-13 15:04:18,958 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk e75c97c9-3c44-47ca-a6b0-28193c462b7a: Expecting value: line 1 column 7868 (char 7867). Content: '{"entity_relationship_list": [{"from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "Semfra...'
2025-04-13 15:04:18,959 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3097b9b8-7a32-44de-82bc-89dc98cf778f: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='account number LU190023192776665200' to_entity_type='ASSET'
2025-04-13 15:04:18,961 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 2536228b-d1c9-4f06-8f72-bb6f6501ec61: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,962 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 2536228b-d1c9-4f06-8f72-bb6f6501ec61: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,967 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk cc2bffb5-5d65-4a0f-966b-30369dfaceae: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,970 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk cc2bffb5-5d65-4a0f-966b-30369dfaceae: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,974 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e78e8bf8-058c-4335-a2fe-7a21cdca3d85: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,976 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e78e8bf8-058c-4335-a2fe-7a21cdca3d85: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:04:18,978 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk c3bd6c53-e364-4e3f-a78f-58f3906fa24c: Unterminated string starting at: line 1 column 7459 (char 7458). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 15:04:18,979 - src.core.extraction.entity_extractor - INFO - Processed batch results in 0.46s. Total batch time: 2535.31s
2025-04-13 15:04:18,981 - src.core.extraction.entity_extractor - INFO - Batch Stats: Success=646, Parse Errors=26, Missing Outputs=0
2025-04-13 15:04:19,042 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 2535.37s
2025-04-13 15:04:19,057 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-13 15:04:19,058 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 4700 entities, 1345 relationships.
2025-04-13 15:04:19,060 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-13 15:04:19,061 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 4700 raw entities...
2025-04-13 15:04:19,218 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-13 15:04:19,400 - src.core.extraction.entity_extractor - WARNING - Removed 16 entities with empty normalized names.
2025-04-13 15:04:19,402 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-13 15:04:20,211 - src.core.extraction.entity_extractor - INFO - Generated 171254 candidate pairs across all types.
2025-04-13 15:04:20,213 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-13 15:04:36,860 - src.core.extraction.entity_extractor - INFO - Found 142009 potential duplicate pairs after comparison.
2025-04-13 15:04:36,863 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-13 15:04:42,713 - src.core.extraction.entity_extractor - INFO - Found 1356 clusters (including singletons).
2025-04-13 15:04:42,715 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-13 15:04:42,914 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 1356.
2025-04-13 15:04:42,957 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs based on entity deduplication map...
2025-04-13 15:04:42,959 - src.core.extraction.entity_extractor - INFO - Updating 1345 raw relationships with canonical entity IDs...
2025-04-13 15:04:42,963 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 1322, Updated IDs in 1256, Skipped 23 (self-loops or missing mappings).
2025-04-13 15:04:42,965 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-13 15:04:42,966 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-13 15:04:42,967 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 119 duplicates. Final count: 1203.
2025-04-13 15:04:42,969 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 1356 entities, 1203 relationships.
2025-04-13 15:04:43,011 - src.core.extraction.entity_extractor - INFO - Saved 1356 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-13 15:04:43,030 - src.core.extraction.entity_extractor - INFO - Saved 1203 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-13 15:04:43,032 - __main__ - INFO - Entity extraction complete. Modified chunks: 672
2025-04-13 15:04:43,411 - __main__ - INFO - QueryEngine LLM model updated to: Qwen/Qwen2.5-7B-Instruct
2025-04-13 15:04:43,417 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-13 15:04:43,422 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 15:04:43,423 - src.core.indexing.document_indexer - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 15:04:43,424 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-13 15:04:43,425 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-13 15:04:43,432 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.93 GB, VMS: 42.04 GB
2025-04-13 15:04:43,438 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 15:04:43,439 - __main__ - INFO - Loading indexing model...
2025-04-13 15:04:43,440 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-13 15:04:43,441 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-13 15:04:46,784 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-13 15:04:46,786 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 3.34 seconds
2025-04-13 15:04:46,787 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.95 GB, VMS: 44.22 GB
2025-04-13 15:04:46,788 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 15:04:46,886 - __main__ - INFO - Indexing 672 chunks
2025-04-13 15:04:46,887 - src.core.indexing.document_indexer - INFO - Starting indexing process for 672 chunks...
2025-04-13 15:04:46,888 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-13 15:04:46,889 - src.core.indexing.document_indexer - INFO - Indexing 672 chunks to BM25
2025-04-13 15:04:46,912 - src.core.indexing.document_indexer - INFO - Tokenizing enhanced texts for BM25...
2025-04-13 15:04:47,433 - src.core.indexing.document_indexer - INFO - Creating BM25 index...
2025-04-13 15:04:47,451 - src.core.indexing.document_indexer - INFO - Saving BM25 index and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-13 15:04:47,477 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (672 documents).
2025-04-13 15:04:47,483 - src.core.indexing.document_indexer - INFO - Indexing 672 chunks to Qdrant collection 'anticorruption_rag_e5_instruct'...
2025-04-13 15:04:47,562 - src.core.indexing.document_indexer - INFO - Collection 'anticorruption_rag_e5_instruct' already exists. Verifying configuration...
2025-04-13 15:04:47,576 - src.core.indexing.document_indexer - INFO - Generating embeddings for chunks...
2025-04-13 15:04:47,578 - src.core.indexing.document_indexer - INFO - Generating BGE-M3 embeddings for 672 texts (dense, sparse, colbert)...
2025-04-13 15:05:04,619 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated.
2025-04-13 15:05:04,622 - src.core.indexing.document_indexer - INFO - Embeddings generated in 17.04s
2025-04-13 15:05:04,623 - src.core.indexing.document_indexer - INFO - Preparing points for Qdrant upsert...
2025-04-13 15:30:12,652 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:30:12,688 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 15:30:12,695 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 15:30:12,696 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 15:30:12,708 - src.utils.conversation_store - INFO - Successfully loaded 12 conversations into memory.
2025-04-13 15:30:12,710 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 15:30:12,711 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 15:30:12,712 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 15:30:12,713 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 15:30:12,714 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:30:12,715 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 15:30:12,715 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 15:30:12,716 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 15:30:12,717 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.33 GB, VMS: 37.55 GB
2025-04-13 15:30:12,866 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 15:30:12,867 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:30:13,460 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 15:30:13,463 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:30:43,016 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:30:43,019 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 15:30:43,020 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 15:30:43,021 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 15:30:43,033 - src.utils.conversation_store - INFO - Successfully loaded 12 conversations into memory.
2025-04-13 15:30:43,035 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 15:30:43,036 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 15:30:43,038 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 15:30:43,039 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 15:30:43,039 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:30:43,040 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 15:30:43,041 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 15:30:43,042 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 15:30:43,043 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.40 GB, VMS: 37.63 GB
2025-04-13 15:30:43,044 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 15:30:43,045 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:30:43,497 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 15:30:43,499 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:31:03,202 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:31:05,411 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:31:06,061 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:31:06,175 - __main__ - INFO - Storing selected LLM for session: Qwen/Qwen2.5-7B-Instruct
2025-04-13 15:31:06,177 - __main__ - INFO - Starting document processing for 1 files
2025-04-13 15:31:06,179 - __main__ - INFO - Starting document processing with spreadsheet options. Files: ['The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf']
2025-04-13 15:31:06,180 - __main__ - INFO - Starting Aphrodite service for document processing
2025-04-13 15:31:25,446 - __main__ - INFO - Aphrodite service started successfully
2025-04-13 15:31:25,447 - __main__ - INFO - Saved Aphrodite process info: PID=25504
2025-04-13 15:31:25,448 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-13 15:31:25,449 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-13 15:31:25,454 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-13 15:31:25,459 - __main__ - INFO - Loading regular document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-13 15:31:25,460 - src.core.document_processing.document_loader - INFO - Loading document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (Type: .pdf)
2025-04-13 15:31:25,461 - src.core.document_processing.document_loader - INFO - Processing with Docling: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-13 15:31:25,462 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf...
2025-04-13 15:31:39,209 - src.core.document_processing.document_loader - INFO - Exporting The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf content to Markdown...
2025-04-13 15:31:39,261 - src.core.document_processing.document_loader - INFO - Docling processing successful for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf. Word count: 4135, Page count: 10
2025-04-13 15:31:39,264 - __main__ - INFO - Document loaded: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf, Content items: 1
2025-04-13 15:31:39,265 - __main__ - INFO - All documents loaded. Shutting down document loader (Docling) to free resources...
2025-04-13 15:31:39,266 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-13 15:31:39,267 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.32 GB, VMS: 40.30 GB
2025-04-13 15:31:39,268 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-13 15:31:39,269 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-13 15:31:39,271 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-13 15:31:39,272 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-13 15:31:39,694 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-13 15:31:39,695 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-13 15:31:39,718 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-13 15:31:39,719 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-13 15:31:39,720 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.32 GB, VMS: 40.30 GB
2025-04-13 15:31:39,721 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 15:31:39,722 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-13 15:31:40,118 - __main__ - INFO - Document loader shut down complete.
2025-04-13 15:31:40,120 - __main__ - INFO - Process memory - RSS: 2.32 GB, VMS: 40.30 GB
2025-04-13 15:31:40,121 - __main__ - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 15:31:40,123 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-13 15:31:40,124 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-13 15:31:40,125 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.32 GB, VMS: 40.30 GB
2025-04-13 15:31:40,126 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 15:31:40,126 - __main__ - INFO - Loading chunking model...
2025-04-13 15:31:40,127 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 15:31:40,128 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-13 15:31:40,129 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-13 15:31:40,130 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-13 15:31:40,130 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-13 15:31:44,421 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-13 15:31:44,423 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.29 seconds
2025-04-13 15:31:44,424 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.67 GB, VMS: 41.82 GB
2025-04-13 15:31:44,425 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 15:31:44,426 - __main__ - INFO - Chunking document 1/1: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-13 15:31:44,427 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf (ID: 19a323ea-b11e-48b8-bcf7-e47cb3202b1d, Type: .pdf)
2025-04-13 15:31:44,429 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf.
2025-04-13 15:31:44,430 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 28181 chars) using Markdown Header + Semantic chunking.
2025-04-13 15:31:44,432 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 7 initial structural chunks.
2025-04-13 15:31:44,832 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 25 potential chunks.
2025-04-13 15:31:44,833 - src.core.document_processing.document_chunker - WARNING - Chunk (length 16110) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 15:31:44,835 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 39 basic chunks.
2025-04-13 15:31:44,836 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 1 oversized chunks.
2025-04-13 15:31:44,837 - src.core.document_processing.document_chunker - INFO - Final processing created 63 chunks from text of length 28181.
2025-04-13 15:31:44,838 - src.core.document_processing.document_chunker - INFO - Chunking for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf completed in 0.41s.
2025-04-13 15:31:44,839 - src.core.document_processing.document_chunker - INFO - Created 63 total chunks: 0 spreadsheet rows, 24 semantic chunks, 0 sentence fallback chunks, 39 basic fallback chunks.
2025-04-13 15:31:44,840 - src.core.document_processing.document_chunker - INFO - Average chunk size: 449.7 characters.
2025-04-13 15:31:44,841 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.68 GB, VMS: 41.82 GB
2025-04-13 15:31:44,842 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.60 GB, Total: 8.00 GB
2025-04-13 15:31:44,842 - __main__ - INFO - Created 63 chunks for The annual report for the fiscal year ending 2023 presented a decidedly mixed bag.pdf
2025-04-13 15:31:44,843 - __main__ - INFO - Shutting down chunking model...
2025-04-13 15:31:44,844 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 15:31:44,845 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-13 15:31:44,845 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-13 15:31:44,846 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-13 15:31:44,849 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-13 15:31:45,422 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-13 15:31:45,425 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.68 GB, VMS: 41.82 GB
2025-04-13 15:31:45,426 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 15:31:45,427 - __main__ - INFO - Total chunks generated: 63
2025-04-13 15:31:45,428 - __main__ - INFO - Creating entity extractor with model Qwen/Qwen2.5-7B-Instruct
2025-04-13 15:31:45,429 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with model=Qwen/Qwen2.5-7B-Instruct, debug=True, using advanced deduplication.
2025-04-13 15:31:45,430 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.68 GB, VMS: 41.82 GB
2025-04-13 15:31:45,431 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 15:31:45,432 - __main__ - INFO - Starting entity extraction on 63 chunks (0 visual chunks)
2025-04-13 15:31:45,433 - src.core.extraction.entity_extractor - INFO - Adding 63 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-13 15:31:45,433 - src.core.extraction.entity_extractor - INFO - Added 63 chunks to queue. Processing now.
2025-04-13 15:31:45,434 - src.core.extraction.entity_extractor - INFO - Processing all 63 chunks...
2025-04-13 15:31:45,435 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.68 GB, VMS: 41.82 GB
2025-04-13 15:31:45,436 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 15:31:45,442 - src.core.extraction.entity_extractor - INFO - Loading designated extraction model: Qwen/Qwen2.5-7B-Instruct
2025-04-13 15:36:08,517 - src.core.extraction.entity_extractor - INFO - Model Qwen/Qwen2.5-7B-Instruct loaded successfully for extraction.
2025-04-13 15:36:08,520 - src.core.extraction.entity_extractor - INFO - Processing 63 chunks (0 spreadsheet rows)
2025-04-13 15:36:08,522 - src.core.extraction.entity_extractor - INFO - Processing in 1 batches of size 1024
2025-04-13 15:36:08,523 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (63 chunks)
2025-04-13 15:36:08,528 - src.core.extraction.entity_extractor - INFO - Sending batch of 63 prompts to service
2025-04-13 15:38:03,739 - src.core.extraction.entity_extractor - INFO - Received response from service
2025-04-13 15:38:03,745 - src.core.extraction.entity_extractor - INFO - Service request/response took 115.22s
2025-04-13 15:38:03,755 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 088d949b-8d06-4f8f-bdaf-f18805c26a74: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,759 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 088d949b-8d06-4f8f-bdaf-f18805c26a74: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,761 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5d4d297d-d5a1-427e-8d7e-9e7f933e09ea: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Global Aid Foundation' to_entity_type='NGO'
2025-04-13 15:38:03,763 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5d4d297d-d5a1-427e-8d7e-9e7f933e09ea: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,765 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5d4d297d-d5a1-427e-8d7e-9e7f933e09ea: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,767 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 48139570-0918-4b9b-b7ca-d86b25bcae4f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,769 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 48139570-0918-4b9b-b7ca-d86b25bcae4f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,770 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 48139570-0918-4b9b-b7ca-d86b25bcae4f: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,772 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 48139570-0918-4b9b-b7ca-d86b25bcae4f: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,773 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 253df02d-d7a4-4169-a975-c46e82813f23: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,775 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 253df02d-d7a4-4169-a975-c46e82813f23: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,777 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a1ddbbf8-af6c-43d8-8a13-29b47968c7fa: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,780 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 53dbf135-cd2e-4e3a-ac63-565418b2794f: Unterminated string starting at: line 1 column 8219 (char 8218). Content: '{ "entity_relationship_list": [ { "from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": null...'
2025-04-13 15:38:03,783 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0bf7e009-7c12-474a-bb34-73e91874508f: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='We believe their Irish Company Registration Office (CRO) number begins with the digit 6' to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,785 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk fdc9374d-31c9-40ed-a8f0-8bb4af9ce2f8: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,787 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 144bdfdb-8fa6-4c6c-a602-b33f674e6a3e: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,788 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 085daff3-7ae9-4936-b0e1-21fc5012e5fc: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,790 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ff5df143-f38a-4fb6-bb2f-472d76cffe6a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,791 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ff5df143-f38a-4fb6-bb2f-472d76cffe6a: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,793 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 07f835bc-b4cc-46ef-9c6f-0b82cb90c39b: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,794 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 07f835bc-b4cc-46ef-9c6f-0b82cb90c39b: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Dedicated teams of legal and regulatory experts are monitoring the landscape and advising on the best course of action' to_entity_name='legal and regulatory experts' to_entity_type='POSITION'
2025-04-13 15:38:03,796 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 07f835bc-b4cc-46ef-9c6f-0b82cb90c39b: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Dedicated teams of legal and regulatory experts are monitoring the landscape and advising on the best course of action' to_entity_name='industry associations' to_entity_type='NGO'
2025-04-13 15:38:03,798 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 89b8fab0-9da0-4111-bf64-5e11fcd4f530: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,799 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 89b8fab0-9da0-4111-bf64-5e11fcd4f530: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,801 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 68b49e03-cedc-4138-aa38-9e1c1da0fe0b: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,802 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 68b49e03-cedc-4138-aa38-9e1c1da0fe0b: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,804 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 131b3a04-59f6-4b6b-9dff-f346b4e36958: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,805 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 131b3a04-59f6-4b6b-9dff-f346b4e36958: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,806 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 131b3a04-59f6-4b6b-9dff-f346b4e36958: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='procurement team' to_entity_type='POSITION'
2025-04-13 15:38:03,808 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 131b3a04-59f6-4b6b-9dff-f346b4e36958: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='legal department' to_entity_type='POSITION'
2025-04-13 15:38:03,810 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6bfa14e1-a5be-4ec2-9629-af661503517a: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,812 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 2b5a1a91-2e77-4361-bf06-fd2e2de405b8: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 15:38:03,814 - src.core.extraction.entity_extractor - INFO - Processed batch results in 0.07s. Total batch time: 115.29s
2025-04-13 15:38:03,815 - src.core.extraction.entity_extractor - INFO - Batch Stats: Success=62, Parse Errors=1, Missing Outputs=0
2025-04-13 15:38:03,818 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 115.30s
2025-04-13 15:38:03,830 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-13 15:38:03,831 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 110 entities, 27 relationships.
2025-04-13 15:38:03,833 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-13 15:38:03,834 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 110 raw entities...
2025-04-13 15:38:03,911 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-13 15:38:03,942 - src.core.extraction.entity_extractor - WARNING - Removed 2 entities with empty normalized names.
2025-04-13 15:38:03,944 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-13 15:38:04,174 - src.core.extraction.entity_extractor - INFO - Generated 379 candidate pairs across all types.
2025-04-13 15:38:04,176 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-13 15:38:04,239 - src.core.extraction.entity_extractor - INFO - Found 74 potential duplicate pairs after comparison.
2025-04-13 15:38:04,240 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-13 15:38:04,253 - src.core.extraction.entity_extractor - INFO - Found 71 clusters (including singletons).
2025-04-13 15:38:04,254 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-13 15:38:04,261 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 71.
2025-04-13 15:38:04,262 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs based on entity deduplication map...
2025-04-13 15:38:04,263 - src.core.extraction.entity_extractor - INFO - Updating 27 raw relationships with canonical entity IDs...
2025-04-13 15:38:04,264 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 23, Updated IDs in 13, Skipped 4 (self-loops or missing mappings).
2025-04-13 15:38:04,265 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-13 15:38:04,266 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-13 15:38:04,267 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 0 duplicates. Final count: 23.
2025-04-13 15:38:04,268 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 71 entities, 23 relationships.
2025-04-13 15:38:04,273 - src.core.extraction.entity_extractor - INFO - Saved 71 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-13 15:38:04,274 - src.core.extraction.entity_extractor - INFO - Saved 23 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-13 15:38:04,276 - __main__ - INFO - Entity extraction complete. Modified chunks: 63
2025-04-13 15:38:04,535 - __main__ - INFO - QueryEngine LLM model updated to: Qwen/Qwen2.5-7B-Instruct
2025-04-13 15:38:04,539 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-13 15:38:04,541 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 15:38:04,542 - src.core.indexing.document_indexer - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 15:38:04,543 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-13 15:38:04,544 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-13 15:38:04,547 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.61 GB, VMS: 41.82 GB
2025-04-13 15:38:04,551 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 15:38:04,553 - __main__ - INFO - Loading indexing model...
2025-04-13 15:38:04,554 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-13 15:38:04,555 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-13 15:38:08,419 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-13 15:38:08,421 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 3.87 seconds
2025-04-13 15:38:08,424 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.63 GB, VMS: 43.94 GB
2025-04-13 15:38:08,427 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 15:38:08,540 - __main__ - INFO - Indexing 63 chunks
2025-04-13 15:38:08,541 - src.core.indexing.document_indexer - INFO - Starting indexing process for 63 chunks...
2025-04-13 15:38:08,543 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-13 15:38:08,544 - src.core.indexing.document_indexer - INFO - Indexing 63 chunks to BM25
2025-04-13 15:38:08,561 - src.core.indexing.document_indexer - INFO - Tokenizing enhanced texts for BM25...
2025-04-13 15:38:08,633 - src.core.indexing.document_indexer - INFO - Creating BM25 index...
2025-04-13 15:38:08,637 - src.core.indexing.document_indexer - INFO - Saving BM25 index and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-13 15:38:08,648 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (63 documents).
2025-04-13 15:38:08,650 - src.core.indexing.document_indexer - INFO - Indexing 63 chunks to Qdrant collection 'anticorruption_rag_e5_instruct'...
2025-04-13 15:38:08,737 - src.core.indexing.document_indexer - INFO - Collection 'anticorruption_rag_e5_instruct' already exists. Verifying configuration...
2025-04-13 15:38:08,747 - src.core.indexing.document_indexer - INFO - Generating embeddings for chunks...
2025-04-13 15:38:08,748 - src.core.indexing.document_indexer - INFO - Generating BGE-M3 embeddings for 63 texts (dense, sparse, colbert)...
2025-04-13 15:38:17,847 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated.
2025-04-13 15:38:17,852 - src.core.indexing.document_indexer - INFO - Embeddings generated in 9.10s
2025-04-13 15:38:17,853 - src.core.indexing.document_indexer - INFO - Preparing points for Qdrant upsert...
2025-04-13 15:38:18,931 - src.core.indexing.document_indexer - INFO - Upserting 63 points to Qdrant in 63 batches...
2025-04-13 15:38:19,259 - src.core.indexing.document_indexer - INFO - Upserted batch 1/63 (1 points)
2025-04-13 15:38:19,377 - src.core.indexing.document_indexer - INFO - Upserted batch 2/63 (1 points)
2025-04-13 15:38:19,640 - src.core.indexing.document_indexer - INFO - Upserted batch 3/63 (1 points)
2025-04-13 15:38:19,781 - src.core.indexing.document_indexer - INFO - Upserted batch 4/63 (1 points)
2025-04-13 15:38:19,919 - src.core.indexing.document_indexer - INFO - Upserted batch 5/63 (1 points)
2025-04-13 15:38:20,049 - src.core.indexing.document_indexer - INFO - Upserted batch 6/63 (1 points)
2025-04-13 15:38:20,184 - src.core.indexing.document_indexer - INFO - Upserted batch 7/63 (1 points)
2025-04-13 15:38:20,455 - src.core.indexing.document_indexer - INFO - Upserted batch 8/63 (1 points)
2025-04-13 15:38:20,754 - src.core.indexing.document_indexer - INFO - Upserted batch 9/63 (1 points)
2025-04-13 15:38:20,965 - src.core.indexing.document_indexer - INFO - Upserted batch 10/63 (1 points)
2025-04-13 15:38:21,137 - src.core.indexing.document_indexer - INFO - Upserted batch 11/63 (1 points)
2025-04-13 15:38:21,325 - src.core.indexing.document_indexer - INFO - Upserted batch 12/63 (1 points)
2025-04-13 15:38:21,529 - src.core.indexing.document_indexer - INFO - Upserted batch 13/63 (1 points)
2025-04-13 15:38:21,811 - src.core.indexing.document_indexer - INFO - Upserted batch 14/63 (1 points)
2025-04-13 15:38:21,954 - src.core.indexing.document_indexer - INFO - Upserted batch 15/63 (1 points)
2025-04-13 15:38:22,051 - src.core.indexing.document_indexer - INFO - Upserted batch 16/63 (1 points)
2025-04-13 15:38:22,106 - src.core.indexing.document_indexer - INFO - Upserted batch 17/63 (1 points)
2025-04-13 15:38:22,186 - src.core.indexing.document_indexer - INFO - Upserted batch 18/63 (1 points)
2025-04-13 15:38:22,347 - src.core.indexing.document_indexer - INFO - Upserted batch 19/63 (1 points)
2025-04-13 15:38:22,412 - src.core.indexing.document_indexer - INFO - Upserted batch 20/63 (1 points)
2025-04-13 15:38:22,481 - src.core.indexing.document_indexer - INFO - Upserted batch 21/63 (1 points)
2025-04-13 15:38:22,540 - src.core.indexing.document_indexer - INFO - Upserted batch 22/63 (1 points)
2025-04-13 15:38:22,703 - src.core.indexing.document_indexer - INFO - Upserted batch 23/63 (1 points)
2025-04-13 15:38:22,795 - src.core.indexing.document_indexer - INFO - Upserted batch 24/63 (1 points)
2025-04-13 15:38:22,861 - src.core.indexing.document_indexer - INFO - Upserted batch 25/63 (1 points)
2025-04-13 15:38:22,958 - src.core.indexing.document_indexer - INFO - Upserted batch 26/63 (1 points)
2025-04-13 15:38:23,034 - src.core.indexing.document_indexer - INFO - Upserted batch 27/63 (1 points)
2025-04-13 15:38:23,096 - src.core.indexing.document_indexer - INFO - Upserted batch 28/63 (1 points)
2025-04-13 15:38:23,178 - src.core.indexing.document_indexer - INFO - Upserted batch 29/63 (1 points)
2025-04-13 15:38:23,265 - src.core.indexing.document_indexer - INFO - Upserted batch 30/63 (1 points)
2025-04-13 15:38:23,338 - src.core.indexing.document_indexer - INFO - Upserted batch 31/63 (1 points)
2025-04-13 15:38:23,400 - src.core.indexing.document_indexer - INFO - Upserted batch 32/63 (1 points)
2025-04-13 15:38:23,479 - src.core.indexing.document_indexer - INFO - Upserted batch 33/63 (1 points)
2025-04-13 15:38:23,556 - src.core.indexing.document_indexer - INFO - Upserted batch 34/63 (1 points)
2025-04-13 15:38:23,615 - src.core.indexing.document_indexer - INFO - Upserted batch 35/63 (1 points)
2025-04-13 15:38:23,663 - src.core.indexing.document_indexer - INFO - Upserted batch 36/63 (1 points)
2025-04-13 15:38:23,710 - src.core.indexing.document_indexer - INFO - Upserted batch 37/63 (1 points)
2025-04-13 15:38:23,769 - src.core.indexing.document_indexer - INFO - Upserted batch 38/63 (1 points)
2025-04-13 15:38:23,866 - src.core.indexing.document_indexer - INFO - Upserted batch 39/63 (1 points)
2025-04-13 15:38:23,916 - src.core.indexing.document_indexer - INFO - Upserted batch 40/63 (1 points)
2025-04-13 15:38:24,002 - src.core.indexing.document_indexer - INFO - Upserted batch 41/63 (1 points)
2025-04-13 15:38:24,080 - src.core.indexing.document_indexer - INFO - Upserted batch 42/63 (1 points)
2025-04-13 15:38:24,145 - src.core.indexing.document_indexer - INFO - Upserted batch 43/63 (1 points)
2025-04-13 15:38:24,208 - src.core.indexing.document_indexer - INFO - Upserted batch 44/63 (1 points)
2025-04-13 15:38:24,284 - src.core.indexing.document_indexer - INFO - Upserted batch 45/63 (1 points)
2025-04-13 15:38:24,360 - src.core.indexing.document_indexer - INFO - Upserted batch 46/63 (1 points)
2025-04-13 15:38:24,433 - src.core.indexing.document_indexer - INFO - Upserted batch 47/63 (1 points)
2025-04-13 15:38:24,502 - src.core.indexing.document_indexer - INFO - Upserted batch 48/63 (1 points)
2025-04-13 15:38:24,579 - src.core.indexing.document_indexer - INFO - Upserted batch 49/63 (1 points)
2025-04-13 15:38:24,648 - src.core.indexing.document_indexer - INFO - Upserted batch 50/63 (1 points)
2025-04-13 15:38:24,724 - src.core.indexing.document_indexer - INFO - Upserted batch 51/63 (1 points)
2025-04-13 15:38:24,781 - src.core.indexing.document_indexer - INFO - Upserted batch 52/63 (1 points)
2025-04-13 15:38:24,889 - src.core.indexing.document_indexer - INFO - Upserted batch 53/63 (1 points)
2025-04-13 15:38:24,943 - src.core.indexing.document_indexer - INFO - Upserted batch 54/63 (1 points)
2025-04-13 15:38:25,035 - src.core.indexing.document_indexer - INFO - Upserted batch 55/63 (1 points)
2025-04-13 15:38:25,078 - src.core.indexing.document_indexer - INFO - Upserted batch 56/63 (1 points)
2025-04-13 15:38:25,181 - src.core.indexing.document_indexer - INFO - Upserted batch 57/63 (1 points)
2025-04-13 15:38:25,244 - src.core.indexing.document_indexer - INFO - Upserted batch 58/63 (1 points)
2025-04-13 15:38:25,290 - src.core.indexing.document_indexer - INFO - Upserted batch 59/63 (1 points)
2025-04-13 15:38:25,362 - src.core.indexing.document_indexer - INFO - Upserted batch 60/63 (1 points)
2025-04-13 15:38:25,427 - src.core.indexing.document_indexer - INFO - Upserted batch 61/63 (1 points)
2025-04-13 15:38:25,532 - src.core.indexing.document_indexer - INFO - Upserted batch 62/63 (1 points)
2025-04-13 15:38:25,691 - src.core.indexing.document_indexer - INFO - Upserted batch 63/63 (1 points)
2025-04-13 15:38:25,692 - src.core.indexing.document_indexer - INFO - Finished upserting points to Qdrant collection 'anticorruption_rag_e5_instruct'.
2025-04-13 15:38:25,827 - src.core.indexing.document_indexer - INFO - Indexing completed successfully for 63 chunks (Qdrant and BM25)
2025-04-13 15:38:25,829 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-13 15:38:25,830 - src.core.indexing.document_indexer - INFO - Attempting to unload BGE-M3 (FlagEmbedding) model components...
2025-04-13 15:38:27,474 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model and tokenizer references.
2025-04-13 15:38:31,905 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-13 15:38:31,963 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-13 15:38:32,423 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-13 15:38:32,427 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.51 GB, VMS: 42.39 GB
2025-04-13 15:38:32,429 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 15:38:32,578 - __main__ - INFO - Document processing completed successfully!
2025-04-13 15:38:32,579 - __main__ - INFO - Document processing call completed
2025-04-13 15:38:37,451 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:38:37,458 - __main__ - INFO - Syncing Aphrodite status: Running=True, Model Loaded=True, Model=Qwen/Qwen2.5-7B-Instruct, PID=25504
2025-04-13 15:38:37,462 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 15:38:37,464 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 15:38:37,466 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 15:38:37,480 - src.utils.conversation_store - INFO - Successfully loaded 12 conversations into memory.
2025-04-13 15:38:37,483 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 15:38:37,484 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 15:38:37,486 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 15:38:37,487 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 15:38:37,488 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:38:37,490 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 15:38:37,491 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 15:38:37,493 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 15:38:37,495 - src.core.query_system.query_engine - INFO - Process memory - RSS: 2.51 GB, VMS: 42.36 GB
2025-04-13 15:38:37,497 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 15:38:37,500 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:38:38,049 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 15:38:38,052 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:38:38,352 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-13 15:38:38,468 - src.core.query_system.query_engine - INFO - Retrieved 63 chunks for exploration.
2025-04-13 15:38:38,689 - __main__ - INFO - Loading relationships and entities from disk...
2025-04-13 15:38:38,694 - __main__ - INFO - Loaded 71 entities and 23 relationships.
2025-04-13 15:38:39,575 - __main__ - INFO - Building NetworkX multi-graphs for analysis...
2025-04-13 15:38:39,577 - __main__ - INFO - Created entity lookup with 71 valid entities.
2025-04-13 15:38:39,578 - __main__ - INFO - Analysis multi-graphs built: Directed (71 nodes, 23 edges), Undirected (71 nodes, 23 edges). Skipped 0 edges.
2025-04-13 15:38:39,586 - __main__ - WARNING - Eigenvector prep error: `eigenvector_centrality_numpy` does not give consistent results for disconnected graphs. Assigning 0.
2025-04-13 15:38:47,212 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:38:47,801 - src.utils.deepseek_manager - INFO - DeepSeek manager initialized with model: deepseek-reasoner
2025-04-13 15:38:49,781 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:38:49,955 - src.utils.deepseek_manager - INFO - DeepSeek manager initialized with model: deepseek-reasoner
2025-04-13 15:38:49,959 - src.utils.conversation_store - INFO - Created and saved new conversation c068626a-8b46-473a-808c-b290dcd5a5d3 with title 'New Conversation'
2025-04-13 15:38:50,464 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:38:50,622 - src.utils.deepseek_manager - INFO - DeepSeek manager initialized with model: deepseek-reasoner
2025-04-13 15:38:59,829 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:38:59,977 - src.utils.deepseek_manager - INFO - DeepSeek manager initialized with model: deepseek-reasoner
2025-04-13 15:39:00,006 - __main__ - INFO - Handling chat message: 'tell me about CryptoSecure ...'
2025-04-13 15:39:00,009 - __main__ - INFO - Retrieval decision for this turn: ENABLED (based on checkbox state when prompt was submitted).
2025-04-13 15:39:00,014 - __main__ - INFO - Performing RAG retrieval...
2025-04-13 15:39:00,069 - src.core.query_system.query_engine - INFO - Embedding/reranking models not loaded, loading now...
2025-04-13 15:39:00,072 - src.core.query_system.query_engine - INFO - ===== LOADING EMBEDDING/RERANKING MODELS =====
2025-04-13 15:39:00,073 - src.core.query_system.query_engine - INFO - Loading embedding model: BAAI/bge-m3 on cuda
2025-04-13 15:39:01,641 - src.core.query_system.query_engine - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-13 15:39:01,643 - src.core.query_system.query_engine - INFO - Loading reranking model: BAAI/bge-reranker-v2-m3 on cuda
2025-04-13 15:39:12,693 - src.core.query_system.query_engine - INFO - Loaded Reranker model using BatchedInference.
2025-04-13 15:39:12,695 - src.core.query_system.query_engine - INFO - Embedding/Reranking model loading completed in 12.62 seconds
2025-04-13 15:39:12,696 - src.core.query_system.query_engine - INFO - Process memory - RSS: 2.60 GB, VMS: 46.61 GB
2025-04-13 15:39:12,698 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 2.89 GB, Total: 8.00 GB
2025-04-13 15:39:12,701 - src.core.query_system.query_engine - INFO - Loading BM25 index from /home/t/lm_rag/data/bm25/index.pkl
2025-04-13 15:39:12,704 - src.core.query_system.query_engine - INFO - BM25 index loaded with 63 documents
2025-04-13 15:39:12,706 - src.core.query_system.query_engine - INFO - BM25 index loaded.
2025-04-13 15:39:12,707 - src.core.query_system.query_engine - INFO - Performing BGE-M3 retrieval (Qdrant Prefetch + ColBERT)...
2025-04-13 15:39:12,770 - src.core.query_system.query_engine - INFO - Generating BGE-M3 query embeddings (dense, sparse, colbert)...
2025-04-13 15:39:26,650 - src.core.query_system.query_engine - INFO - Using prefetch limit: 100 for dense/sparse.
2025-04-13 15:39:26,651 - src.core.query_system.query_engine - INFO - Performing Qdrant query_points with ColBERT reranking (limit: 50)...
2025-04-13 15:39:26,788 - src.core.query_system.query_engine - INFO - Qdrant query_points returned 50 results.
2025-04-13 15:39:26,790 - src.core.query_system.query_engine - INFO - Formatted vector search returned 50 results
2025-04-13 15:39:26,792 - src.core.query_system.query_engine - INFO - BGE-M3 Qdrant search returned 50 candidates.
2025-04-13 15:39:26,794 - src.core.query_system.query_engine - INFO - Applying cross-encoder reranking...
2025-04-13 15:39:26,795 - src.core.query_system.query_engine - INFO - Reranking 50 results using cross-encoder: BAAI/bge-reranker-v2-m3
2025-04-13 15:39:27,305 - src.core.query_system.query_engine - INFO - Cross-encoder reranking completed. Returning 3 results.
2025-04-13 15:39:27,306 - src.core.query_system.query_engine - INFO - Retrieval completed in 27.24s. Returning 3 final results.
2025-04-13 15:39:27,308 - __main__ - INFO - Retrieved 3 relevant sources.
2025-04-13 15:39:27,871 - __main__ - INFO - Initiating LLM response generation...
2025-04-13 15:39:27,874 - __main__ - INFO - Providing 3 context sources to LLM.
2025-04-13 15:39:27,875 - __main__ - INFO - Using DeepSeek model: deepseek-reasoner. Constructing raw prompt.
2025-04-13 15:39:27,876 - __main__ - INFO - Using DeepSeekManager - initiating streaming generation with raw prompt.
2025-04-13 15:39:27,877 - src.utils.deepseek_manager - INFO - Generating with DeepSeek API using model: deepseek-reasoner
2025-04-13 15:39:27,878 - src.utils.deepseek_manager - INFO - Using reasoner: True
2025-04-13 15:39:27,880 - src.utils.deepseek_manager - INFO - Starting streaming generation
2025-04-13 15:40:05,296 - src.utils.deepseek_manager - INFO - Streaming generation complete. Response length: 1091
2025-04-13 15:40:05,298 - src.utils.deepseek_manager - INFO - Reasoning process length: 1727
2025-04-13 15:40:05,301 - __main__ - INFO - LLM generation process finished. Final Answer length: 1091. Error: None
2025-04-13 15:40:05,306 - __main__ - INFO - Finished handling chat message cycle.
2025-04-13 15:41:01,157 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:41:08,807 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:41:10,483 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:41:11,530 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:41:11,611 - __main__ - INFO - Storing selected LLM for session: Qwen/Qwen2.5-7B-Instruct
2025-04-13 15:41:11,613 - __main__ - INFO - Starting document processing for 1 files
2025-04-13 15:41:11,614 - __main__ - INFO - Starting document processing with spreadsheet options. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']
2025-04-13 15:41:11,615 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-13 15:41:11,616 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-13 15:41:11,629 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-13 15:41:11,638 - __main__ - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 15:41:11,640 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-13 15:41:11,642 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 15:41:11,644 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-13 15:43:41,912 - src.core.document_processing.document_loader - INFO - Exporting Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf content to Markdown...
2025-04-13 15:44:11,549 - src.core.document_processing.document_loader - INFO - Docling processing successful for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf. Word count: 94174, Page count: 246
2025-04-13 15:44:11,667 - __main__ - INFO - Document loaded: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf, Content items: 1
2025-04-13 15:44:11,670 - __main__ - INFO - All documents loaded. Shutting down document loader (Docling) to free resources...
2025-04-13 15:44:11,671 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-13 15:44:11,677 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.62 GB, VMS: 46.06 GB
2025-04-13 15:44:11,678 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 2.59 GB, Reserved: 3.01 GB, Total: 8.00 GB
2025-04-13 15:44:11,679 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-13 15:44:11,682 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-13 15:44:11,683 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-13 15:44:12,136 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-13 15:44:12,138 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-13 15:44:12,202 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-13 15:44:12,204 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-13 15:44:12,205 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.56 GB, VMS: 45.99 GB
2025-04-13 15:44:12,206 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 2.13 GB, Reserved: 2.62 GB, Total: 8.00 GB
2025-04-13 15:44:12,207 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-13 15:44:12,633 - __main__ - INFO - Document loader shut down complete.
2025-04-13 15:44:12,635 - __main__ - INFO - Process memory - RSS: 2.56 GB, VMS: 45.99 GB
2025-04-13 15:44:12,637 - __main__ - INFO - GPU memory - Allocated: 2.13 GB, Reserved: 2.62 GB, Total: 8.00 GB
2025-04-13 15:44:12,638 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-13 15:44:12,639 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-13 15:44:12,640 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.56 GB, VMS: 45.99 GB
2025-04-13 15:44:12,641 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 2.13 GB, Reserved: 2.62 GB, Total: 8.00 GB
2025-04-13 15:44:12,642 - __main__ - INFO - Loading chunking model...
2025-04-13 15:44:12,643 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 15:44:12,643 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-13 15:44:12,644 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-13 15:44:12,645 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-13 15:44:12,646 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-13 15:44:16,929 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-13 15:44:16,931 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.28 seconds
2025-04-13 15:44:16,932 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.65 GB, VMS: 45.93 GB
2025-04-13 15:44:16,934 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 2.57 GB, Reserved: 2.65 GB, Total: 8.00 GB
2025-04-13 15:44:16,935 - __main__ - INFO - Chunking document 1/1: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 15:44:16,935 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (ID: b6b4bba8-e41c-4d50-bf59-96e25d818fa6, Type: .pdf)
2025-04-13 15:44:16,936 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf.
2025-04-13 15:44:16,937 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 608866 chars) using Markdown Header + Semantic chunking.
2025-04-13 15:44:16,956 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 244 initial structural chunks.
2025-04-13 15:44:24,906 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 502 potential chunks.
2025-04-13 15:44:24,908 - src.core.document_processing.document_chunker - WARNING - Chunk (length 8299) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 15:44:24,909 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 15:44:24,910 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6564) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 15:44:24,911 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 15:44:24,911 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6017) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 15:44:24,913 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 15:44:24,914 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5972) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 15:44:24,915 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 15:44:24,916 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7518) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 15:44:24,917 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 21 basic chunks.
2025-04-13 15:44:24,918 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7098) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 15:44:24,919 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 15:44:24,920 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7084) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 15:44:24,921 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 19 basic chunks.
2025-04-13 15:44:24,921 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5166) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 15:44:24,924 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 15 basic chunks.
2025-04-13 15:44:24,925 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5469) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 15:44:24,926 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 14 basic chunks.
2025-04-13 15:44:24,927 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5139) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 15:44:24,928 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 13 basic chunks.
2025-04-13 15:44:24,929 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 10 oversized chunks.
2025-04-13 15:44:24,929 - src.core.document_processing.document_chunker - INFO - Final processing created 672 chunks from text of length 608866.
2025-04-13 15:44:24,933 - src.core.document_processing.document_chunker - INFO - Chunking for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf completed in 8.00s.
2025-04-13 15:44:24,934 - src.core.document_processing.document_chunker - INFO - Created 672 total chunks: 0 spreadsheet rows, 492 semantic chunks, 0 sentence fallback chunks, 180 basic fallback chunks.
2025-04-13 15:44:24,935 - src.core.document_processing.document_chunker - INFO - Average chunk size: 881.6 characters.
2025-04-13 15:44:24,936 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.63 GB, VMS: 45.90 GB
2025-04-13 15:44:24,937 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 2.57 GB, Reserved: 3.08 GB, Total: 8.00 GB
2025-04-13 15:44:24,938 - __main__ - INFO - Created 672 chunks for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 15:44:24,939 - __main__ - INFO - Shutting down chunking model...
2025-04-13 15:44:24,939 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 15:44:24,940 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-13 15:44:24,941 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-13 15:44:24,942 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-13 15:44:24,947 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-13 15:44:25,574 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-13 15:44:25,578 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.63 GB, VMS: 45.90 GB
2025-04-13 15:44:25,580 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 2.13 GB, Reserved: 2.65 GB, Total: 8.00 GB
2025-04-13 15:44:25,581 - __main__ - INFO - Total chunks generated: 672
2025-04-13 15:44:25,581 - __main__ - INFO - Creating entity extractor with model Qwen/Qwen2.5-7B-Instruct
2025-04-13 15:44:25,582 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with model=Qwen/Qwen2.5-7B-Instruct, debug=True, using advanced deduplication.
2025-04-13 15:44:25,600 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.63 GB, VMS: 45.90 GB
2025-04-13 15:44:25,602 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 2.13 GB, Reserved: 2.65 GB, Total: 8.00 GB
2025-04-13 15:44:25,603 - __main__ - INFO - Starting entity extraction on 672 chunks (0 visual chunks)
2025-04-13 15:44:25,604 - src.core.extraction.entity_extractor - INFO - Adding 672 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-13 15:44:25,605 - src.core.extraction.entity_extractor - INFO - Added 672 chunks to queue. Processing now.
2025-04-13 15:44:25,606 - src.core.extraction.entity_extractor - INFO - Processing all 672 chunks...
2025-04-13 15:44:25,607 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.63 GB, VMS: 45.90 GB
2025-04-13 15:44:25,608 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 2.13 GB, Reserved: 2.65 GB, Total: 8.00 GB
2025-04-13 15:44:25,612 - src.core.extraction.entity_extractor - INFO - Extraction model Qwen/Qwen2.5-7B-Instruct already loaded.
2025-04-13 15:44:25,613 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks (0 spreadsheet rows)
2025-04-13 15:44:25,614 - src.core.extraction.entity_extractor - INFO - Processing in 1 batches of size 1024
2025-04-13 15:44:25,615 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (672 chunks)
2025-04-13 15:44:25,617 - src.core.extraction.entity_extractor - INFO - Sending batch of 672 prompts to service
2025-04-13 15:58:06,852 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:58:06,925 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 15:58:06,930 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 15:58:06,931 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 15:58:06,938 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 15:58:06,941 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 15:58:06,943 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 15:58:06,944 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 15:58:06,945 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 15:58:06,946 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:58:06,947 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 15:58:06,948 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 15:58:06,949 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 15:58:06,950 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.55 GB
2025-04-13 15:58:07,096 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 15:58:07,097 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:58:07,732 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 15:58:07,736 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:58:14,410 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:58:14,413 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 15:58:14,415 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 15:58:14,417 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 15:58:14,419 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 15:58:14,420 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 15:58:14,421 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 15:58:14,422 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 15:58:14,423 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 15:58:14,424 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:58:14,425 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 15:58:14,426 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 15:58:14,427 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 15:58:14,428 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.41 GB, VMS: 37.63 GB
2025-04-13 15:58:14,429 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 15:58:14,430 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:58:14,873 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 15:58:14,876 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:58:20,029 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:58:20,103 - __main__ - INFO - Clearing all indexed and extracted data...
2025-04-13 15:58:20,429 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-13 15:58:21,431 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-13 15:58:21,433 - src.core.query_system.query_engine - INFO - Stopwords file deleted: /home/t/lm_rag/data/bm25/stopwords.pkl
2025-04-13 15:58:21,435 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-13 15:58:21,436 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-13 15:58:21,438 - __main__ - INFO - Data clearing successful.
2025-04-13 15:58:21,491 - __main__ - INFO - Collection info after clearing: {'exists': False}
2025-04-13 15:58:21,952 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:59:12,833 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:59:12,872 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 15:59:12,875 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 15:59:12,878 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 15:59:12,880 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 15:59:12,883 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 15:59:12,886 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 15:59:12,887 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 15:59:12,888 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 15:59:12,888 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:59:12,889 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 15:59:12,891 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 15:59:12,892 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 15:59:12,893 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.55 GB
2025-04-13 15:59:12,970 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 15:59:12,971 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:59:13,480 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 15:59:13,483 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 15:59:20,166 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:59:21,956 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:59:22,477 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 15:59:22,540 - __main__ - INFO - Storing selected LLM for session: Qwen/Qwen2.5-7B-Instruct
2025-04-13 15:59:22,542 - __main__ - INFO - Starting document processing for 1 files
2025-04-13 15:59:22,544 - __main__ - INFO - Starting document processing with spreadsheet options. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']
2025-04-13 15:59:22,547 - __main__ - INFO - Starting Aphrodite service for document processing
2025-04-13 15:59:35,488 - __main__ - INFO - Aphrodite service started successfully
2025-04-13 15:59:35,489 - __main__ - INFO - Saved Aphrodite process info: PID=38502
2025-04-13 15:59:35,490 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-13 15:59:35,491 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-13 15:59:35,495 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-13 15:59:35,500 - __main__ - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 15:59:35,501 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-13 15:59:35,501 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 15:59:35,502 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-13 16:02:03,307 - src.core.document_processing.document_loader - INFO - Exporting Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf content to Markdown...
2025-04-13 16:02:32,821 - src.core.document_processing.document_loader - INFO - Docling processing successful for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf. Word count: 94174, Page count: 246
2025-04-13 16:02:32,959 - __main__ - INFO - Document loaded: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf, Content items: 1
2025-04-13 16:02:32,963 - __main__ - INFO - All documents loaded. Shutting down document loader (Docling) to free resources...
2025-04-13 16:02:32,964 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-13 16:02:32,966 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.79 GB, VMS: 40.81 GB
2025-04-13 16:02:32,967 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-13 16:02:32,968 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-13 16:02:32,971 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-13 16:02:32,972 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-13 16:02:33,487 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-13 16:02:33,488 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-13 16:02:33,510 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-13 16:02:33,512 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-13 16:02:33,513 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.74 GB, VMS: 40.76 GB
2025-04-13 16:02:33,514 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 16:02:33,515 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-13 16:02:33,914 - __main__ - INFO - Document loader shut down complete.
2025-04-13 16:02:33,916 - __main__ - INFO - Process memory - RSS: 2.74 GB, VMS: 40.76 GB
2025-04-13 16:02:33,917 - __main__ - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 16:02:33,918 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-13 16:02:33,919 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-13 16:02:33,920 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.74 GB, VMS: 40.76 GB
2025-04-13 16:02:33,921 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 16:02:33,922 - __main__ - INFO - Loading chunking model...
2025-04-13 16:02:33,923 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 16:02:33,924 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-13 16:02:33,924 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-13 16:02:33,925 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-13 16:02:33,926 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-13 16:02:37,169 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-13 16:02:37,170 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 3.24 seconds
2025-04-13 16:02:37,171 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.89 GB, VMS: 42.05 GB
2025-04-13 16:02:37,172 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 16:02:37,174 - __main__ - INFO - Chunking document 1/1: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 16:02:37,175 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (ID: 35a840a0-3a48-4663-a7a4-628c58a62416, Type: .pdf)
2025-04-13 16:02:37,176 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf.
2025-04-13 16:02:37,177 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 608866 chars) using Markdown Header + Semantic chunking.
2025-04-13 16:02:37,196 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 244 initial structural chunks.
2025-04-13 16:02:44,494 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 502 potential chunks.
2025-04-13 16:02:44,495 - src.core.document_processing.document_chunker - WARNING - Chunk (length 8299) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 16:02:44,496 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 16:02:44,497 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6564) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 16:02:44,498 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 16:02:44,499 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6017) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 16:02:44,500 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 16:02:44,501 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5972) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 16:02:44,502 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 16:02:44,503 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7518) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 16:02:44,504 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 21 basic chunks.
2025-04-13 16:02:44,505 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7098) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 16:02:44,507 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 16:02:44,509 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7084) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 16:02:44,511 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 19 basic chunks.
2025-04-13 16:02:44,513 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5166) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 16:02:44,518 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 15 basic chunks.
2025-04-13 16:02:44,519 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5469) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 16:02:44,521 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 14 basic chunks.
2025-04-13 16:02:44,521 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5139) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 16:02:44,522 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 13 basic chunks.
2025-04-13 16:02:44,523 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 10 oversized chunks.
2025-04-13 16:02:44,524 - src.core.document_processing.document_chunker - INFO - Final processing created 672 chunks from text of length 608866.
2025-04-13 16:02:44,528 - src.core.document_processing.document_chunker - INFO - Chunking for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf completed in 7.35s.
2025-04-13 16:02:44,529 - src.core.document_processing.document_chunker - INFO - Created 672 total chunks: 0 spreadsheet rows, 492 semantic chunks, 0 sentence fallback chunks, 180 basic fallback chunks.
2025-04-13 16:02:44,530 - src.core.document_processing.document_chunker - INFO - Average chunk size: 881.6 characters.
2025-04-13 16:02:44,531 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.89 GB, VMS: 42.03 GB
2025-04-13 16:02:44,532 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.97 GB, Total: 8.00 GB
2025-04-13 16:02:44,533 - __main__ - INFO - Created 672 chunks for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 16:02:44,534 - __main__ - INFO - Shutting down chunking model...
2025-04-13 16:02:44,534 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 16:02:44,535 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-13 16:02:44,536 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-13 16:02:44,537 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-13 16:02:44,544 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-13 16:02:45,153 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-13 16:02:45,157 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.89 GB, VMS: 42.03 GB
2025-04-13 16:02:45,158 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 16:02:45,159 - __main__ - INFO - Total chunks generated: 672
2025-04-13 16:02:45,160 - __main__ - INFO - Creating entity extractor with model Qwen/Qwen2.5-7B-Instruct
2025-04-13 16:02:45,162 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with model=Qwen/Qwen2.5-7B-Instruct, debug=True, using advanced deduplication.
2025-04-13 16:02:45,163 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.89 GB, VMS: 42.03 GB
2025-04-13 16:02:45,164 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 16:02:45,166 - __main__ - INFO - Starting entity extraction on 672 chunks (0 visual chunks)
2025-04-13 16:02:45,167 - src.core.extraction.entity_extractor - INFO - Adding 672 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-13 16:02:45,169 - src.core.extraction.entity_extractor - INFO - Added 672 chunks to queue. Processing now.
2025-04-13 16:02:45,170 - src.core.extraction.entity_extractor - INFO - Processing all 672 chunks...
2025-04-13 16:02:45,171 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.89 GB, VMS: 42.03 GB
2025-04-13 16:02:45,172 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 16:02:45,177 - src.core.extraction.entity_extractor - INFO - Loading designated extraction model: Qwen/Qwen2.5-7B-Instruct
2025-04-13 16:06:50,753 - src.core.extraction.entity_extractor - INFO - Model Qwen/Qwen2.5-7B-Instruct loaded successfully for extraction.
2025-04-13 16:06:50,757 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks (0 spreadsheet rows)
2025-04-13 16:06:50,758 - src.core.extraction.entity_extractor - INFO - Processing in 1 batches of size 1024
2025-04-13 16:06:50,759 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (672 chunks)
2025-04-13 16:06:50,779 - src.core.extraction.entity_extractor - INFO - Sending batch of 672 prompts to service
2025-04-13 16:43:28,052 - src.core.extraction.entity_extractor - INFO - Received response from service
2025-04-13 16:43:28,081 - src.core.extraction.entity_extractor - INFO - Service request/response took 2197.30s
2025-04-13 16:43:28,301 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 55efdf84-7305-4e3f-94b9-ae201c3fefeb: from_entity_type='LOCATION' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='UK' to_entity_type='LOCATION'
2025-04-13 16:43:28,311 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 55efdf84-7305-4e3f-94b9-ae201c3fefeb: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='indefinite leave to remain' to_entity_type='ASSET'
2025-04-13 16:43:28,322 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 55efdf84-7305-4e3f-94b9-ae201c3fefeb: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='June 2015' to_entity_type='ASSET'
2025-04-13 16:43:28,329 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 1e741b18-34ec-46f1-8710-b67a302ba24c: Unterminated string starting at: line 1 column 7120 (char 7119). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 16:43:28,333 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5396ee39-269f-4f6b-bb5c-f15beda2f759: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,335 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5396ee39-269f-4f6b-bb5c-f15beda2f759: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='judge' to_entity_type='POSITION'
2025-04-13 16:43:28,337 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5396ee39-269f-4f6b-bb5c-f15beda2f759: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='PFO' to_entity_type='ASSET'
2025-04-13 16:43:28,340 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5396ee39-269f-4f6b-bb5c-f15beda2f759: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Disclosure Order' to_entity_type='ASSET'
2025-04-13 16:43:28,342 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5396ee39-269f-4f6b-bb5c-f15beda2f759: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='financial institutions, law firms and other relevant third parties' to_entity_type='LOCATION'
2025-04-13 16:43:28,352 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk a5586a26-848a-4eb6-8f0c-6927fd8c644c: Unterminated string starting at: line 1 column 8084 (char 8083). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 16:43:28,358 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a26fc94b-f1c1-4fc3-beda-bc93ecda2949: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,394 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a26fc94b-f1c1-4fc3-beda-bc93ecda2949: from_entity_type='ASSET' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,395 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 915c5bd7-67b1-4304-b53f-ee9183e73816: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='LOCATED_IN' relationship_description='Used to hold bank accounts' to_entity_name='a number of jurisdictions' to_entity_type='LOCATION'
2025-04-13 16:43:28,412 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk de847189-803b-43b4-8ed7-0467c5833334: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,417 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 808b5e68-c8e7-485e-991a-8c8cefe477ce: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='income' to_entity_type='ASSET'
2025-04-13 16:43:28,421 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bff0f722-139c-4300-b45a-42314dffce9b: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='the KB Companies presentation' to_entity_type='ASSET'
2025-04-13 16:43:28,442 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 05018b99-6f74-43e6-ab60-4e87f8361511: Unterminated string starting at: line 1 column 7502 (char 7501). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 16:43:28,448 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk b1bfcf0d-0d67-4041-8285-8cb849453efe: Expecting value: line 1 column 7360 (char 7359). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "My clients", "r...'
2025-04-13 16:43:28,451 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk db100009-a4e7-4d77-baab-b092e8970fd3: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Azerbaijan' to_entity_type='LOCATION'
2025-04-13 16:43:28,454 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk d92076b0-7e99-4b5c-8d33-5f7463f11ca1: Unterminated string starting at: line 1 column 8137 (char 8136). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 16:43:28,456 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 28702c09-06b8-4f51-b742-ff22342c3ec7: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,458 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 28702c09-06b8-4f51-b742-ff22342c3ec7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,460 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk f988ba7b-38d0-451f-9e72-ea2ccb2e65a0: Expecting ',' delimiter: line 1 column 7736 (char 7735). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 16:43:28,462 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b407cefe-4813-4e68-9e23-962e44201cb2: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,470 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d577331c-e319-4083-bc38-a0b38d28d52c: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='correspond to the dates and amounts of promissory notes and loan agreements' to_entity_name='promissory notes and loan agreements' to_entity_type='ASSET'
2025-04-13 16:43:28,528 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1cba541f-b986-4e8b-be35-e7a65137bcfa: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,573 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 70f7b1f3-70af-4e19-a855-4aa86aca09fd: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,575 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 70f7b1f3-70af-4e19-a855-4aa86aca09fd: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,582 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e8250c46-6fbd-4c7c-a73f-77f33c794bdb: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,585 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk f510246b-8178-4b97-a3a7-24e24a713f2a: Unterminated string starting at: line 1 column 8084 (char 8083). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 16:43:28,587 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 032f9309-2611-4aa9-80cd-f9a64217c9d3: Unterminated string starting at: line 1 column 7728 (char 7727). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "OCCRP"...'
2025-04-13 16:43:28,591 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 982cedd8-4f8b-45db-b3bf-b672706883da: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OCCRP' to_entity_type='NGO'
2025-04-13 16:43:28,595 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0657e1fb-1113-44bf-9cdd-ad4ec9161bc1: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,598 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 672eb7d6-e337-4ff6-a2d0-28e62780da55: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,617 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 672eb7d6-e337-4ff6-a2d0-28e62780da55: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,619 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1c444b2d-abf2-4e31-b0b2-5b1c736a0647: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,623 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1c444b2d-abf2-4e31-b0b2-5b1c736a0647: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,629 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 3956a0f0-603c-4160-8095-f4b5772980a9: Unterminated string starting at: line 1 column 8193 (char 8192). Content: '{"entity_relationship_list": [{"from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "rel...'
2025-04-13 16:43:28,631 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 4389d8c8-e77a-447f-b8c2-d3f7617e2644: Expecting property name enclosed in double quotes: line 1 column 7882 (char 7881). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 6,...'
2025-04-13 16:43:28,634 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a75a0530-d693-4ef2-8a49-d01ef05ca457: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='FATF' to_entity_type='GOVERNMENT_BODY'
2025-04-13 16:43:28,635 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a75a0530-d693-4ef2-8a49-d01ef05ca457: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OECD' to_entity_type='GOVERNMENT_BODY'
2025-04-13 16:43:28,637 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a75a0530-d693-4ef2-8a49-d01ef05ca457: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='NCA' to_entity_type='GOVERNMENT_BODY'
2025-04-13 16:43:28,638 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a75a0530-d693-4ef2-8a49-d01ef05ca457: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Companies House' to_entity_type='GOVERNMENT_BODY'
2025-04-13 16:43:28,641 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 04797e03-5715-48c8-8f17-b5d205e90807: Unterminated string starting at: line 1 column 7636 (char 7635). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "USD 5,...'
2025-04-13 16:43:28,721 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3e6b5edd-cbf3-4c18-b5ec-5ea272bff571: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='loan' to_entity_type='MONEY'
2025-04-13 16:43:28,761 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5ba26b9d-81aa-43a9-86eb-aff42fd74806: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,765 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5db55bc9-13ff-4ffb-8be3-5f15e4c6009b: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,771 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f210bb5a-3430-481e-861b-44c20580d1ea: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,773 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8d0d961f-be70-4ab3-ab12-f536f0ff7f5e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,794 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 993c1fca-9ec2-4a63-b912-3f0c49d6f600: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='DH Leasing' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 16:43:28,796 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk fccd0f78-a251-43ac-90ee-551c6eaaa481: Unterminated string starting at: line 1 column 8160 (char 8159). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 16:43:28,812 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9fd3d26d-5e3f-454c-837c-c1c52bb388c2: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Isle of Man' to_entity_type='LOCATION'
2025-04-13 16:43:28,817 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5f027fe3-abb0-4a36-8c14-a00659dc384a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='IBA-Moscow' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 16:43:28,830 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5f027fe3-abb0-4a36-8c14-a00659dc384a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='transactions' to_entity_type='ASSET'
2025-04-13 16:43:28,839 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk afe63e43-b54a-41ee-a074-ad1b1691a0d2: Expecting value: line 1 column 7655 (char 7654). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "EUR 2,...'
2025-04-13 16:43:28,841 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 933d8034-e69d-4fbf-98e5-7f0f068ecccd: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Regulated firms were required to carry out due diligence' to_entity_name='regulated firms' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 16:43:28,847 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 933d8034-e69d-4fbf-98e5-7f0f068ecccd: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Source of funds and source of wealth' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 16:43:28,849 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 933d8034-e69d-4fbf-98e5-7f0f068ecccd: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Income' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 16:43:28,851 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 819c906c-e8ba-4327-8d4c-eafa8a58bdcb: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Employed' to_entity_name='Tab C1' to_entity_type='LOCATION'
2025-04-13 16:43:28,858 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e81056ed-e9ce-45b2-bafc-51efc58c2c0c: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,863 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 9b51c105-7b02-4eb7-b057-47c01313e26e: Expecting ',' delimiter: line 1 column 7614 (char 7613). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 16:43:28,865 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 77f7ce1f-6bcc-4f6c-9f55-ffcec95191eb: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,866 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 7cb5679d-6410-447f-8cdf-bb21365df960: Unterminated string starting at: line 1 column 7527 (char 7526). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 16:43:28,868 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 1d54b841-07b8-41a5-bcc7-3fbe7ade8c5c: Unterminated string starting at: line 1 column 7146 (char 7145). Content: '{ "entity_relationship_list": [ { "from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "Glo...'
2025-04-13 16:43:28,877 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 198c4ab7-d43f-4bb0-9835-612990e151fe: from_entity_type=None from_entity_name='Tea Construction' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,884 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 198c4ab7-d43f-4bb0-9835-612990e151fe: from_entity_type=None from_entity_name='Eroil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,885 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 198c4ab7-d43f-4bb0-9835-612990e151fe: from_entity_type=None from_entity_name='Mea Oil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,887 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 198c4ab7-d43f-4bb0-9835-612990e151fe: from_entity_type=None from_entity_name='TPD Trading Petrol and Drilling' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,888 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 198c4ab7-d43f-4bb0-9835-612990e151fe: from_entity_type=None from_entity_name='Tiara' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,889 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 198c4ab7-d43f-4bb0-9835-612990e151fe: from_entity_type=None from_entity_name='Migao Corporation' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,890 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 198c4ab7-d43f-4bb0-9835-612990e151fe: from_entity_type=None from_entity_name='Anglo Asian Mining Plc' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,893 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 81c08183-4d3c-4154-ae2d-a2761a04b22d: Unterminated string starting at: line 1 column 6734 (char 6733). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 16:43:28,899 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk e2d4a812-60a0-4595-b73c-02f1336cb8af: Unterminated string starting at: line 1 column 8328 (char 8327). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 16:43:28,916 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 2ba22f80-8550-4bcf-85ae-ec1dc5c3293a: Unterminated string starting at: line 1 column 7445 (char 7444). Content: '{"entity_relationship_list": [{"from_entity_type": "ASSET", "from_entity_name": "7.9 12-14 Walton St...'
2025-04-13 16:43:28,918 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1162c6bf-0214-42ed-bf61-e7584deba381: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='BVI' to_entity_type='LOCATION'
2025-04-13 16:43:28,921 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6c9b2e26-bedf-44ac-9c65-ff6fcab8eff2: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,925 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6c9b2e26-bedf-44ac-9c65-ff6fcab8eff2: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,926 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0b286c3e-1343-410b-bae9-511f7097ef16: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,928 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6ab0782e-1c95-4ce7-94ec-5481f2ff189d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Azerbaijan' to_entity_type='LOCATION'
2025-04-13 16:43:28,935 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9d7765aa-36d7-441b-b003-21aac832c5b0: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,941 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 916b4647-63f5-4100-9993-3d28cc0126f6: from_entity_type='PERSON' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,942 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 916b4647-63f5-4100-9993-3d28cc0126f6: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,944 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ca01d4f4-5052-48da-9f04-76fe228d0416: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,945 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ca01d4f4-5052-48da-9f04-76fe228d0416: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,946 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9be44162-2867-490d-9167-28ea2f7b01be: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,948 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8b2e09fc-555b-41e5-9dc3-fa38a9288d61: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,949 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7214c1cc-62bd-4a74-be84-51f092bbccb1: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,981 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 3bb9b1c7-4c8e-4bf9-98a2-f29da158153e: Unterminated string starting at: line 1 column 8004 (char 8003). Content: '{"entity_relationship_list": [{"from_entity_type": "LOCATION", "from_entity_name": "Guernsey", "rela...'
2025-04-13 16:43:28,987 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 2a527965-8442-4488-9d2a-6571f59b6b83: Unterminated string starting at: line 1 column 7469 (char 7468). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 16:43:28,989 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 786a0138-7645-43f2-b63c-4a6a7959ed01: Unterminated string starting at: line 1 column 7134 (char 7133). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Mateos", "re...'
2025-04-13 16:43:28,991 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7e8c4159-b74b-4c01-8d43-f025cc10a7a8: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,993 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7e8c4159-b74b-4c01-8d43-f025cc10a7a8: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,994 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ff620b30-afcf-4f51-a3b3-d0de602619b4: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:28,998 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ff620b30-afcf-4f51-a3b3-d0de602619b4: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:29,003 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 07d73344-848d-4fee-8efd-dc744b3b57bc: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:29,004 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 07d73344-848d-4fee-8efd-dc744b3b57bc: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:29,005 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 5516ad94-a80b-4e37-891d-8b104d72d4c2: Unterminated string starting at: line 1 column 7803 (char 7802). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Georgiou", "...'
2025-04-13 16:43:29,007 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7f988abd-a91c-4e90-8c0f-7083819aabd4: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:29,008 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7f988abd-a91c-4e90-8c0f-7083819aabd4: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Mill Ride Golf Club' to_entity_type='ASSET'
2025-04-13 16:43:29,009 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7f988abd-a91c-4e90-8c0f-7083819aabd4: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='LOCATED_IN' relationship_description='Offshore trust structure' to_entity_name=None to_entity_type=None
2025-04-13 16:43:29,010 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c9f74a8b-98e0-43a1-a12e-77e63d87d481: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:29,012 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 22b60bc2-9f8f-4377-bcb9-016234d2891a: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:29,015 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 22b60bc2-9f8f-4377-bcb9-016234d2891a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:29,017 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk b69e1f96-38ed-40ad-8105-362837d1bc49: Unterminated string starting at: line 1 column 6271 (char 6270). Content: '{"entity_relationship_list": [{"from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 620,0...'
2025-04-13 16:43:29,035 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 1a29b1d6-268c-4e36-be5d-bb49865ab2e4: Expecting value: line 1 column 7868 (char 7867). Content: '{"entity_relationship_list": [{"from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "Semfra...'
2025-04-13 16:43:29,037 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d1bdb20c-5d86-451d-96d7-86bc3a1c805a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='account number LU190023192776665200' to_entity_type='ASSET'
2025-04-13 16:43:29,039 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bf207268-5631-4ed4-a5d3-657c855abc2c: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:29,040 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bf207268-5631-4ed4-a5d3-657c855abc2c: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:29,124 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 10825bef-8e35-4793-94f1-0298fa231a47: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:29,163 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 10825bef-8e35-4793-94f1-0298fa231a47: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:29,230 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 842e3979-f112-4ac1-b2cc-a49a40077f69: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:29,232 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 842e3979-f112-4ac1-b2cc-a49a40077f69: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 16:43:29,234 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk f22b1f9b-0f33-4372-a764-54c4cdd1cb9b: Unterminated string starting at: line 1 column 7459 (char 7458). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 16:43:29,235 - src.core.extraction.entity_extractor - INFO - Processed batch results in 1.15s. Total batch time: 2198.47s
2025-04-13 16:43:29,237 - src.core.extraction.entity_extractor - INFO - Batch Stats: Success=646, Parse Errors=26, Missing Outputs=0
2025-04-13 16:43:29,250 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 2198.49s
2025-04-13 16:43:29,300 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-13 16:43:29,302 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 4700 entities, 1345 relationships.
2025-04-13 16:43:29,302 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-13 16:43:29,303 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 4700 raw entities...
2025-04-13 16:43:29,942 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-13 16:43:30,365 - src.core.extraction.entity_extractor - WARNING - Removed 16 entities with empty normalized names.
2025-04-13 16:43:30,368 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-13 16:43:32,281 - src.core.extraction.entity_extractor - INFO - Generated 171254 candidate pairs across all types.
2025-04-13 16:43:32,283 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-13 16:43:50,234 - src.core.extraction.entity_extractor - INFO - Found 142009 potential duplicate pairs after comparison.
2025-04-13 16:43:50,237 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-13 16:43:55,986 - src.core.extraction.entity_extractor - INFO - Found 1356 clusters (including singletons).
2025-04-13 16:43:55,988 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-13 16:43:56,206 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 1356.
2025-04-13 16:43:56,255 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs based on entity deduplication map...
2025-04-13 16:43:56,257 - src.core.extraction.entity_extractor - INFO - Updating 1345 raw relationships with canonical entity IDs...
2025-04-13 16:43:56,260 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 1322, Updated IDs in 1249, Skipped 23 (self-loops or missing mappings).
2025-04-13 16:43:56,261 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-13 16:43:56,262 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-13 16:43:56,263 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 119 duplicates. Final count: 1203.
2025-04-13 16:43:56,265 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 1356 entities, 1203 relationships.
2025-04-13 16:43:56,296 - src.core.extraction.entity_extractor - INFO - Saved 1356 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-13 16:43:56,321 - src.core.extraction.entity_extractor - INFO - Saved 1203 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-13 16:43:56,322 - __main__ - INFO - Entity extraction complete. Modified chunks: 672
2025-04-13 16:43:56,823 - __main__ - INFO - QueryEngine LLM model updated to: Qwen/Qwen2.5-7B-Instruct
2025-04-13 16:43:56,836 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-13 16:43:56,846 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 16:43:56,848 - src.core.indexing.document_indexer - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct, Timeout: 900s
2025-04-13 16:43:56,849 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-13 16:43:56,850 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-13 16:43:56,855 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.85 GB, VMS: 42.02 GB
2025-04-13 16:43:56,863 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 16:43:56,864 - __main__ - INFO - Loading indexing model...
2025-04-13 16:43:56,866 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-13 16:43:56,867 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-13 16:43:56,868 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-13 16:44:00,635 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-13 16:44:00,636 - src.core.indexing.document_indexer - INFO - Updated expected vector size from BGE-M3 model config: 1024
2025-04-13 16:44:00,638 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 3.77 seconds
2025-04-13 16:44:00,639 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.88 GB, VMS: 44.13 GB
2025-04-13 16:44:00,641 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 16:44:00,764 - __main__ - INFO - Indexing 672 chunks
2025-04-13 16:44:00,766 - src.core.indexing.document_indexer - INFO - Starting indexing process for 672 chunks...
2025-04-13 16:44:00,768 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-13 16:44:00,770 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 672 chunks...
2025-04-13 16:44:00,815 - src.core.indexing.document_indexer - INFO - Tokenizing enhanced texts for BM25...
2025-04-13 16:44:01,364 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-13 16:44:01,383 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-13 16:44:01,386 - src.core.indexing.document_indexer - INFO - Saving BM25 index and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-13 16:44:01,404 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (672 documents processed).
2025-04-13 16:44:01,418 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.65s (Success: True)
2025-04-13 16:44:01,419 - src.core.indexing.document_indexer - INFO - Indexing 672 chunks to Qdrant collection 'anticorruption_rag_e5_instruct'...
2025-04-13 16:44:01,423 - src.core.indexing.document_indexer - INFO - Connecting to Qdrant at localhost:6333 with timeout 900s
2025-04-13 16:44:01,499 - src.core.indexing.document_indexer - ERROR - Unexpected error during Qdrant indexing orchestration: fastembed is not installed. Please install it to enable fast vector indexing with `pip install fastembed`.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/core/indexing/document_indexer.py", line 415, in _index_to_qdrant
    client.set_model(self.embedding_model_name) # Inform client about the model (useful for some operations)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/qdrant_fastembed.py", line 163, in set_model
    self._get_or_init_model(
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/qdrant_fastembed.py", line 259, in _get_or_init_model
    cls._import_fastembed()
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/qdrant_fastembed.py", line 231, in _import_fastembed
    raise ImportError(
ImportError: fastembed is not installed. Please install it to enable fast vector indexing with `pip install fastembed`.
2025-04-13 16:44:01,537 - src.core.indexing.document_indexer - INFO - Qdrant indexing took 0.12s (Success: False)
2025-04-13 16:44:01,538 - src.core.indexing.document_indexer - WARNING - INDEXING COMPLETED (Fallback): Indexed 672 chunks to BM25 only in 0.77s due to Qdrant failure.
2025-04-13 16:44:01,539 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-13 16:44:01,540 - src.core.indexing.document_indexer - INFO - Attempting to unload BGE-M3 (FlagEmbedding) model components...
2025-04-13 16:44:01,748 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model and tokenizer references.
2025-04-13 16:44:11,755 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-13 16:44:12,924 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-13 16:44:13,354 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-13 16:44:13,357 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.88 GB, VMS: 42.02 GB
2025-04-13 16:44:13,358 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 16:44:13,675 - __main__ - INFO - Document processing completed successfully!
2025-04-13 16:44:13,684 - __main__ - INFO - Document processing call completed
2025-04-13 16:59:34,958 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 16:59:34,965 - __main__ - INFO - Syncing Aphrodite status: Running=True, Model Loaded=True, Model=Qwen/Qwen2.5-7B-Instruct, PID=38502
2025-04-13 16:59:34,967 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 16:59:34,969 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 16:59:34,971 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 16:59:35,007 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 16:59:35,010 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 16:59:35,011 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 16:59:35,013 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 16:59:35,014 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 16:59:35,015 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 16:59:35,017 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 16:59:35,018 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 16:59:35,019 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 16:59:35,021 - src.core.query_system.query_engine - INFO - Process memory - RSS: 2.87 GB, VMS: 41.98 GB
2025-04-13 16:59:35,022 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 16:59:35,023 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 16:59:35,577 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 16:59:35,579 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 16:59:40,005 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 16:59:40,243 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-13 16:59:40,245 - __main__ - WARNING - No document names found in retrieved chunks metadata.
2025-04-13 16:59:40,314 - src.core.query_system.query_engine - WARNING - Collection anticorruption_rag_e5_instruct does not exist
2025-04-13 16:59:40,403 - __main__ - INFO - Loading relationships and entities from disk...
2025-04-13 16:59:40,422 - __main__ - INFO - Loaded 1356 entities and 1203 relationships.
2025-04-13 16:59:41,187 - __main__ - INFO - Building NetworkX multi-graphs for analysis...
2025-04-13 16:59:41,190 - __main__ - INFO - Created entity lookup with 1356 valid entities.
2025-04-13 16:59:41,205 - __main__ - INFO - Analysis multi-graphs built: Directed (1356 nodes, 1203 edges), Undirected (1356 nodes, 1203 edges). Skipped 0 edges.
2025-04-13 16:59:41,261 - __main__ - WARNING - Eigenvector prep error: `eigenvector_centrality_numpy` does not give consistent results for disconnected graphs. Assigning 0.
2025-04-13 17:00:08,337 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 17:00:14,363 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 17:00:15,978 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 17:00:16,753 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 17:00:16,841 - __main__ - INFO - Storing selected LLM for session: Qwen/Qwen2.5-7B-Instruct
2025-04-13 17:00:16,843 - __main__ - INFO - Starting document processing for 1 files
2025-04-13 17:00:16,845 - __main__ - INFO - Starting document processing with spreadsheet options. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']
2025-04-13 17:00:16,848 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-13 17:00:16,850 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-13 17:00:16,859 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-13 17:00:16,883 - __main__ - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 17:00:16,885 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-13 17:00:16,886 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 17:00:16,888 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-13 17:02:58,039 - src.core.document_processing.document_loader - INFO - Exporting Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf content to Markdown...
2025-04-13 17:03:28,813 - src.core.document_processing.document_loader - INFO - Docling processing successful for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf. Word count: 94174, Page count: 246
2025-04-13 17:03:28,942 - __main__ - INFO - Document loaded: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf, Content items: 1
2025-04-13 17:03:28,951 - __main__ - INFO - All documents loaded. Shutting down document loader (Docling) to free resources...
2025-04-13 17:03:28,952 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-13 17:03:28,962 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.98 GB, VMS: 42.73 GB
2025-04-13 17:03:28,965 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.47 GB, Reserved: 0.78 GB, Total: 8.00 GB
2025-04-13 17:03:28,967 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-13 17:03:28,969 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-13 17:03:28,971 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-13 17:03:29,471 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-13 17:03:29,473 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-13 17:03:29,505 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-13 17:03:29,506 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-13 17:03:29,507 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.83 GB, VMS: 42.58 GB
2025-04-13 17:03:29,508 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 17:03:29,509 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-13 17:03:29,942 - __main__ - INFO - Document loader shut down complete.
2025-04-13 17:03:29,946 - __main__ - INFO - Process memory - RSS: 2.83 GB, VMS: 42.58 GB
2025-04-13 17:03:29,947 - __main__ - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 17:03:29,948 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-13 17:03:29,949 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-13 17:03:29,950 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.83 GB, VMS: 42.58 GB
2025-04-13 17:03:29,951 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 17:03:29,952 - __main__ - INFO - Loading chunking model...
2025-04-13 17:03:29,953 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 17:03:29,954 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-13 17:03:29,954 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-13 17:03:29,955 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-13 17:03:29,956 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-13 17:03:34,153 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-13 17:03:34,155 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.20 seconds
2025-04-13 17:03:34,156 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.96 GB, VMS: 42.71 GB
2025-04-13 17:03:34,157 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 17:03:34,158 - __main__ - INFO - Chunking document 1/1: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 17:03:34,159 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (ID: 4aa3f7db-104d-4172-9c06-8c83764a51d3, Type: .pdf)
2025-04-13 17:03:34,160 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf.
2025-04-13 17:03:34,161 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 608866 chars) using Markdown Header + Semantic chunking.
2025-04-13 17:03:34,178 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 244 initial structural chunks.
2025-04-13 17:03:42,433 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 502 potential chunks.
2025-04-13 17:03:42,434 - src.core.document_processing.document_chunker - WARNING - Chunk (length 8299) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 17:03:42,436 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 17:03:42,437 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6564) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 17:03:42,438 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 17:03:42,438 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6017) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 17:03:42,440 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 17:03:42,441 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5972) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 17:03:42,442 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 17:03:42,443 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7518) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 17:03:42,444 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 21 basic chunks.
2025-04-13 17:03:42,445 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7098) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 17:03:42,446 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 17:03:42,447 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7084) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 17:03:42,448 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 19 basic chunks.
2025-04-13 17:03:42,449 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5166) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 17:03:42,452 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 15 basic chunks.
2025-04-13 17:03:42,453 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5469) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 17:03:42,454 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 14 basic chunks.
2025-04-13 17:03:42,455 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5139) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 17:03:42,456 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 13 basic chunks.
2025-04-13 17:03:42,457 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 10 oversized chunks.
2025-04-13 17:03:42,458 - src.core.document_processing.document_chunker - INFO - Final processing created 672 chunks from text of length 608866.
2025-04-13 17:03:42,462 - src.core.document_processing.document_chunker - INFO - Chunking for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf completed in 8.30s.
2025-04-13 17:03:42,463 - src.core.document_processing.document_chunker - INFO - Created 672 total chunks: 0 spreadsheet rows, 492 semantic chunks, 0 sentence fallback chunks, 180 basic fallback chunks.
2025-04-13 17:03:42,464 - src.core.document_processing.document_chunker - INFO - Average chunk size: 881.6 characters.
2025-04-13 17:03:42,465 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.94 GB, VMS: 42.69 GB
2025-04-13 17:03:42,466 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.97 GB, Total: 8.00 GB
2025-04-13 17:03:42,467 - __main__ - INFO - Created 672 chunks for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 17:03:42,468 - __main__ - INFO - Shutting down chunking model...
2025-04-13 17:03:42,469 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 17:03:42,470 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-13 17:03:42,470 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-13 17:03:42,471 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-13 17:03:42,479 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-13 17:03:43,123 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-13 17:03:43,126 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.94 GB, VMS: 42.68 GB
2025-04-13 17:03:43,127 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 17:03:43,128 - __main__ - INFO - Total chunks generated: 672
2025-04-13 17:03:43,129 - __main__ - INFO - Creating entity extractor with model Qwen/Qwen2.5-7B-Instruct
2025-04-13 17:03:43,130 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with model=Qwen/Qwen2.5-7B-Instruct, debug=True, using advanced deduplication.
2025-04-13 17:03:43,131 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.94 GB, VMS: 42.68 GB
2025-04-13 17:03:43,132 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 17:03:43,132 - __main__ - INFO - Starting entity extraction on 672 chunks (0 visual chunks)
2025-04-13 17:03:43,133 - src.core.extraction.entity_extractor - INFO - Adding 672 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-13 17:03:43,135 - src.core.extraction.entity_extractor - INFO - Added 672 chunks to queue. Processing now.
2025-04-13 17:03:43,135 - src.core.extraction.entity_extractor - INFO - Processing all 672 chunks...
2025-04-13 17:03:43,136 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.94 GB, VMS: 42.68 GB
2025-04-13 17:03:43,137 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 17:03:43,140 - src.core.extraction.entity_extractor - INFO - Extraction model Qwen/Qwen2.5-7B-Instruct already loaded.
2025-04-13 17:03:43,141 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks (0 spreadsheet rows)
2025-04-13 17:03:43,142 - src.core.extraction.entity_extractor - INFO - Processing in 1 batches of size 1024
2025-04-13 17:03:43,142 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (672 chunks)
2025-04-13 17:03:43,144 - src.core.extraction.entity_extractor - INFO - Sending batch of 672 prompts to service
2025-04-13 17:41:05,844 - src.core.extraction.entity_extractor - INFO - Received response from service
2025-04-13 17:41:05,880 - src.core.extraction.entity_extractor - INFO - Service request/response took 2242.73s
2025-04-13 17:41:05,922 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 61af73ca-adf9-4e9f-b94a-7180faa4a87b: from_entity_type=None from_entity_name='Totalserve Trust Company Ltd' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:05,929 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 61af73ca-adf9-4e9f-b94a-7180faa4a87b: from_entity_type=None from_entity_name='AAG Trusteeship' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:05,932 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8d2a125d-78ae-4386-a61c-dc91259d4996: from_entity_type='LOCATION' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='UK' to_entity_type='LOCATION'
2025-04-13 17:41:05,935 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8d2a125d-78ae-4386-a61c-dc91259d4996: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='indefinite leave to remain' to_entity_type='ASSET'
2025-04-13 17:41:05,937 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8d2a125d-78ae-4386-a61c-dc91259d4996: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='June 2015' to_entity_type='ASSET'
2025-04-13 17:41:05,942 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 3cfbb086-cdb1-4f72-8b3b-b1f97d8152f5: Expecting property name enclosed in double quotes: line 1 column 7316 (char 7315). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 17:41:05,948 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 820a5925-dae7-4e98-ad24-16a07afc5664: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:05,950 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 820a5925-dae7-4e98-ad24-16a07afc5664: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='judge' to_entity_type='POSITION'
2025-04-13 17:41:05,952 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 820a5925-dae7-4e98-ad24-16a07afc5664: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='PFO' to_entity_type='ASSET'
2025-04-13 17:41:05,953 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 820a5925-dae7-4e98-ad24-16a07afc5664: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Disclosure Order' to_entity_type='ASSET'
2025-04-13 17:41:05,955 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 820a5925-dae7-4e98-ad24-16a07afc5664: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='financial institutions, law firms and other relevant third parties' to_entity_type='NGO'
2025-04-13 17:41:05,958 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 378c8247-d20b-49f2-a497-6ea9f92be4fd: Unterminated string starting at: line 1 column 8084 (char 8083). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 17:41:05,962 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7ed37236-ddc4-4dad-8a19-1eaa9d43f6e5: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:05,964 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7ed37236-ddc4-4dad-8a19-1eaa9d43f6e5: from_entity_type='ASSET' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:05,969 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk deb03f2d-6536-4238-a866-5f2100122ed5: Unterminated string starting at: line 1 column 7121 (char 7120). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "IBA", ...'
2025-04-13 17:41:05,973 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c4423acf-effd-42c3-bb63-48bc646e437a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='income' to_entity_type='ASSET'
2025-04-13 17:41:05,976 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7a5e52df-8c4b-4c98-b0fa-7b113d883476: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='the KB Companies presentation' to_entity_type='ASSET'
2025-04-13 17:41:05,983 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 2abaa34c-dacc-470d-bfd2-ed92e04ce7dd: Unterminated string starting at: line 1 column 7920 (char 7919). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 17:41:05,986 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 0317d9c9-5da0-4c21-9634-b2c9bb3b9e53: Expecting value: line 1 column 7598 (char 7597). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "My clients", "r...'
2025-04-13 17:41:05,993 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 771007a1-eddb-498a-a414-21be052dc5de: Expecting value: line 1 column 7706 (char 7705). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 17:41:05,996 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ff34d5b7-4096-48cd-8a47-672b954338eb: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:05,999 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ff34d5b7-4096-48cd-8a47-672b954338eb: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,001 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk eeab450f-955b-4b01-bebb-ec753997eb34: Expecting value: line 1 column 7301 (char 7300). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 17:41:06,003 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk b118d5a5-d077-46d8-90ea-f5fdacc018fa: Unterminated string starting at: line 1 column 7725 (char 7724). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 17:41:06,004 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9be11578-a2cb-4863-95ce-c204f9964f03: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,009 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d2ec0cd6-b1ef-43cd-9254-72072259fb96: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='correspond to the dates and amounts of' to_entity_name='promissory notes and loan agreements' to_entity_type='ASSET'
2025-04-13 17:41:06,015 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 48d8a8c6-e281-4615-b401-5706c6081948: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,018 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 48d8a8c6-e281-4615-b401-5706c6081948: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,020 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 009e2f56-3377-4940-9e97-6ddbd6e6df56: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,025 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4004deb2-fc62-4468-b34a-f493c3c44004: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,027 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4004deb2-fc62-4468-b34a-f493c3c44004: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,033 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5126082f-066f-42b6-b963-2fe5f8123dcc: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,036 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk baf15466-cea8-4122-a6f6-f468d45f2838: Unterminated string starting at: line 1 column 8084 (char 8083). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 17:41:06,039 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3afc0e9c-7f14-4d1b-b3f5-5e3aa7882506: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OCCRP' to_entity_type='NGO'
2025-04-13 17:41:06,045 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 45d552de-deb2-49a1-ab97-7428f02f3e54: Unterminated string starting at: line 1 column 7569 (char 7568). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "PACE",...'
2025-04-13 17:41:06,049 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 68b0d3b6-eb4f-4d18-9179-e98d9e88b03d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,055 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5f642165-2a8e-489e-aeb1-f9cb25bdf575: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='DBE' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 17:41:06,059 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk aa23e9ad-913c-4ce3-8811-48fdac1c3271: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,060 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk aa23e9ad-913c-4ce3-8811-48fdac1c3271: from_entity_type='LOCATION' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,062 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk df9664e4-41da-4c43-9046-3ec60d3ac0c6: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,064 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk df9664e4-41da-4c43-9046-3ec60d3ac0c6: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,067 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6c5daec8-9236-418b-9e78-2b6ba1ad6814: from_entity_type=None from_entity_name='Estonia' relationship_type=None relationship_description=None to_entity_name='Cyprus' to_entity_type='LOCATION'
2025-04-13 17:41:06,069 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6c5daec8-9236-418b-9e78-2b6ba1ad6814: from_entity_type=None from_entity_name='Estonia' relationship_type=None relationship_description=None to_entity_name='Latvia' to_entity_type='LOCATION'
2025-04-13 17:41:06,073 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 10453fa9-8967-4737-b9b6-fabdfc1b7169: Unterminated string starting at: line 1 column 8193 (char 8192). Content: '{"entity_relationship_list": [{"from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "rel...'
2025-04-13 17:41:06,075 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 8026f5aa-3fa0-4556-af29-47a19ec7eecb: Unterminated string starting at: line 1 column 7854 (char 7853). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 6,...'
2025-04-13 17:41:06,077 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a66f5ec5-8540-4ffd-8196-1f51296e9332: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='CONNECTED_TO' relationship_description='are linked' to_entity_name='a significant network of companies' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 17:41:06,084 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk e6ad917c-8ccd-44e1-ab4b-ff0d05a9d1a1: Unterminated string starting at: line 1 column 7137 (char 7136). Content: '{"entity_relationship_list": [{"from_entity_type": "ASSET", "from_entity_name": "first priority airc...'
2025-04-13 17:41:06,091 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b4047885-00bf-4a05-88c8-cf6ab14fc805: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='loan' to_entity_type='MONEY'
2025-04-13 17:41:06,095 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ba328f7a-6bc7-4885-91d1-26534b0509a5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,099 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 457cfde2-2e90-4370-a267-5c118ac6d263: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,102 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c4e0eb1b-8cfb-45fb-af23-d648bd79eb9c: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,105 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6b2ce4a5-d7f6-4f71-aa99-0dd04c293703: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Date of incorporation' to_entity_name='21 October 2002' to_entity_type='ASSET'
2025-04-13 17:41:06,107 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a27046db-519c-4f45-ab69-6ceaf6298082: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,113 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 4cb8ee0b-bc99-4443-8002-a93d62eb87fe: Unterminated string starting at: line 1 column 8129 (char 8128). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 17:41:06,116 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f6e85833-e5f9-406c-8c5d-6a252ffef546: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Isle of Man' to_entity_type='LOCATION'
2025-04-13 17:41:06,121 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ee781b65-83e5-4616-975b-2e3be1a5bb3a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='IBA-Moscow' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 17:41:06,123 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ee781b65-83e5-4616-975b-2e3be1a5bb3a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='transactions' to_entity_type='ASSET'
2025-04-13 17:41:06,126 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d42c37d2-b075-403d-b2b5-2793180b0bf7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,127 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d42c37d2-b075-403d-b2b5-2793180b0bf7: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,129 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d42c37d2-b075-403d-b2b5-2793180b0bf7: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,131 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 36d23898-e385-40d3-8dad-f1798d6505d5: Expecting value: line 1 column 7805 (char 7804). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "EUR 2,...'
2025-04-13 17:41:06,133 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 67e29446-c658-46d5-8b59-b34ad7d08db8: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Regulated firms were required to carry out enhanced due diligence on Mr Hajiyev' to_entity_name='regulated firms' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 17:41:06,135 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 67e29446-c658-46d5-8b59-b34ad7d08db8: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Source of funds and source of wealth' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 17:41:06,137 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 67e29446-c658-46d5-8b59-b34ad7d08db8: from_entity_type='ASSET' from_entity_name=None relationship_type='OWNS' relationship_description='Source of wealth' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 17:41:06,138 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 2ae225c0-9f9e-4629-9352-aa7caaef9472: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='LOCATED_IN' relationship_description="Information about Mr Hajiyev's activities prior to his employment in 1993 and alongside it until 2005" to_entity_name='Tab C1' to_entity_type='ASSET'
2025-04-13 17:41:06,142 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f6813699-ee4c-40d6-9c23-d4585681f13d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='IBA' to_entity_type='GOVERNMENT_BODY'
2025-04-13 17:41:06,147 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7a166311-1a80-492b-a60f-536a8dca44c7: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,151 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 5287b3d6-2fcc-42d3-a28a-5cf84470a121: Expecting ',' delimiter: line 1 column 7614 (char 7613). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 17:41:06,156 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 67213555-0885-4864-b89d-3e9314dd328a: Unterminated string starting at: line 1 column 7527 (char 7526). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 17:41:06,158 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 8f47207f-fd9d-4c88-89a4-a9367b2b8b85: Unterminated string starting at: line 1 column 7040 (char 7039). Content: '{ "entity_relationship_list": [ { "from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "Glo...'
2025-04-13 17:41:06,162 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96bb114f-7b43-433d-9e70-5cd30d850fcd: from_entity_type=None from_entity_name='Tea Construction' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,165 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96bb114f-7b43-433d-9e70-5cd30d850fcd: from_entity_type=None from_entity_name='Eroil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,167 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96bb114f-7b43-433d-9e70-5cd30d850fcd: from_entity_type=None from_entity_name='Mea Oil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,168 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96bb114f-7b43-433d-9e70-5cd30d850fcd: from_entity_type=None from_entity_name='TPD Trading Petrol and Drilling' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,170 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96bb114f-7b43-433d-9e70-5cd30d850fcd: from_entity_type=None from_entity_name='Tiara' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,171 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96bb114f-7b43-433d-9e70-5cd30d850fcd: from_entity_type=None from_entity_name='Migao Corporation' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,173 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96bb114f-7b43-433d-9e70-5cd30d850fcd: from_entity_type=None from_entity_name='BVI' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,174 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96bb114f-7b43-433d-9e70-5cd30d850fcd: from_entity_type=None from_entity_name='Cayman Islands' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,176 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96bb114f-7b43-433d-9e70-5cd30d850fcd: from_entity_type=None from_entity_name='Switzerland' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,177 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96bb114f-7b43-433d-9e70-5cd30d850fcd: from_entity_type=None from_entity_name='Azerbaijan' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,179 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96bb114f-7b43-433d-9e70-5cd30d850fcd: from_entity_type=None from_entity_name='Russian' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,181 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96bb114f-7b43-433d-9e70-5cd30d850fcd: from_entity_type=None from_entity_name='Czech Republic' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,183 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96bb114f-7b43-433d-9e70-5cd30d850fcd: from_entity_type=None from_entity_name='Luxembourg' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,188 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 88a7049c-c627-47f3-9c36-d5a914f5b718: Unterminated string starting at: line 1 column 7794 (char 7793). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 17:41:06,191 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 607293bb-011a-41ba-a8bf-03197c73b2a7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,192 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a96187df-88ef-4add-a99b-389da57b0ea7: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,194 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a96187df-88ef-4add-a99b-389da57b0ea7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,196 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 620637b0-eac1-4f2c-8b77-cf29bbfd053d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,198 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 86826729-48b7-4798-8f63-6815da3b27c9: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Azerbaijan' to_entity_type='LOCATION'
2025-04-13 17:41:06,204 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b81c2c53-eb9a-48ba-9387-116181929dfb: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,211 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a8a6e02a-1eb4-4920-ba5a-948a667933e6: from_entity_type='PERSON' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,213 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a8a6e02a-1eb4-4920-ba5a-948a667933e6: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,215 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk af84da2c-6973-4613-8ad0-a876f23679bd: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,217 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5a22dadd-fc92-40c8-91e4-6a884fd4d06a: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,219 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a10c1e19-fb20-4636-9c12-a8d955f4d9a8: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='legal charge' to_entity_type='ASSET'
2025-04-13 17:41:06,222 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk b4478dc5-59eb-4d93-949d-2348434e510e: Expecting value: line 1 column 7849 (char 7848). Content: '{ "entity_relationship_list": [ { "from_entity_type": "LOCATION", "from_entity_name": "12-14 Walton ...'
2025-04-13 17:41:06,227 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 40c4c346-f3ca-4b8c-917b-ce92e4a4d4e7: Unterminated string starting at: line 1 column 8035 (char 8034). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Mateos", "re...'
2025-04-13 17:41:06,230 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 14f7478f-586b-4abf-a3e1-f1b2bb19845e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Trident' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 17:41:06,232 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 14f7478f-586b-4abf-a3e1-f1b2bb19845e: from_entity_type=None from_entity_name='Leyla Yuzbashova' relationship_type=None relationship_description=None to_entity_name=None to_entity_type='PERSON'
2025-04-13 17:41:06,235 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 61d701ff-ded1-4e43-a0d2-99a5848416f0: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,237 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 61d701ff-ded1-4e43-a0d2-99a5848416f0: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,239 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d899e671-7410-4a82-93a1-ae3baa627a9c: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,240 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d899e671-7410-4a82-93a1-ae3baa627a9c: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,242 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk aa97cbf1-1581-4df6-b611-53a5edc1a73e: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,243 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk aa97cbf1-1581-4df6-b611-53a5edc1a73e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,245 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1775041b-4c2e-46f1-8cf3-a2c0c34d3e82: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,247 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1775041b-4c2e-46f1-8cf3-a2c0c34d3e82: from_entity_type='LOCATION' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,249 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 276f8042-7673-4f5b-a107-9b9473894c7d: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,251 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 276f8042-7673-4f5b-a107-9b9473894c7d: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Mill Ride Golf Club' to_entity_type='ASSET'
2025-04-13 17:41:06,253 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 455dfb97-3a62-47cf-98ed-53f60f39444d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,257 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 95789bbf-dbb3-42a9-bb43-3f58c3c5b8af: Unterminated string starting at: line 1 column 7847 (char 7846). Content: '{"entity_relationship_list": [{"from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "Semfra...'
2025-04-13 17:41:06,260 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c1766461-7276-400b-95ee-165e11fcf0d4: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,262 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c1766461-7276-400b-95ee-165e11fcf0d4: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,266 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk b2c6e92d-900a-48b8-958c-0e35280e21ea: Unterminated string starting at: line 1 column 6134 (char 6133). Content: '{ "entity_relationship_list": [ { "from_entity_type": "ASSET", "from_entity_name": "Mill Ride Golf C...'
2025-04-13 17:41:06,269 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 23e63cdb-5f47-47f2-ae8c-896bf77ab493: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,273 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 01c7350f-e840-4123-a3bc-520b6dca5bda: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Azerbaijan' to_entity_type='LOCATION'
2025-04-13 17:41:06,275 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a3b4be43-92bf-4b77-be05-a09a858f4840: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 17:41:06,277 - src.core.extraction.entity_extractor - INFO - Processed batch results in 0.39s. Total batch time: 2243.13s
2025-04-13 17:41:06,279 - src.core.extraction.entity_extractor - INFO - Batch Stats: Success=649, Parse Errors=23, Missing Outputs=0
2025-04-13 17:41:06,322 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 2243.18s
2025-04-13 17:41:06,335 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-13 17:41:06,337 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 4810 entities, 1329 relationships.
2025-04-13 17:41:06,339 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-13 17:41:06,340 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 4810 raw entities...
2025-04-13 17:41:06,420 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-13 17:41:06,567 - src.core.extraction.entity_extractor - WARNING - Removed 12 entities with empty normalized names.
2025-04-13 17:41:06,570 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-13 17:41:07,294 - src.core.extraction.entity_extractor - INFO - Generated 180565 candidate pairs across all types.
2025-04-13 17:41:07,296 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-13 17:41:26,621 - src.core.extraction.entity_extractor - INFO - Found 154262 potential duplicate pairs after comparison.
2025-04-13 17:41:26,624 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-13 17:41:32,801 - src.core.extraction.entity_extractor - INFO - Found 1404 clusters (including singletons).
2025-04-13 17:41:32,802 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-13 17:41:33,000 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 1404.
2025-04-13 17:41:33,040 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs based on entity deduplication map...
2025-04-13 17:41:33,042 - src.core.extraction.entity_extractor - INFO - Updating 1329 raw relationships with canonical entity IDs...
2025-04-13 17:41:33,046 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 1302, Updated IDs in 1227, Skipped 27 (self-loops or missing mappings).
2025-04-13 17:41:33,048 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-13 17:41:33,049 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-13 17:41:33,050 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 132 duplicates. Final count: 1170.
2025-04-13 17:41:33,052 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 1404 entities, 1170 relationships.
2025-04-13 17:41:33,093 - src.core.extraction.entity_extractor - INFO - Saved 1404 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-13 17:41:33,121 - src.core.extraction.entity_extractor - INFO - Saved 1170 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-13 17:41:33,123 - __main__ - INFO - Entity extraction complete. Modified chunks: 672
2025-04-13 17:41:33,474 - __main__ - INFO - QueryEngine LLM model updated to: Qwen/Qwen2.5-7B-Instruct
2025-04-13 17:41:33,480 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-13 17:41:33,483 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 17:41:33,484 - src.core.indexing.document_indexer - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct, Timeout: 900s
2025-04-13 17:41:33,485 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-13 17:41:33,486 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-13 17:41:33,491 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.93 GB, VMS: 42.68 GB
2025-04-13 17:41:33,497 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 17:41:33,499 - __main__ - INFO - Loading indexing model...
2025-04-13 17:41:33,500 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-13 17:41:33,501 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-13 17:41:33,502 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-13 17:41:36,556 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-13 17:41:36,558 - src.core.indexing.document_indexer - INFO - Updated expected vector size from BGE-M3 model config: 1024
2025-04-13 17:41:36,560 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 3.06 seconds
2025-04-13 17:41:36,561 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.94 GB, VMS: 45.04 GB
2025-04-13 17:41:36,563 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 17:41:36,622 - __main__ - INFO - Indexing 672 chunks
2025-04-13 17:41:36,624 - src.core.indexing.document_indexer - INFO - Starting indexing process for 672 chunks...
2025-04-13 17:41:36,625 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-13 17:41:36,625 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 672 chunks...
2025-04-13 17:41:36,635 - src.core.indexing.document_indexer - INFO - Tokenizing enhanced texts for BM25...
2025-04-13 17:41:37,085 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-13 17:41:37,103 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-13 17:41:37,106 - src.core.indexing.document_indexer - INFO - Saving BM25 index and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-13 17:41:37,140 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (672 documents processed).
2025-04-13 17:41:37,144 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.52s (Success: True)
2025-04-13 17:41:37,146 - src.core.indexing.document_indexer - INFO - Indexing 672 chunks to Qdrant collection 'anticorruption_rag_e5_instruct'...
2025-04-13 17:41:37,147 - src.core.indexing.document_indexer - INFO - Connecting to Qdrant at localhost:6333 with timeout 900s
2025-04-13 17:41:37,204 - src.core.indexing.document_indexer - ERROR - Unexpected error during Qdrant indexing orchestration: fastembed is not installed. Please install it to enable fast vector indexing with `pip install fastembed`.
Traceback (most recent call last):
  File "/home/t/lm_rag/src/core/indexing/document_indexer.py", line 415, in _index_to_qdrant
    #client.set_model(self.embedding_model_name) # Inform client about the model (useful for some operations)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/qdrant_fastembed.py", line 163, in set_model
    self._get_or_init_model(
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/qdrant_fastembed.py", line 259, in _get_or_init_model
    cls._import_fastembed()
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/qdrant_fastembed.py", line 231, in _import_fastembed
    raise ImportError(
ImportError: fastembed is not installed. Please install it to enable fast vector indexing with `pip install fastembed`.
2025-04-13 17:41:37,222 - src.core.indexing.document_indexer - INFO - Qdrant indexing took 0.08s (Success: False)
2025-04-13 17:41:37,224 - src.core.indexing.document_indexer - WARNING - INDEXING COMPLETED (Fallback): Indexed 672 chunks to BM25 only in 0.60s due to Qdrant failure.
2025-04-13 17:41:37,225 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-13 17:41:37,226 - src.core.indexing.document_indexer - INFO - Attempting to unload BGE-M3 (FlagEmbedding) model components...
2025-04-13 17:41:37,468 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model and tokenizer references.
2025-04-13 17:41:41,626 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-13 17:41:42,566 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-13 17:41:43,153 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-13 17:41:43,158 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.93 GB, VMS: 42.74 GB
2025-04-13 17:41:43,159 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 17:41:43,330 - __main__ - INFO - Document processing completed successfully!
2025-04-13 17:41:43,346 - __main__ - INFO - Document processing call completed
2025-04-13 18:06:14,664 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 18:06:14,699 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 18:06:14,700 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 18:06:14,712 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 18:06:14,712 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 18:06:14,714 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 18:06:14,715 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 18:06:14,729 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 18:06:14,729 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 18:06:14,732 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 18:06:14,734 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 18:06:14,735 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 18:06:14,737 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 18:06:14,738 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 18:06:14,739 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 18:06:14,740 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 18:06:14,742 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 18:06:14,742 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:06:14,744 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:06:14,745 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 18:06:14,746 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 18:06:14,747 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 18:06:14,749 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 18:06:14,750 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 18:06:14,751 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 18:06:14,753 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.31 GB, VMS: 37.62 GB
2025-04-13 18:06:14,753 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.31 GB, VMS: 37.62 GB
2025-04-13 18:06:14,905 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 18:06:14,906 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 18:06:14,907 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:06:14,908 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:06:15,060 - src.core.query_system.query_engine - ERROR - Failed to load chat tokenizer for Qwen/Qwen2.5-3B-Instruct: (MaxRetryError("HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /Qwen/Qwen2.5-3B-Instruct/resolve/main/tokenizer_config.json (Caused by SSLError(SSLEOFError(8, '[SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1000)')))"), '(Request ID: 60dc3a70-7502-42f8-a8aa-c6e343e8b416)')
Traceback (most recent call last):
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/urllib3/connection.py", line 741, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/urllib3/connection.py", line 920, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/urllib3/util/ssl_.py", line 460, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/urllib3/util/ssl_.py", line 504, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/ssl.py", line 1042, in _create
    self.do_handshake()
  File "/usr/lib/python3.12/ssl.py", line 1320, in do_handshake
    self._sslobj.do_handshake()
ssl.SSLEOFError: [SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1000)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/urllib3/connectionpool.py", line 488, in _make_request
    raise new_e
urllib3.exceptions.SSLError: [SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1000)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /Qwen/Qwen2.5-3B-Instruct/resolve/main/tokenizer_config.json (Caused by SSLError(SSLEOFError(8, '[SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1000)')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/t/lm_rag/src/core/query_system/query_engine.py", line 156, in _load_chat_tokenizer
    self.chat_tokenizer = AutoTokenizer.from_pretrained(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/transformers/models/auto/tokenization_auto.py", line 844, in from_pretrained
    tokenizer_config = get_tokenizer_config(pretrained_model_name_or_path, **kwargs)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/transformers/models/auto/tokenization_auto.py", line 676, in get_tokenizer_config
    resolved_config_file = cached_file(
                           ^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/transformers/utils/hub.py", line 403, in cached_file
    resolved_file = hf_hub_download(
                    ^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/huggingface_hub/file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/huggingface_hub/file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
                                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/huggingface_hub/file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/huggingface_hub/file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
        ^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/huggingface_hub/file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
               ^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/huggingface_hub/file_download.py", line 303, in _request_wrapper
    response = get_session().request(method=method, url=url, **params)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/requests/adapters.py", line 698, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: (MaxRetryError("HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /Qwen/Qwen2.5-3B-Instruct/resolve/main/tokenizer_config.json (Caused by SSLError(SSLEOFError(8, '[SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1000)')))"), '(Request ID: 60dc3a70-7502-42f8-a8aa-c6e343e8b416)')
2025-04-13 18:06:15,098 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:06:15,964 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 18:06:15,971 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:06:34,525 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 18:06:35,411 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 18:06:35,477 - __main__ - INFO - Storing selected LLM for session: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:06:35,483 - __main__ - INFO - Starting document processing for 1 files
2025-04-13 18:06:35,484 - __main__ - INFO - Starting document processing with spreadsheet options. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']
2025-04-13 18:06:35,485 - __main__ - INFO - Starting Aphrodite service for document processing
2025-04-13 18:06:56,890 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 18:06:56,891 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 18:06:56,890 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 18:06:56,891 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 18:06:56,924 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 18:06:56,924 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 18:06:56,925 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 18:06:56,925 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 18:06:56,930 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 18:06:56,930 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 18:06:56,931 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 18:06:56,933 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 18:06:56,939 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 18:06:56,942 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 18:06:56,942 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 18:06:56,943 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 18:06:56,945 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 18:06:56,946 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 18:06:56,947 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 18:06:56,946 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 18:06:56,948 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 18:06:56,950 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 18:06:56,951 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:06:56,952 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 18:06:56,953 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 18:06:56,954 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 18:06:56,955 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 18:06:56,956 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:06:56,957 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 18:06:56,958 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 18:06:56,960 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 18:06:56,961 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.32 GB, VMS: 37.61 GB
2025-04-13 18:06:56,961 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 18:06:56,965 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.33 GB, VMS: 37.61 GB
2025-04-13 18:06:57,031 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 18:06:57,031 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 18:06:57,032 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:06:57,033 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:06:57,503 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 18:06:57,506 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:06:57,506 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:06:57,795 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 18:06:57,797 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:06:57,797 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:07:01,896 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 18:07:06,316 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 18:07:07,514 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 18:07:07,578 - __main__ - INFO - Storing selected LLM for session: Qwen/Qwen2.5-7B-Instruct
2025-04-13 18:07:07,581 - __main__ - INFO - Starting document processing for 1 files
2025-04-13 18:07:07,582 - __main__ - INFO - Starting document processing with spreadsheet options. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']
2025-04-13 18:07:07,583 - __main__ - INFO - Starting Aphrodite service for document processing
2025-04-13 18:07:19,833 - __main__ - INFO - Aphrodite service started successfully
2025-04-13 18:07:19,834 - __main__ - INFO - Saved Aphrodite process info: PID=41829
2025-04-13 18:07:19,835 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-13 18:07:19,836 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-13 18:07:19,839 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-13 18:07:19,845 - __main__ - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 18:07:19,846 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-13 18:07:19,847 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 18:07:19,848 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-13 18:09:40,370 - src.core.document_processing.document_loader - INFO - Exporting Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf content to Markdown...
2025-04-13 18:10:09,777 - src.core.document_processing.document_loader - INFO - Docling processing successful for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf. Word count: 94174, Page count: 246
2025-04-13 18:10:09,892 - __main__ - INFO - Document loaded: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf, Content items: 1
2025-04-13 18:10:09,896 - __main__ - INFO - All documents loaded. Shutting down document loader (Docling) to free resources...
2025-04-13 18:10:09,896 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-13 18:10:09,897 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.88 GB, VMS: 40.89 GB
2025-04-13 18:10:09,899 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-13 18:10:09,900 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-13 18:10:09,902 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-13 18:10:09,903 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-13 18:10:10,302 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-13 18:10:10,304 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-13 18:10:10,327 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-13 18:10:10,329 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-13 18:10:10,330 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.81 GB, VMS: 40.83 GB
2025-04-13 18:10:10,331 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 18:10:10,332 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-13 18:10:10,720 - __main__ - INFO - Document loader shut down complete.
2025-04-13 18:10:10,723 - __main__ - INFO - Process memory - RSS: 2.81 GB, VMS: 40.83 GB
2025-04-13 18:10:10,724 - __main__ - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 18:10:10,725 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-13 18:10:10,726 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-13 18:10:10,727 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.81 GB, VMS: 40.83 GB
2025-04-13 18:10:10,728 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 18:10:10,729 - __main__ - INFO - Loading chunking model...
2025-04-13 18:10:10,730 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 18:10:10,732 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-13 18:10:10,733 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-13 18:10:10,734 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-13 18:10:10,735 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-13 18:10:15,068 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-13 18:10:15,070 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.33 seconds
2025-04-13 18:10:15,071 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.95 GB, VMS: 42.11 GB
2025-04-13 18:10:15,073 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 18:10:15,074 - __main__ - INFO - Chunking document 1/1: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 18:10:15,075 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (ID: 778d9cbd-fd50-4bb2-b87f-f108366ff83b, Type: .pdf)
2025-04-13 18:10:15,075 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf.
2025-04-13 18:10:15,076 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 608866 chars) using Markdown Header + Semantic chunking.
2025-04-13 18:10:15,097 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 244 initial structural chunks.
2025-04-13 18:10:22,360 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 502 potential chunks.
2025-04-13 18:10:22,361 - src.core.document_processing.document_chunker - WARNING - Chunk (length 8299) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 18:10:22,362 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 18:10:22,363 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6564) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 18:10:22,364 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 18:10:22,365 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6017) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 18:10:22,367 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 18:10:22,367 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5972) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 18:10:22,368 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 18:10:22,369 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7518) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 18:10:22,370 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 21 basic chunks.
2025-04-13 18:10:22,371 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7098) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 18:10:22,372 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 18:10:22,373 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7084) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 18:10:22,374 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 19 basic chunks.
2025-04-13 18:10:22,375 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5166) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 18:10:22,378 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 15 basic chunks.
2025-04-13 18:10:22,379 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5469) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 18:10:22,379 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 14 basic chunks.
2025-04-13 18:10:22,380 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5139) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 18:10:22,381 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 13 basic chunks.
2025-04-13 18:10:22,382 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 10 oversized chunks.
2025-04-13 18:10:22,383 - src.core.document_processing.document_chunker - INFO - Final processing created 672 chunks from text of length 608866.
2025-04-13 18:10:22,386 - src.core.document_processing.document_chunker - INFO - Chunking for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf completed in 7.31s.
2025-04-13 18:10:22,387 - src.core.document_processing.document_chunker - INFO - Created 672 total chunks: 0 spreadsheet rows, 492 semantic chunks, 0 sentence fallback chunks, 180 basic fallback chunks.
2025-04-13 18:10:22,388 - src.core.document_processing.document_chunker - INFO - Average chunk size: 881.6 characters.
2025-04-13 18:10:22,389 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.95 GB, VMS: 42.10 GB
2025-04-13 18:10:22,390 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.97 GB, Total: 8.00 GB
2025-04-13 18:10:22,391 - __main__ - INFO - Created 672 chunks for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 18:10:22,392 - __main__ - INFO - Shutting down chunking model...
2025-04-13 18:10:22,393 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 18:10:22,394 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-13 18:10:22,394 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-13 18:10:22,395 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-13 18:10:22,402 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-13 18:10:23,066 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-13 18:10:23,069 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.95 GB, VMS: 42.10 GB
2025-04-13 18:10:23,070 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 18:10:23,071 - __main__ - INFO - Total chunks generated: 672
2025-04-13 18:10:23,072 - __main__ - INFO - Creating entity extractor with model Qwen/Qwen2.5-7B-Instruct
2025-04-13 18:10:23,073 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with model=Qwen/Qwen2.5-7B-Instruct, debug=True, using advanced deduplication.
2025-04-13 18:10:23,074 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.95 GB, VMS: 42.10 GB
2025-04-13 18:10:23,075 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 18:10:23,075 - __main__ - INFO - Starting entity extraction on 672 chunks (0 visual chunks)
2025-04-13 18:10:23,076 - src.core.extraction.entity_extractor - INFO - Adding 672 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-13 18:10:23,078 - src.core.extraction.entity_extractor - INFO - Added 672 chunks to queue. Processing now.
2025-04-13 18:10:23,078 - src.core.extraction.entity_extractor - INFO - Processing all 672 chunks...
2025-04-13 18:10:23,079 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.95 GB, VMS: 42.10 GB
2025-04-13 18:10:23,080 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 18:10:23,082 - src.core.extraction.entity_extractor - INFO - Loading designated extraction model: Qwen/Qwen2.5-7B-Instruct
2025-04-13 18:14:34,394 - src.core.extraction.entity_extractor - INFO - Model Qwen/Qwen2.5-7B-Instruct loaded successfully for extraction.
2025-04-13 18:14:34,398 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks (0 spreadsheet rows)
2025-04-13 18:14:34,399 - src.core.extraction.entity_extractor - INFO - Processing in 1 batches of size 1024
2025-04-13 18:14:34,400 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (672 chunks)
2025-04-13 18:14:34,442 - src.core.extraction.entity_extractor - INFO - Sending batch of 672 prompts to service
2025-04-13 18:50:56,749 - src.core.extraction.entity_extractor - INFO - Received response from service
2025-04-13 18:50:56,786 - src.core.extraction.entity_extractor - INFO - Service request/response took 2182.34s
2025-04-13 18:50:56,831 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk eb069fc0-e2eb-43d3-bc30-e613cd85ccd2: from_entity_type='LOCATION' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='UK' to_entity_type='LOCATION'
2025-04-13 18:50:56,835 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk eb069fc0-e2eb-43d3-bc30-e613cd85ccd2: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='indefinite leave to remain' to_entity_type='ASSET'
2025-04-13 18:50:56,837 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk eb069fc0-e2eb-43d3-bc30-e613cd85ccd2: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='June 2015' to_entity_type='ASSET'
2025-04-13 18:50:56,841 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk a8275891-cba3-484d-8ce6-15d1476efde6: Unterminated string starting at: line 1 column 7120 (char 7119). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 18:50:56,844 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6507fe6f-ebce-461e-be98-6ef0f49aedb5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,846 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6507fe6f-ebce-461e-be98-6ef0f49aedb5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='judge' to_entity_type='POSITION'
2025-04-13 18:50:56,848 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6507fe6f-ebce-461e-be98-6ef0f49aedb5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='PFO' to_entity_type='ASSET'
2025-04-13 18:50:56,850 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6507fe6f-ebce-461e-be98-6ef0f49aedb5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Disclosure Order' to_entity_type='ASSET'
2025-04-13 18:50:56,851 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6507fe6f-ebce-461e-be98-6ef0f49aedb5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='financial institutions, law firms and other relevant third parties' to_entity_type='LOCATION'
2025-04-13 18:50:56,855 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk d70edf56-66a4-4988-9e9e-52da6e00cbaa: Unterminated string starting at: line 1 column 8084 (char 8083). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 18:50:56,857 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a7aff93d-ac80-4f73-a31c-3ac5563ab578: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,858 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a7aff93d-ac80-4f73-a31c-3ac5563ab578: from_entity_type='ASSET' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,860 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk fa0862d2-a8a0-4aca-a4ea-b779883fbc25: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='LOCATED_IN' relationship_description='Used to hold bank accounts' to_entity_name='a number of jurisdictions' to_entity_type='LOCATION'
2025-04-13 18:50:56,866 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9c1a6605-d065-440d-9544-a75abc7dac05: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,872 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk cec3df2a-8f81-4b26-8f93-d0b0badbfffc: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='income' to_entity_type='ASSET'
2025-04-13 18:50:56,874 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e966759b-c815-40de-9c84-f5ea1f871873: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='the KB Companies presentation' to_entity_type='ASSET'
2025-04-13 18:50:56,879 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 01e6b5e5-e8d7-4d89-883a-b93f73240ea4: Unterminated string starting at: line 1 column 7502 (char 7501). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 18:50:56,884 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk a9ad8d9f-eea1-4c33-b62d-8a85ac866440: Expecting value: line 1 column 7360 (char 7359). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "My clients", "r...'
2025-04-13 18:50:56,888 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6efd183c-8326-4feb-9688-b80fccb4377a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Azerbaijan' to_entity_type='LOCATION'
2025-04-13 18:50:56,892 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk cc1e4a15-003b-4e70-8570-e34fbcb32a6c: Unterminated string starting at: line 1 column 8137 (char 8136). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 18:50:56,894 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5c70bd74-6f40-446c-9ddb-10f321d828aa: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,895 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5c70bd74-6f40-446c-9ddb-10f321d828aa: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,899 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 5d70ff75-ce8c-4c1c-af1c-1cb5d2f944fd: Expecting ',' delimiter: line 1 column 7736 (char 7735). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 18:50:56,901 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk fb60d15d-1682-4af0-ae59-7baa4011faca: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,906 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk cf2f5ebd-7025-4353-8572-f715c5b7ab89: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='correspond to the dates and amounts of promissory notes and loan agreements' to_entity_name='promissory notes and loan agreements' to_entity_type='ASSET'
2025-04-13 18:50:56,915 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5fc414b0-87b9-4596-88ff-184114e9c93b: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,921 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 461fbe2e-1e5f-41ec-ad22-cd5e0150593e: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,924 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 461fbe2e-1e5f-41ec-ad22-cd5e0150593e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,928 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1869c4a8-9afe-445a-8dba-868bc252fc57: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,930 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 90d04574-f8e9-4864-8a6e-f30ac6f8cdde: Unterminated string starting at: line 1 column 8084 (char 8083). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 18:50:56,939 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 3e902395-995b-46d8-af24-9c5557aef46f: Unterminated string starting at: line 1 column 7728 (char 7727). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "OCCRP"...'
2025-04-13 18:50:56,943 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b13f36f8-40e6-49e4-a2b5-5eb4a6b8371a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OCCRP' to_entity_type='NGO'
2025-04-13 18:50:56,948 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 340e75b3-ccdd-431f-b9e0-6d2e6aa6a58b: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,959 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 39faef58-d858-4f10-9c04-a4fe2f99ad07: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,963 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 39faef58-d858-4f10-9c04-a4fe2f99ad07: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,971 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 296a7a11-3254-4c30-8cb4-4b39cb1f94a9: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,975 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 296a7a11-3254-4c30-8cb4-4b39cb1f94a9: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:56,983 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 2eabb0de-f239-4c3b-b849-6a35964ba364: Unterminated string starting at: line 1 column 8193 (char 8192). Content: '{"entity_relationship_list": [{"from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "rel...'
2025-04-13 18:50:56,984 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 6a034a61-0ba3-4c12-914c-05c3db25159d: Expecting property name enclosed in double quotes: line 1 column 7882 (char 7881). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 6,...'
2025-04-13 18:50:56,988 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c5f44c76-c738-4891-bacd-ca75e2ca19c6: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='FATF' to_entity_type='GOVERNMENT_BODY'
2025-04-13 18:50:56,990 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c5f44c76-c738-4891-bacd-ca75e2ca19c6: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OECD' to_entity_type='GOVERNMENT_BODY'
2025-04-13 18:50:56,991 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c5f44c76-c738-4891-bacd-ca75e2ca19c6: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='NCA' to_entity_type='GOVERNMENT_BODY'
2025-04-13 18:50:56,992 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c5f44c76-c738-4891-bacd-ca75e2ca19c6: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Companies House' to_entity_type='GOVERNMENT_BODY'
2025-04-13 18:50:56,996 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 93b03613-57e9-41b7-9dea-80b711002bc9: Unterminated string starting at: line 1 column 7636 (char 7635). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "USD 5,...'
2025-04-13 18:50:57,003 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3cef1504-a8da-4238-8d1f-a88a4c9d7c4a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='loan' to_entity_type='MONEY'
2025-04-13 18:50:57,006 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 46bbfa72-6b27-41ee-8d33-2727442719f3: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,010 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6364b54e-83ff-4d81-83e0-2b2cb2fddd8b: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,013 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 56e72d2a-42f9-4a35-b473-cd532a2318f8: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,015 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 01107168-c8e7-4b44-8480-857507eb2b69: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,019 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c98dea96-f65a-4d23-9417-c9ee745647a9: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='DH Leasing' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 18:50:57,022 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 57546c82-e9ef-4c25-9cf2-ef53eca5a8d7: Unterminated string starting at: line 1 column 8160 (char 8159). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 18:50:57,024 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk eeb008da-05a0-46f7-ba70-2b2bed26aec9: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Isle of Man' to_entity_type='LOCATION'
2025-04-13 18:50:57,029 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8fb6add9-5bda-4159-b43a-dc49e830afc4: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='IBA-Moscow' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 18:50:57,031 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8fb6add9-5bda-4159-b43a-dc49e830afc4: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='transactions' to_entity_type='ASSET'
2025-04-13 18:50:57,033 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 4448c528-afa0-4429-bc28-c31f89101b8f: Expecting value: line 1 column 7655 (char 7654). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "EUR 2,...'
2025-04-13 18:50:57,035 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 117821ae-6f66-4527-92e0-6a9b8cfc79a6: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Regulated firms were required to carry out due diligence' to_entity_name='regulated firms' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 18:50:57,037 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 117821ae-6f66-4527-92e0-6a9b8cfc79a6: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Source of funds and source of wealth' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 18:50:57,038 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 117821ae-6f66-4527-92e0-6a9b8cfc79a6: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Income' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 18:50:57,040 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 64e4aef4-cff9-43e0-83ed-72f221e56677: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Employed' to_entity_name='Tab C1' to_entity_type='LOCATION'
2025-04-13 18:50:57,047 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7333f9ab-d0ec-45c9-ae5d-04acc314a726: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,052 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 4a40bdd1-5de5-456e-a404-8ec2cebbc451: Expecting ',' delimiter: line 1 column 7614 (char 7613). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 18:50:57,054 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4f5a604b-5e3c-49aa-82a2-23df4e565232: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,056 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 422d90a6-167c-4f2f-9496-e63a241b88a4: Unterminated string starting at: line 1 column 7527 (char 7526). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 18:50:57,058 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 8d84bf0c-8838-4569-af4e-bbaa74b9f350: Unterminated string starting at: line 1 column 7146 (char 7145). Content: '{ "entity_relationship_list": [ { "from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "Glo...'
2025-04-13 18:50:57,062 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk dfc4efa3-8b3a-4314-a850-b270b91249dc: from_entity_type=None from_entity_name='Tea Construction' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,064 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk dfc4efa3-8b3a-4314-a850-b270b91249dc: from_entity_type=None from_entity_name='Eroil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,065 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk dfc4efa3-8b3a-4314-a850-b270b91249dc: from_entity_type=None from_entity_name='Mea Oil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,066 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk dfc4efa3-8b3a-4314-a850-b270b91249dc: from_entity_type=None from_entity_name='TPD Trading Petrol and Drilling' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,067 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk dfc4efa3-8b3a-4314-a850-b270b91249dc: from_entity_type=None from_entity_name='Tiara' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,068 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk dfc4efa3-8b3a-4314-a850-b270b91249dc: from_entity_type=None from_entity_name='Migao Corporation' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,069 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk dfc4efa3-8b3a-4314-a850-b270b91249dc: from_entity_type=None from_entity_name='Anglo Asian Mining Plc' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,073 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk af746ee2-10a9-49f1-925e-a2a9e1c87073: Unterminated string starting at: line 1 column 6734 (char 6733). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 18:50:57,077 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 5e40b586-d126-49fc-bcae-093848a877d5: Unterminated string starting at: line 1 column 8328 (char 8327). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 18:50:57,080 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 81310dd3-fb9b-47d4-902f-8717ec1e5876: Unterminated string starting at: line 1 column 7445 (char 7444). Content: '{"entity_relationship_list": [{"from_entity_type": "ASSET", "from_entity_name": "7.9 12-14 Walton St...'
2025-04-13 18:50:57,083 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 2b48ef6d-f95a-41e6-bd4c-bfb44f7c6eea: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='BVI' to_entity_type='LOCATION'
2025-04-13 18:50:57,087 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 57087b1c-01c8-40d1-a7c9-e74865527d82: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,089 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 57087b1c-01c8-40d1-a7c9-e74865527d82: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,091 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a3d9f446-2ab6-4b01-b89a-9524bc3668b5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,093 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3a6c566e-78a6-4e25-9587-0d54205a3b8c: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Azerbaijan' to_entity_type='LOCATION'
2025-04-13 18:50:57,100 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 94cf6c89-f4cb-4f75-b7f8-f4d62893aa0e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,108 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 21686102-1bf6-4d5c-8b54-94cf2419236b: from_entity_type='PERSON' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,110 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 21686102-1bf6-4d5c-8b54-94cf2419236b: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,111 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6fc016d7-9900-40e2-9319-44b8a096b9a6: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,113 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6fc016d7-9900-40e2-9319-44b8a096b9a6: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,114 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3c74c186-e220-463a-a377-cbb58ac12559: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,116 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 387edba2-a14c-4fbd-a06e-48c059036a88: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,118 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e0f969ba-f98c-43c0-80f8-9b30c75f8b15: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,124 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 343f4b02-5211-4314-90d3-f97fd6748002: Unterminated string starting at: line 1 column 8004 (char 8003). Content: '{"entity_relationship_list": [{"from_entity_type": "LOCATION", "from_entity_name": "Guernsey", "rela...'
2025-04-13 18:50:57,126 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 7456b116-20af-454b-bb58-376f7294fcde: Unterminated string starting at: line 1 column 7469 (char 7468). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 18:50:57,128 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk c24b87fb-43d4-42ec-af8e-e54fbbafd6d9: Unterminated string starting at: line 1 column 7134 (char 7133). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Mateos", "re...'
2025-04-13 18:50:57,129 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e3a18e4d-d163-42e3-9130-644fcb2aa70d: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,131 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e3a18e4d-d163-42e3-9130-644fcb2aa70d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,133 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0e9ecbc1-207a-4c37-970d-fb8ab44194c2: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,134 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0e9ecbc1-207a-4c37-970d-fb8ab44194c2: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,135 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 661fdace-a7b5-4dc3-b4cd-3bb3d582e240: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,136 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 661fdace-a7b5-4dc3-b4cd-3bb3d582e240: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,138 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk faecbef3-cf55-46fe-83d0-8af4b449cee0: Unterminated string starting at: line 1 column 7803 (char 7802). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Georgiou", "...'
2025-04-13 18:50:57,140 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 11dc6a85-e0ab-4e28-8f83-2d8ded6420a2: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,141 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 11dc6a85-e0ab-4e28-8f83-2d8ded6420a2: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Mill Ride Golf Club' to_entity_type='ASSET'
2025-04-13 18:50:57,142 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 11dc6a85-e0ab-4e28-8f83-2d8ded6420a2: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='LOCATED_IN' relationship_description='Offshore trust structure' to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,144 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6e606d52-ae94-499e-ba33-ad4c4f694121: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,145 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 85c1e410-b8e3-4c9a-a0e0-55020943b0fa: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,147 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 85c1e410-b8e3-4c9a-a0e0-55020943b0fa: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,149 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 77c79f27-6757-482b-a93c-c7a22ae0c258: Unterminated string starting at: line 1 column 6271 (char 6270). Content: '{"entity_relationship_list": [{"from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 620,0...'
2025-04-13 18:50:57,151 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 5bbb4de9-56c2-4854-bb3a-69fb233d6c3f: Expecting value: line 1 column 7868 (char 7867). Content: '{"entity_relationship_list": [{"from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "Semfra...'
2025-04-13 18:50:57,153 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7f5e0f77-b23f-4bbc-9385-37e3cac250bc: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='account number LU190023192776665200' to_entity_type='ASSET'
2025-04-13 18:50:57,154 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1559b5b7-5707-426a-8d10-746454c3c5f3: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,156 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1559b5b7-5707-426a-8d10-746454c3c5f3: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,160 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8f5158bc-9713-4646-a960-75c7a774f35a: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,161 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8f5158bc-9713-4646-a960-75c7a774f35a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,166 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 406df7fa-57b1-4609-a64d-843430f96f0e: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,167 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 406df7fa-57b1-4609-a64d-843430f96f0e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 18:50:57,169 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 5a2e7ff2-2676-40ed-9403-00f1cce21d9f: Unterminated string starting at: line 1 column 7459 (char 7458). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 18:50:57,170 - src.core.extraction.entity_extractor - INFO - Processed batch results in 0.38s. Total batch time: 2182.77s
2025-04-13 18:50:57,171 - src.core.extraction.entity_extractor - INFO - Batch Stats: Success=646, Parse Errors=26, Missing Outputs=0
2025-04-13 18:50:57,222 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 2182.82s
2025-04-13 18:50:57,233 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-13 18:50:57,235 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 4700 entities, 1345 relationships.
2025-04-13 18:50:57,236 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-13 18:50:57,237 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 4700 raw entities...
2025-04-13 18:50:57,342 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-13 18:50:57,477 - src.core.extraction.entity_extractor - WARNING - Removed 16 entities with empty normalized names.
2025-04-13 18:50:57,479 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-13 18:50:58,015 - src.core.extraction.entity_extractor - INFO - Generated 171254 candidate pairs across all types.
2025-04-13 18:50:58,016 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-13 18:51:15,063 - src.core.extraction.entity_extractor - INFO - Found 142009 potential duplicate pairs after comparison.
2025-04-13 18:51:15,064 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-13 18:51:20,437 - src.core.extraction.entity_extractor - INFO - Found 1356 clusters (including singletons).
2025-04-13 18:51:20,439 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-13 18:51:20,630 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 1356.
2025-04-13 18:51:20,668 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs based on entity deduplication map...
2025-04-13 18:51:20,670 - src.core.extraction.entity_extractor - INFO - Updating 1345 raw relationships with canonical entity IDs...
2025-04-13 18:51:20,675 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 1322, Updated IDs in 1241, Skipped 23 (self-loops or missing mappings).
2025-04-13 18:51:20,677 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-13 18:51:20,679 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-13 18:51:20,680 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 119 duplicates. Final count: 1203.
2025-04-13 18:51:20,682 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 1356 entities, 1203 relationships.
2025-04-13 18:51:20,715 - src.core.extraction.entity_extractor - INFO - Saved 1356 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-13 18:51:20,729 - src.core.extraction.entity_extractor - INFO - Saved 1203 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-13 18:51:20,731 - __main__ - INFO - Entity extraction complete. Modified chunks: 672
2025-04-13 18:51:21,047 - __main__ - INFO - QueryEngine LLM model updated to: Qwen/Qwen2.5-7B-Instruct
2025-04-13 18:51:21,052 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-13 18:51:21,055 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 18:51:21,056 - src.core.indexing.document_indexer - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct, Timeout: 900s
2025-04-13 18:51:21,057 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-13 18:51:21,058 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-13 18:51:21,063 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.91 GB, VMS: 42.10 GB
2025-04-13 18:51:21,068 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 18:51:21,069 - __main__ - INFO - Loading indexing model...
2025-04-13 18:51:21,071 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-13 18:51:21,071 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-13 18:51:21,072 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-13 18:51:23,767 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-13 18:51:23,768 - src.core.indexing.document_indexer - INFO - Updated expected vector size from BGE-M3 model config: 1024
2025-04-13 18:51:23,770 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 2.70 seconds
2025-04-13 18:51:23,771 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.94 GB, VMS: 44.21 GB
2025-04-13 18:51:23,772 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 18:51:23,856 - __main__ - INFO - Indexing 672 chunks
2025-04-13 18:51:23,857 - src.core.indexing.document_indexer - INFO - Starting indexing process for 672 chunks...
2025-04-13 18:51:23,858 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-13 18:51:23,859 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 672 chunks...
2025-04-13 18:51:23,879 - src.core.indexing.document_indexer - INFO - Tokenizing enhanced texts for BM25...
2025-04-13 18:51:24,354 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-13 18:51:24,369 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-13 18:51:24,371 - src.core.indexing.document_indexer - INFO - Saving BM25 index and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-13 18:51:24,382 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (672 documents processed).
2025-04-13 18:51:24,387 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.53s (Success: True)
2025-04-13 18:51:24,388 - src.core.indexing.document_indexer - INFO - Indexing 672 chunks to Qdrant collection 'anticorruption_rag_e5_instruct'...
2025-04-13 18:51:24,389 - src.core.indexing.document_indexer - INFO - Connecting to Qdrant at localhost:6333 with timeout 900s
2025-04-13 18:51:24,460 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-13 18:51:24,462 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=True
2025-04-13 18:51:25,065 - src.core.indexing.document_indexer - INFO - Collection created successfully.
2025-04-13 18:51:25,067 - src.core.indexing.document_indexer - INFO - Generating embeddings for all chunks...
2025-04-13 18:51:25,068 - src.core.indexing.document_indexer - INFO - Generating BGE-M3 embeddings for 672 texts (batch_size=12, max_length=8192)...
2025-04-13 18:51:41,430 - src.core.indexing.document_indexer - ERROR - Error during BGE-M3 embedding generation: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
Traceback (most recent call last):
  File "/home/t/lm_rag/src/core/indexing/document_indexer.py", line 341, in _generate_embeddings
    if not output.get('dense_vecs') or len(output['dense_vecs']) != len(texts):
           ^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-04-13 18:51:41,449 - src.core.indexing.document_indexer - ERROR - Embedding generation failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
Traceback (most recent call last):
  File "/home/t/lm_rag/src/core/indexing/document_indexer.py", line 498, in _index_to_qdrant
    embeddings_output = self._generate_embeddings(texts) # Handles both model types
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/core/indexing/document_indexer.py", line 341, in _generate_embeddings
    if not output.get('dense_vecs') or len(output['dense_vecs']) != len(texts):
           ^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-04-13 18:51:41,491 - src.core.indexing.document_indexer - INFO - Qdrant indexing took 17.10s (Success: False)
2025-04-13 18:51:41,493 - src.core.indexing.document_indexer - WARNING - INDEXING COMPLETED (Fallback): Indexed 672 chunks to BM25 only in 17.63s due to Qdrant failure.
2025-04-13 18:51:41,494 - src.core.indexing.document_indexer - INFO - ===== STARTING EMBEDDING MODEL UNLOAD =====
2025-04-13 18:51:41,495 - src.core.indexing.document_indexer - INFO - Attempting to unload BGE-M3 (FlagEmbedding) model components...
2025-04-13 18:51:42,754 - src.core.indexing.document_indexer - INFO - Deleted BGE-M3 model and tokenizer references.
2025-04-13 18:51:48,129 - src.core.indexing.document_indexer - INFO - Clearing CUDA cache...
2025-04-13 18:51:48,176 - src.core.indexing.document_indexer - INFO - Running garbage collection...
2025-04-13 18:51:48,602 - src.core.indexing.document_indexer - INFO - ===== EMBEDDING MODEL UNLOAD COMPLETE =====
2025-04-13 18:51:48,607 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 3.12 GB, VMS: 42.78 GB
2025-04-13 18:51:48,609 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 18:51:48,861 - __main__ - INFO - Document processing completed successfully!
2025-04-13 18:51:48,867 - __main__ - INFO - Document processing call completed
2025-04-13 18:55:58,645 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 18:55:58,681 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 18:55:58,690 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 18:55:58,691 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 18:55:58,700 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 18:55:58,702 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 18:55:58,703 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 18:55:58,705 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 18:55:58,706 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 18:55:58,706 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:55:58,707 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 18:55:58,708 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 18:55:58,709 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 18:55:58,710 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.31 GB, VMS: 37.55 GB
2025-04-13 18:55:58,856 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 18:55:58,858 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 18:55:59,414 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 18:55:59,416 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 19:01:09,075 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 19:01:10,828 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 19:01:11,554 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 19:01:11,636 - __main__ - INFO - Storing selected LLM for session: Qwen/Qwen2.5-7B-Instruct
2025-04-13 19:01:11,640 - __main__ - INFO - Starting document processing for 1 files
2025-04-13 19:01:11,642 - __main__ - INFO - Starting document processing with spreadsheet options. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']
2025-04-13 19:01:11,643 - __main__ - INFO - Starting Aphrodite service for document processing
2025-04-13 19:01:24,703 - __main__ - INFO - Aphrodite service started successfully
2025-04-13 19:01:24,704 - __main__ - INFO - Saved Aphrodite process info: PID=52466
2025-04-13 19:01:24,705 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-13 19:01:24,706 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-13 19:01:24,737 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-13 19:01:24,744 - __main__ - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 19:01:24,745 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-13 19:01:24,746 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 19:01:24,746 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-13 19:03:59,466 - src.core.document_processing.document_loader - INFO - Exporting Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf content to Markdown...
2025-04-13 19:04:29,175 - src.core.document_processing.document_loader - INFO - Docling processing successful for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf. Word count: 94174, Page count: 246
2025-04-13 19:04:29,288 - __main__ - INFO - Document loaded: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf, Content items: 1
2025-04-13 19:04:29,290 - __main__ - INFO - All documents loaded. Shutting down document loader (Docling) to free resources...
2025-04-13 19:04:29,291 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-13 19:04:29,292 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.76 GB, VMS: 40.78 GB
2025-04-13 19:04:29,293 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-13 19:04:29,294 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-13 19:04:29,296 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-13 19:04:29,297 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-13 19:04:29,716 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-13 19:04:29,718 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-13 19:04:29,741 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-13 19:04:29,742 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-13 19:04:29,744 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.72 GB, VMS: 40.73 GB
2025-04-13 19:04:29,745 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 19:04:29,746 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-13 19:04:30,161 - __main__ - INFO - Document loader shut down complete.
2025-04-13 19:04:30,162 - __main__ - INFO - Process memory - RSS: 2.72 GB, VMS: 40.73 GB
2025-04-13 19:04:30,163 - __main__ - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 19:04:30,164 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-13 19:04:30,165 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-13 19:04:30,166 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.72 GB, VMS: 40.73 GB
2025-04-13 19:04:30,167 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 19:04:30,168 - __main__ - INFO - Loading chunking model...
2025-04-13 19:04:30,169 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 19:04:30,170 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-13 19:04:30,171 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-13 19:04:30,171 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-13 19:04:30,172 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-13 19:04:34,772 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-13 19:04:34,773 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.60 seconds
2025-04-13 19:04:34,774 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.85 GB, VMS: 42.01 GB
2025-04-13 19:04:34,776 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 19:04:34,777 - __main__ - INFO - Chunking document 1/1: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 19:04:34,778 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (ID: 6ea82141-e869-4493-97dc-a54cd32227b4, Type: .pdf)
2025-04-13 19:04:34,778 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf.
2025-04-13 19:04:34,779 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 608866 chars) using Markdown Header + Semantic chunking.
2025-04-13 19:04:34,799 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 244 initial structural chunks.
2025-04-13 19:04:42,330 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 502 potential chunks.
2025-04-13 19:04:42,331 - src.core.document_processing.document_chunker - WARNING - Chunk (length 8299) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 19:04:42,332 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 19:04:42,333 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6564) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 19:04:42,334 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 19:04:42,335 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6017) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 19:04:42,337 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 19:04:42,338 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5972) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 19:04:42,339 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 19:04:42,339 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7518) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 19:04:42,340 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 21 basic chunks.
2025-04-13 19:04:42,341 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7098) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 19:04:42,342 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 19:04:42,343 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7084) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 19:04:42,344 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 19 basic chunks.
2025-04-13 19:04:42,344 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5166) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 19:04:42,349 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 15 basic chunks.
2025-04-13 19:04:42,350 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5469) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 19:04:42,351 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 14 basic chunks.
2025-04-13 19:04:42,352 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5139) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 19:04:42,353 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 13 basic chunks.
2025-04-13 19:04:42,353 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 10 oversized chunks.
2025-04-13 19:04:42,354 - src.core.document_processing.document_chunker - INFO - Final processing created 672 chunks from text of length 608866.
2025-04-13 19:04:42,358 - src.core.document_processing.document_chunker - INFO - Chunking for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf completed in 7.58s.
2025-04-13 19:04:42,359 - src.core.document_processing.document_chunker - INFO - Created 672 total chunks: 0 spreadsheet rows, 492 semantic chunks, 0 sentence fallback chunks, 180 basic fallback chunks.
2025-04-13 19:04:42,359 - src.core.document_processing.document_chunker - INFO - Average chunk size: 881.6 characters.
2025-04-13 19:04:42,361 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.85 GB, VMS: 41.99 GB
2025-04-13 19:04:42,362 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.97 GB, Total: 8.00 GB
2025-04-13 19:04:42,363 - __main__ - INFO - Created 672 chunks for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 19:04:42,364 - __main__ - INFO - Shutting down chunking model...
2025-04-13 19:04:42,364 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 19:04:42,365 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-13 19:04:42,366 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-13 19:04:42,367 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-13 19:04:42,373 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-13 19:04:42,944 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-13 19:04:42,947 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.85 GB, VMS: 41.99 GB
2025-04-13 19:04:42,948 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 19:04:42,949 - __main__ - INFO - Total chunks generated: 672
2025-04-13 19:04:42,949 - __main__ - INFO - Creating entity extractor with model Qwen/Qwen2.5-7B-Instruct
2025-04-13 19:04:42,950 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with model=Qwen/Qwen2.5-7B-Instruct, debug=True, using advanced deduplication.
2025-04-13 19:04:42,951 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.85 GB, VMS: 41.99 GB
2025-04-13 19:04:42,952 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 19:04:42,953 - __main__ - INFO - Starting entity extraction on 672 chunks (0 visual chunks)
2025-04-13 19:04:42,954 - src.core.extraction.entity_extractor - INFO - Adding 672 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-13 19:04:42,955 - src.core.extraction.entity_extractor - INFO - Added 672 chunks to queue. Processing now.
2025-04-13 19:04:42,956 - src.core.extraction.entity_extractor - INFO - Processing all 672 chunks...
2025-04-13 19:04:42,957 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.85 GB, VMS: 41.99 GB
2025-04-13 19:04:42,958 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 19:04:42,962 - src.core.extraction.entity_extractor - INFO - Loading designated extraction model: Qwen/Qwen2.5-7B-Instruct
2025-04-13 19:09:03,734 - src.core.extraction.entity_extractor - INFO - Model Qwen/Qwen2.5-7B-Instruct loaded successfully for extraction.
2025-04-13 19:09:03,741 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks (0 spreadsheet rows)
2025-04-13 19:09:03,743 - src.core.extraction.entity_extractor - INFO - Processing in 1 batches of size 1024
2025-04-13 19:09:03,745 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (672 chunks)
2025-04-13 19:09:03,803 - src.core.extraction.entity_extractor - INFO - Sending batch of 672 prompts to service
2025-04-13 19:37:15,845 - src.core.extraction.entity_extractor - INFO - Received response from service
2025-04-13 19:37:15,854 - src.core.extraction.entity_extractor - INFO - Service request/response took 1692.05s
2025-04-13 19:37:15,869 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 6611cc9a-2fad-46e3-8cfd-2bc3b460ae6d: Unterminated string starting at: line 1 column 7911 (char 7910). Content: '{ "entity_relationship_list": [ { "from_entity_type": "NGO", "from_entity_name": "NCA", "relationshi...'
2025-04-13 19:37:15,882 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 0b6f33f2-108b-4c07-af77-7fffd06942a7: Unterminated string starting at: line 1 column 7642 (char 7641). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 19:37:15,886 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 6bc69069-04b7-43f3-8778-ed268b098e64: Unterminated string starting at: line 1 column 7346 (char 7345). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 19:37:15,888 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 7841d02e-83b7-48b1-b506-9b0f6d2a37c1: Unterminated string starting at: line 1 column 7417 (char 7416). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 19:37:15,891 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7d36b94a-e4be-413d-afd1-7762d75ebbe5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,893 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7d36b94a-e4be-413d-afd1-7762d75ebbe5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='judge' to_entity_type='POSITION'
2025-04-13 19:37:15,895 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7d36b94a-e4be-413d-afd1-7762d75ebbe5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='PFO' to_entity_type='ASSET'
2025-04-13 19:37:15,896 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7d36b94a-e4be-413d-afd1-7762d75ebbe5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Disclosure Order' to_entity_type='ASSET'
2025-04-13 19:37:15,897 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7d36b94a-e4be-413d-afd1-7762d75ebbe5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='financial institutions, law firms and other relevant third parties' to_entity_type='NGO'
2025-04-13 19:37:15,899 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1364d627-5fbf-486a-aad4-99a42b5b6e83: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,901 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1364d627-5fbf-486a-aad4-99a42b5b6e83: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,902 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1364d627-5fbf-486a-aad4-99a42b5b6e83: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,903 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1364d627-5fbf-486a-aad4-99a42b5b6e83: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,905 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8b984fec-7c40-41f3-ad72-741e967b176f: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,907 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8b984fec-7c40-41f3-ad72-741e967b176f: from_entity_type='ASSET' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,909 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 310ccf98-3bfb-498f-98cb-1f06c25ccf28: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='LOCATED_IN' relationship_description='Used to hold bank accounts' to_entity_name='a number of jurisdictions' to_entity_type='LOCATION'
2025-04-13 19:37:15,913 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 481eb359-d150-4284-afa1-5a20815d3b5d: Expecting value: line 1 column 7144 (char 7143). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "IBA", ...'
2025-04-13 19:37:15,920 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 308a0670-d1d5-4f44-9505-28efc00701f3: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='provided an income for' to_entity_name='Zamira HAJIYEVA' to_entity_type='PERSON'
2025-04-13 19:37:15,925 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 07b89a92-ffd7-4e06-a872-48db7e2633f5: Unterminated string starting at: line 1 column 8603 (char 8602). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 19:37:15,930 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 9ac5f488-2e56-4520-af6a-6da2f49d0b1b: Unterminated string starting at: line 1 column 7920 (char 7919). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 19:37:15,936 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 2893fd40-d3ef-445c-87bd-6c005ee3ca7a: Unterminated string starting at: line 1 column 7522 (char 7521). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 19:37:15,938 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 89ff94eb-8f6a-4cf8-a08f-859f51a602b0: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,940 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 89ff94eb-8f6a-4cf8-a08f-859f51a602b0: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,942 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 3de798b9-fc97-426d-8766-80adb156d359: Unterminated string starting at: line 1 column 7301 (char 7300). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 19:37:15,943 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk ede37b24-1639-49f0-a78f-dc5020090ba5: Unterminated string starting at: line 1 column 7725 (char 7724). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 19:37:15,945 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bbfc578f-fca8-4323-8336-102238ba0137: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,948 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f898719e-35f6-470d-a9dd-37e84542e0c0: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='correspond to the dates and amounts of' to_entity_name='promissory notes and loan agreements' to_entity_type='ASSET'
2025-04-13 19:37:15,953 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d7b93cda-43f6-41af-90e4-afab4b7834d8: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,961 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d571bb57-ec85-4146-9ed4-049abef269ea: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,966 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ba1b547c-21d9-4bfc-a16e-3cd214aed16c: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OCCRP' to_entity_type='NGO'
2025-04-13 19:37:15,973 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b98f0ac4-0164-4d2d-bb86-86ffcb63da4d: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,976 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 2cf6fd7b-fe0c-4751-a4e0-b4ba565d5055: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,979 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk cfb065b3-eb18-4fe6-9531-da71db37a744: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,981 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk cfb065b3-eb18-4fe6-9531-da71db37a744: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:15,984 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9cc528d7-c43c-4435-9309-71924d4604d8: from_entity_type=None from_entity_name='Estonia' relationship_type=None relationship_description=None to_entity_name='Cyprus' to_entity_type='LOCATION'
2025-04-13 19:37:15,985 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9cc528d7-c43c-4435-9309-71924d4604d8: from_entity_type=None from_entity_name='Estonia' relationship_type=None relationship_description=None to_entity_name='Latvia' to_entity_type='LOCATION'
2025-04-13 19:37:15,988 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 10beaf3f-4e53-453d-8c40-a78b9cb5f413: Unterminated string starting at: line 1 column 8193 (char 8192). Content: '{"entity_relationship_list": [{"from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "rel...'
2025-04-13 19:37:15,990 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 30f33bfb-e8e1-4819-b3dd-2354d1bda25e: Expecting property name enclosed in double quotes: line 1 column 7882 (char 7881). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 6,...'
2025-04-13 19:37:15,993 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3659f065-87fe-4067-8149-645d973de2d4: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='FATF Report on Concealment of Beneficial Ownership' to_entity_type='EVENT'
2025-04-13 19:37:15,995 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3659f065-87fe-4067-8149-645d973de2d4: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OECD Report on Ending the Shell Game' to_entity_type='EVENT'
2025-04-13 19:37:15,996 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3659f065-87fe-4067-8149-645d973de2d4: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='FATF Report on Beneficial Ownership of Legal Persons' to_entity_type='EVENT'
2025-04-13 19:37:16,005 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7073210d-9373-4fb6-b84f-8f3e5b099796: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='loan' to_entity_type='MONEY'
2025-04-13 19:37:16,012 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b3d6580f-81ce-4b33-b8d7-20400a653033: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,017 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e224cb17-8a66-42d1-bd16-00d9783635d6: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,019 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 35ae3586-d39d-4600-9a78-980106fa4036: Expecting property name enclosed in double quotes: line 1 column 8214 (char 8213). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 19:37:16,022 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 67f3b293-11df-4ef5-babd-40ff9e4beae2: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,025 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 03e166ac-4656-4f56-b13d-7f88764538aa: Unterminated string starting at: line 1 column 7827 (char 7826). Content: '{ "entity_relationship_list": [ { "from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "Ang...'
2025-04-13 19:37:16,027 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96dca02d-1c29-44c1-b639-23aa2db586d7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='DH Leasing' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 19:37:16,031 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8ba05976-4044-4ee8-a971-8eccd4d9307e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Isle of Man' to_entity_type='LOCATION'
2025-04-13 19:37:16,036 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 42128b4a-fb5f-4f00-8618-2b000232ac7a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='IBA-Moscow' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 19:37:16,038 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 42128b4a-fb5f-4f00-8618-2b000232ac7a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='transactions' to_entity_type='ASSET'
2025-04-13 19:37:16,040 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6dd93dc6-648a-4239-8e41-b693ad60c3e7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,042 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6dd93dc6-648a-4239-8e41-b693ad60c3e7: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,053 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bc45fabc-5e49-4fde-8a7b-e0463361d945: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Regulated firms were required to carry out due diligence' to_entity_name='regulated firms' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 19:37:16,058 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bc45fabc-5e49-4fde-8a7b-e0463361d945: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Source of funds and source of wealth' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 19:37:16,062 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bc45fabc-5e49-4fde-8a7b-e0463361d945: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Income' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 19:37:16,065 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bc45fabc-5e49-4fde-8a7b-e0463361d945: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Sources of evidence' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 19:37:16,069 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bc45fabc-5e49-4fde-8a7b-e0463361d945: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 19:37:16,071 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bc45fabc-5e49-4fde-8a7b-e0463361d945: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Income' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 19:37:16,072 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bc45fabc-5e49-4fde-8a7b-e0463361d945: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Explanations and sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 19:37:16,073 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bc45fabc-5e49-4fde-8a7b-e0463361d945: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Explanations and sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 19:37:16,075 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk bc45fabc-5e49-4fde-8a7b-e0463361d945: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Explanations and sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 19:37:16,076 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f672b119-b261-42c8-a676-b51ed199fe8a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Employment' to_entity_name='Tab C1' to_entity_type='LOCATION'
2025-04-13 19:37:16,079 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d90fdeb9-03da-41cb-8318-011e7fcdaaab: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='IBA' to_entity_type='GOVERNMENT_BODY'
2025-04-13 19:37:16,085 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4c5ed5ca-5e62-40d2-9ea5-371b2bf1c42b: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,091 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 99e07fa9-e9d6-4ef8-8969-80dbe7e74bf4: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description="Income is from Mr Hajiyev's professional activity" to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 19:37:16,094 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 99e07fa9-e9d6-4ef8-8969-80dbe7e74bf4: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description="Income is from Mr Hajiyev's professional activity" to_entity_name='Mrs Hajiyev' to_entity_type='PERSON'
2025-04-13 19:37:16,096 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 99e07fa9-e9d6-4ef8-8969-80dbe7e74bf4: from_entity_type='LOCATION' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,098 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 54888ffb-43a1-4cf6-a894-4e7042528dcf: from_entity_type=None from_entity_name='Tea Construction' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,100 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 54888ffb-43a1-4cf6-a894-4e7042528dcf: from_entity_type=None from_entity_name='Eroil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,101 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 54888ffb-43a1-4cf6-a894-4e7042528dcf: from_entity_type=None from_entity_name='Mea Oil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,103 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 54888ffb-43a1-4cf6-a894-4e7042528dcf: from_entity_type=None from_entity_name='TPD Trading Petrol and Drilling' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,104 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 54888ffb-43a1-4cf6-a894-4e7042528dcf: from_entity_type=None from_entity_name='Tiara' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,105 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 54888ffb-43a1-4cf6-a894-4e7042528dcf: from_entity_type=None from_entity_name='Migao Corporation' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,107 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 54888ffb-43a1-4cf6-a894-4e7042528dcf: from_entity_type=None from_entity_name='Anglo Asian Mining Plc' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,108 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3a72e919-6de7-44c5-b9f4-bb1918e82f09: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='BVI Financial Investigation Agency' to_entity_type='GOVERNMENT_BODY'
2025-04-13 19:37:16,111 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk f84eb0d5-2259-4350-a86f-53f35369a529: Unterminated string starting at: line 1 column 6476 (char 6475). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 19:37:16,117 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 1f1bb1d2-e991-4aaa-bd0e-ca43b8a85b08: Unterminated string starting at: line 1 column 6983 (char 6982). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 19:37:16,119 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a9cf5035-be7f-4db1-a05a-9ad1d6c22113: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,121 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a9cf5035-be7f-4db1-a05a-9ad1d6c22113: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,122 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9aaaca0d-fc3a-4c00-8198-c6481cf111d8: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,124 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7f144e22-1b50-4c12-91fb-c01890e710f5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Azerbaijan' to_entity_type='LOCATION'
2025-04-13 19:37:16,127 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8f6cebfe-c3b3-49fe-97ef-a3e283bf1f26: from_entity_type=None from_entity_name='Cyprus' relationship_type='LOCATED_IN' relationship_description="One of the jurisdictions where Mr Bashirov's accounts are controlled" to_entity_name=None to_entity_type='LOCATION'
2025-04-13 19:37:16,132 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 86b07947-0ec5-4513-823d-199dcdb46c33: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,135 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 5f21f70c-c99d-4b81-b07f-4d7aaaf51a47: Unterminated string starting at: line 1 column 6374 (char 6373). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 6,...'
2025-04-13 19:37:16,137 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 52c6a4b0-e943-4325-82cd-b5bc3ea4183e: Unterminated string starting at: line 1 column 7734 (char 7733). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 19:37:16,138 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 52f6bfa0-1144-4461-9ec2-f0a0657c9f1b: from_entity_type='PERSON' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,140 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 52f6bfa0-1144-4461-9ec2-f0a0657c9f1b: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,142 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8c3aade7-a9ae-46fc-a5ae-28f6f8c29220: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,144 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f28993af-6697-4846-956b-ee3c63b9c3e9: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,146 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 2014460b-bb98-408c-810e-a51fe5f49e08: Unterminated string starting at: line 1 column 7519 (char 7518). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "credit...'
2025-04-13 19:37:16,147 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e8c7568b-3a6f-4236-a9d4-5dd41d231591: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='legal charge' to_entity_name='12-14 Walton Street' to_entity_type='ASSET'
2025-04-13 19:37:16,148 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e8c7568b-3a6f-4236-a9d4-5dd41d231591: from_entity_type='EVENT' from_entity_name=None relationship_type='WORKS_FOR' relationship_description=None to_entity_name='Barclays Wealth' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 19:37:16,149 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e8c7568b-3a6f-4236-a9d4-5dd41d231591: from_entity_type='EVENT' from_entity_name=None relationship_type='CONNECTED_TO' relationship_description='email confirmation' to_entity_name='Mishcon' to_entity_type='PERSON'
2025-04-13 19:37:16,155 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk e0be2573-594b-49bc-a202-e8ed280f595b: Unterminated string starting at: line 1 column 7819 (char 7818). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Mateos", "re...'
2025-04-13 19:37:16,157 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 511fb3ba-579c-47bc-af38-94f97c9bc7d8: Expecting value: line 1 column 7637 (char 7636). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 19:37:16,159 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d460f226-f1de-4fc8-a57d-39133f53bf91: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,161 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d460f226-f1de-4fc8-a57d-39133f53bf91: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,162 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 43383432-473a-4055-8757-0797aa5f93d3: Unterminated string starting at: line 1 column 7961 (char 7960). Content: '{"entity_relationship_list": [{"from_entity_type": "NGO", "from_entity_name": null, "relationship_ty...'
2025-04-13 19:37:16,164 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk dc974c5d-21d0-47a2-a7d4-427b73a1cf3a: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,165 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk dc974c5d-21d0-47a2-a7d4-427b73a1cf3a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,167 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk d2821e31-9187-47c5-8b2f-fc576a5d64e2: Unterminated string starting at: line 1 column 7755 (char 7754). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Georgiou", "...'
2025-04-13 19:37:16,168 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk becec342-77ff-46f0-801a-7331ddc2cb77: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,170 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk becec342-77ff-46f0-801a-7331ddc2cb77: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Mill Ride Golf Club' to_entity_type='ASSET'
2025-04-13 19:37:16,171 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4d4651a6-e43b-4165-ad32-2b0d92fd6136: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,173 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 97785e05-9fa0-4def-94bb-e1a9f778d46d: Unterminated string starting at: line 1 column 7213 (char 7212). Content: '{ "entity_relationship_list": [ { "from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "VES...'
2025-04-13 19:37:16,176 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d363e5f3-4fee-4b86-b427-b42d9663e094: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='account number LU190023192776665200' to_entity_type='ASSET'
2025-04-13 19:37:16,178 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 167f511b-f41b-4f65-8ae8-31ed9e9d99a5: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,179 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 167f511b-f41b-4f65-8ae8-31ed9e9d99a5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,183 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 1c3833b3-de73-4cb0-a187-b40fe32477ae: Unterminated string starting at: line 1 column 7625 (char 7624). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Ahmadov", "r...'
2025-04-13 19:37:16,185 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 48499305-8888-4618-b3e5-29342c636568: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,186 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 48499305-8888-4618-b3e5-29342c636568: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,189 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk eb48ed26-3ea0-4a04-a90f-86300df790dc: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 19:37:16,192 - src.core.extraction.entity_extractor - INFO - Processed batch results in 0.34s. Total batch time: 1692.45s
2025-04-13 19:37:16,193 - src.core.extraction.entity_extractor - INFO - Batch Stats: Success=647, Parse Errors=25, Missing Outputs=0
2025-04-13 19:37:16,200 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 1692.46s
2025-04-13 19:37:16,211 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-13 19:37:16,212 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 4631 entities, 1279 relationships.
2025-04-13 19:37:16,214 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-13 19:37:16,215 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 4631 raw entities...
2025-04-13 19:37:16,306 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-13 19:37:16,443 - src.core.extraction.entity_extractor - WARNING - Removed 11 entities with empty normalized names.
2025-04-13 19:37:16,445 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-13 19:37:17,059 - src.core.extraction.entity_extractor - INFO - Generated 163238 candidate pairs across all types.
2025-04-13 19:37:17,061 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-13 19:37:33,545 - src.core.extraction.entity_extractor - INFO - Found 136777 potential duplicate pairs after comparison.
2025-04-13 19:37:33,546 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-13 19:37:38,804 - src.core.extraction.entity_extractor - INFO - Found 1427 clusters (including singletons).
2025-04-13 19:37:38,806 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-13 19:37:39,044 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 1427.
2025-04-13 19:37:39,083 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs based on entity deduplication map...
2025-04-13 19:37:39,085 - src.core.extraction.entity_extractor - INFO - Updating 1279 raw relationships with canonical entity IDs...
2025-04-13 19:37:39,088 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 1254, Updated IDs in 1171, Skipped 25 (self-loops or missing mappings).
2025-04-13 19:37:39,089 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-13 19:37:39,090 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-13 19:37:39,092 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 127 duplicates. Final count: 1127.
2025-04-13 19:37:39,093 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 1427 entities, 1127 relationships.
2025-04-13 19:37:39,127 - src.core.extraction.entity_extractor - INFO - Saved 1427 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-13 19:37:39,142 - src.core.extraction.entity_extractor - INFO - Saved 1127 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-13 19:37:39,144 - __main__ - INFO - Entity extraction complete. Modified chunks: 672
2025-04-13 19:37:39,398 - __main__ - INFO - QueryEngine LLM model updated to: Qwen/Qwen2.5-7B-Instruct
2025-04-13 19:37:39,403 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-13 19:37:39,405 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 19:37:39,406 - src.core.indexing.document_indexer - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct, Timeout: 900s
2025-04-13 19:37:39,407 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-13 19:37:39,408 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-13 19:37:39,412 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.81 GB, VMS: 41.99 GB
2025-04-13 19:37:39,417 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 19:37:39,419 - __main__ - INFO - Loading indexing model...
2025-04-13 19:37:39,420 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-13 19:37:39,422 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-13 19:37:39,423 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-13 19:37:41,962 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-13 19:37:41,963 - src.core.indexing.document_indexer - INFO - Updated expected vector size from BGE-M3 model config: 1024
2025-04-13 19:37:41,965 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 2.54 seconds
2025-04-13 19:37:41,966 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.83 GB, VMS: 44.10 GB
2025-04-13 19:37:41,968 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 19:37:42,037 - __main__ - INFO - Indexing 672 chunks
2025-04-13 19:37:42,038 - src.core.indexing.document_indexer - INFO - Starting indexing process for 672 chunks...
2025-04-13 19:37:42,039 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-13 19:37:42,040 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 672 chunks...
2025-04-13 19:37:42,057 - src.core.indexing.document_indexer - INFO - Tokenizing enhanced texts for BM25...
2025-04-13 19:37:42,537 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-13 19:37:42,553 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-13 19:37:42,556 - src.core.indexing.document_indexer - INFO - Saving BM25 index and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-13 19:37:42,569 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (672 documents processed).
2025-04-13 19:37:42,575 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.53s (Success: True)
2025-04-13 19:37:42,576 - src.core.indexing.document_indexer - INFO - Indexing 672 chunks to Qdrant collection 'anticorruption_rag_e5_instruct'...
2025-04-13 19:37:42,577 - src.core.indexing.document_indexer - INFO - Connecting to Qdrant at localhost:6333 with timeout 900s
2025-04-13 19:37:42,637 - src.core.indexing.document_indexer - INFO - Collection 'anticorruption_rag_e5_instruct' already exists. Verifying configuration...
2025-04-13 19:37:42,646 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=True
2025-04-13 19:37:42,647 - src.core.indexing.document_indexer - INFO - Generating embeddings for all chunks...
2025-04-13 19:37:42,649 - src.core.indexing.document_indexer - INFO - Generating BGE-M3 embeddings for 672 texts (batch_size=12, max_length=8192)...
2025-04-13 19:37:58,813 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 16.16s
2025-04-13 19:37:58,815 - src.core.indexing.document_indexer - INFO - Preparing points for Qdrant upsert...
2025-04-13 20:04:44,424 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:04:44,460 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 20:04:44,465 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 20:04:44,466 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 20:04:44,477 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 20:04:44,481 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 20:04:44,482 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 20:04:44,483 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 20:04:44,484 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 20:04:44,486 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:04:44,487 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 20:04:44,488 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 20:04:44,489 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 20:04:44,490 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.55 GB
2025-04-13 20:04:44,581 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 20:04:44,582 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:04:45,423 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 20:04:45,426 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:04:47,906 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:04:47,908 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 20:04:47,909 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 20:04:47,910 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 20:04:47,912 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 20:04:47,913 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 20:04:47,914 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 20:04:47,915 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 20:04:47,916 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 20:04:47,917 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:04:47,917 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 20:04:47,918 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 20:04:47,919 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 20:04:47,920 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.41 GB, VMS: 37.64 GB
2025-04-13 20:04:47,921 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 20:04:47,922 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:04:48,331 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 20:04:48,333 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:08:48,814 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:08:49,961 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:09:49,508 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:09:50,705 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:09:50,582 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:09:50,670 - __main__ - INFO - Storing selected LLM for session: Qwen/Qwen2.5-7B-Instruct
2025-04-13 20:09:50,672 - __main__ - INFO - Starting document processing for 1 files
2025-04-13 20:09:50,675 - __main__ - INFO - Starting document processing with spreadsheet options. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']
2025-04-13 20:09:50,676 - __main__ - INFO - Starting Aphrodite service for document processing
2025-04-13 20:10:10,873 - __main__ - INFO - Aphrodite service started successfully
2025-04-13 20:10:10,875 - __main__ - INFO - Saved Aphrodite process info: PID=55203
2025-04-13 20:10:10,876 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-13 20:10:10,877 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-13 20:10:10,881 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-13 20:10:10,886 - __main__ - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 20:10:10,887 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-13 20:10:10,888 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 20:10:10,889 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-13 20:12:38,526 - src.core.document_processing.document_loader - INFO - Exporting Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf content to Markdown...
2025-04-13 20:13:08,301 - src.core.document_processing.document_loader - INFO - Docling processing successful for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf. Word count: 94174, Page count: 246
2025-04-13 20:13:08,451 - __main__ - INFO - Document loaded: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf, Content items: 1
2025-04-13 20:13:08,453 - __main__ - INFO - All documents loaded. Shutting down document loader (Docling) to free resources...
2025-04-13 20:13:08,454 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-13 20:13:08,455 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.78 GB, VMS: 40.77 GB
2025-04-13 20:13:08,456 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-13 20:13:08,457 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-13 20:13:08,460 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-13 20:13:08,461 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-13 20:13:08,936 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-13 20:13:08,937 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-13 20:13:08,960 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-13 20:13:08,961 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-13 20:13:08,962 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.73 GB, VMS: 40.73 GB
2025-04-13 20:13:08,963 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 20:13:08,964 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-13 20:13:09,363 - __main__ - INFO - Document loader shut down complete.
2025-04-13 20:13:09,365 - __main__ - INFO - Process memory - RSS: 2.73 GB, VMS: 40.72 GB
2025-04-13 20:13:09,367 - __main__ - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 20:13:09,368 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-13 20:13:09,369 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-13 20:13:09,370 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.73 GB, VMS: 40.72 GB
2025-04-13 20:13:09,371 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 20:13:09,372 - __main__ - INFO - Loading chunking model...
2025-04-13 20:13:09,373 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 20:13:09,374 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-13 20:13:09,375 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-13 20:13:09,376 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-13 20:13:09,377 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-13 20:13:14,626 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-13 20:13:14,629 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 5.25 seconds
2025-04-13 20:13:14,630 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.88 GB, VMS: 42.01 GB
2025-04-13 20:13:14,631 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 20:13:14,632 - __main__ - INFO - Chunking document 1/1: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 20:13:14,633 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (ID: c0e54421-f664-480e-8f4c-31198a732b98, Type: .pdf)
2025-04-13 20:13:14,634 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf.
2025-04-13 20:13:14,635 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 608866 chars) using Markdown Header + Semantic chunking.
2025-04-13 20:13:14,654 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 244 initial structural chunks.
2025-04-13 20:13:22,185 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 502 potential chunks.
2025-04-13 20:13:22,187 - src.core.document_processing.document_chunker - WARNING - Chunk (length 8299) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:13:22,188 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 20:13:22,189 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6564) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:13:22,191 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 20:13:22,192 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6017) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:13:22,193 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 20:13:22,194 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5972) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:13:22,195 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 20:13:22,196 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7518) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:13:22,197 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 21 basic chunks.
2025-04-13 20:13:22,197 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7098) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:13:22,198 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 20:13:22,199 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7084) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:13:22,200 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 19 basic chunks.
2025-04-13 20:13:22,201 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5166) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:13:22,204 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 15 basic chunks.
2025-04-13 20:13:22,205 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5469) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:13:22,205 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 14 basic chunks.
2025-04-13 20:13:22,206 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5139) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:13:22,207 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 13 basic chunks.
2025-04-13 20:13:22,208 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 10 oversized chunks.
2025-04-13 20:13:22,209 - src.core.document_processing.document_chunker - INFO - Final processing created 672 chunks from text of length 608866.
2025-04-13 20:13:22,212 - src.core.document_processing.document_chunker - INFO - Chunking for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf completed in 7.58s.
2025-04-13 20:13:22,213 - src.core.document_processing.document_chunker - INFO - Created 672 total chunks: 0 spreadsheet rows, 492 semantic chunks, 0 sentence fallback chunks, 180 basic fallback chunks.
2025-04-13 20:13:22,214 - src.core.document_processing.document_chunker - INFO - Average chunk size: 881.6 characters.
2025-04-13 20:13:22,215 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.88 GB, VMS: 42.00 GB
2025-04-13 20:13:22,216 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.97 GB, Total: 8.00 GB
2025-04-13 20:13:22,217 - __main__ - INFO - Created 672 chunks for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 20:13:22,218 - __main__ - INFO - Shutting down chunking model...
2025-04-13 20:13:22,219 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 20:13:22,220 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-13 20:13:22,221 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-13 20:13:22,221 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-13 20:13:22,227 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-13 20:13:22,964 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-13 20:13:22,967 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.88 GB, VMS: 42.00 GB
2025-04-13 20:13:22,968 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 20:13:22,969 - __main__ - INFO - Total chunks generated: 672
2025-04-13 20:13:22,970 - __main__ - INFO - Creating entity extractor with model Qwen/Qwen2.5-7B-Instruct
2025-04-13 20:13:22,974 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with model=Qwen/Qwen2.5-7B-Instruct, debug=True, using advanced deduplication.
2025-04-13 20:13:22,975 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.88 GB, VMS: 42.00 GB
2025-04-13 20:13:22,976 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 20:13:22,977 - __main__ - INFO - Starting entity extraction on 672 chunks (0 visual chunks)
2025-04-13 20:13:22,978 - src.core.extraction.entity_extractor - INFO - Adding 672 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-13 20:13:22,980 - src.core.extraction.entity_extractor - INFO - Added 672 chunks to queue. Processing now.
2025-04-13 20:13:22,981 - src.core.extraction.entity_extractor - INFO - Processing all 672 chunks...
2025-04-13 20:13:22,982 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.88 GB, VMS: 42.00 GB
2025-04-13 20:13:22,983 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 20:13:22,987 - src.core.extraction.entity_extractor - INFO - Loading designated extraction model: Qwen/Qwen2.5-7B-Instruct
2025-04-13 20:19:01,179 - src.core.extraction.entity_extractor - INFO - Model Qwen/Qwen2.5-7B-Instruct loaded successfully for extraction.
2025-04-13 20:19:01,193 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks (0 spreadsheet rows)
2025-04-13 20:19:01,197 - src.core.extraction.entity_extractor - INFO - Processing in 1 batches of size 1024
2025-04-13 20:19:01,201 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (672 chunks)
2025-04-13 20:19:01,315 - src.core.extraction.entity_extractor - INFO - Sending batch of 672 prompts to service
2025-04-13 20:44:34,646 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:44:34,647 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:44:34,646 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:44:34,646 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:44:34,650 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:44:34,647 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:44:34,650 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:44:34,647 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:44:34,650 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:44:34,703 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 20:44:34,703 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 20:44:34,703 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 20:44:35,524 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 20:44:35,526 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 20:44:35,550 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 20:44:35,553 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 20:44:35,553 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 20:44:35,553 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 20:44:35,554 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 20:44:35,556 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 20:44:35,557 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 20:44:35,558 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:44:35,558 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 20:44:35,559 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 20:44:35,560 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 20:44:35,561 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.32 GB, VMS: 37.68 GB
2025-04-13 20:44:35,659 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 20:44:35,660 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:44:36,436 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 20:44:36,438 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:44:36,438 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:44:36,438 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:44:44,296 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:44:48,433 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:44:49,878 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:44:49,970 - __main__ - INFO - Storing selected LLM for session: Qwen/Qwen2.5-7B-Instruct
2025-04-13 20:44:49,973 - __main__ - INFO - Starting document processing for 1 files
2025-04-13 20:44:49,975 - __main__ - INFO - Starting document processing with spreadsheet options. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']
2025-04-13 20:44:49,977 - __main__ - INFO - Starting Aphrodite service for document processing
2025-04-13 20:45:06,220 - __main__ - INFO - Aphrodite service started successfully
2025-04-13 20:45:06,222 - __main__ - INFO - Saved Aphrodite process info: PID=56973
2025-04-13 20:45:06,223 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-13 20:45:06,224 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-13 20:45:06,230 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-13 20:45:06,237 - __main__ - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 20:45:06,238 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-13 20:45:06,239 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 20:45:06,240 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-13 20:46:46,644 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:46:46,644 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:46:46,654 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:46:46,654 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:46:46,685 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 20:46:46,685 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 20:46:46,686 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 20:46:46,686 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 20:46:46,691 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 20:46:46,692 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 20:46:46,693 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 20:46:46,694 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 20:46:46,700 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 20:46:46,702 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 20:46:46,703 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 20:46:46,705 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 20:46:46,703 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 20:46:46,707 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 20:46:46,705 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 20:46:46,708 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 20:46:46,709 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 20:46:46,711 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 20:46:46,712 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 20:46:46,712 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 20:46:46,713 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:46:46,714 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:46:46,715 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 20:46:46,716 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 20:46:46,717 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 20:46:46,719 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 20:46:46,720 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 20:46:46,721 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 20:46:46,724 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.62 GB
2025-04-13 20:46:46,724 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.62 GB
2025-04-13 20:46:46,817 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 20:46:46,817 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 20:46:46,819 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:46:46,820 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:46:47,322 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 20:46:47,325 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:46:47,325 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:46:47,600 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 20:46:47,603 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:46:47,603 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 20:47:07,178 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:47:08,800 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:47:09,444 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 20:47:09,511 - __main__ - INFO - Storing selected LLM for session: Qwen/Qwen2.5-7B-Instruct
2025-04-13 20:47:09,513 - __main__ - INFO - Starting document processing for 1 files
2025-04-13 20:47:09,515 - __main__ - INFO - Starting document processing with spreadsheet options. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']
2025-04-13 20:47:09,517 - __main__ - INFO - Starting Aphrodite service for document processing
2025-04-13 20:47:22,382 - __main__ - INFO - Aphrodite service started successfully
2025-04-13 20:47:22,383 - __main__ - INFO - Saved Aphrodite process info: PID=58011
2025-04-13 20:47:22,384 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-13 20:47:22,385 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-13 20:47:22,388 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-13 20:47:22,425 - __main__ - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 20:47:22,426 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-13 20:47:22,427 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 20:47:22,428 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-13 20:49:40,180 - src.core.document_processing.document_loader - INFO - Exporting Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf content to Markdown...
2025-04-13 20:50:09,405 - src.core.document_processing.document_loader - INFO - Docling processing successful for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf. Word count: 94174, Page count: 246
2025-04-13 20:50:09,513 - __main__ - INFO - Document loaded: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf, Content items: 1
2025-04-13 20:50:09,515 - __main__ - INFO - All documents loaded. Shutting down document loader (Docling) to free resources...
2025-04-13 20:50:09,516 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-13 20:50:09,517 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.84 GB, VMS: 40.79 GB
2025-04-13 20:50:09,518 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-13 20:50:09,519 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-13 20:50:09,521 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-13 20:50:09,522 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-13 20:50:09,947 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-13 20:50:09,948 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-13 20:50:09,970 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-13 20:50:09,971 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-13 20:50:09,972 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.78 GB, VMS: 40.73 GB
2025-04-13 20:50:09,973 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 20:50:09,974 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-13 20:50:10,376 - __main__ - INFO - Document loader shut down complete.
2025-04-13 20:50:10,377 - __main__ - INFO - Process memory - RSS: 2.78 GB, VMS: 40.73 GB
2025-04-13 20:50:10,378 - __main__ - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 20:50:10,379 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-13 20:50:10,380 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-13 20:50:10,381 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.78 GB, VMS: 40.73 GB
2025-04-13 20:50:10,382 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 20:50:10,383 - __main__ - INFO - Loading chunking model...
2025-04-13 20:50:10,384 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 20:50:10,384 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-13 20:50:10,385 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-13 20:50:10,386 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-13 20:50:10,387 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-13 20:50:14,917 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-13 20:50:14,919 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.53 seconds
2025-04-13 20:50:14,920 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.94 GB, VMS: 42.04 GB
2025-04-13 20:50:14,921 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 20:50:14,922 - __main__ - INFO - Chunking document 1/1: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 20:50:14,923 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (ID: b164177e-d659-49fb-bd92-de004580a332, Type: .pdf)
2025-04-13 20:50:14,924 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf.
2025-04-13 20:50:14,925 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 608866 chars) using Markdown Header + Semantic chunking.
2025-04-13 20:50:14,946 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 244 initial structural chunks.
2025-04-13 20:50:22,492 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 502 potential chunks.
2025-04-13 20:50:22,493 - src.core.document_processing.document_chunker - WARNING - Chunk (length 8299) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:50:22,494 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 20:50:22,495 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6564) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:50:22,496 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 20:50:22,497 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6017) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:50:22,499 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 20:50:22,500 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5972) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:50:22,500 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 20:50:22,501 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7518) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:50:22,502 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 21 basic chunks.
2025-04-13 20:50:22,503 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7098) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:50:22,504 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 20:50:22,505 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7084) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:50:22,506 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 19 basic chunks.
2025-04-13 20:50:22,506 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5166) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:50:22,509 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 15 basic chunks.
2025-04-13 20:50:22,510 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5469) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:50:22,511 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 14 basic chunks.
2025-04-13 20:50:22,512 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5139) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 20:50:22,513 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 13 basic chunks.
2025-04-13 20:50:22,513 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 10 oversized chunks.
2025-04-13 20:50:22,514 - src.core.document_processing.document_chunker - INFO - Final processing created 672 chunks from text of length 608866.
2025-04-13 20:50:22,518 - src.core.document_processing.document_chunker - INFO - Chunking for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf completed in 7.59s.
2025-04-13 20:50:22,519 - src.core.document_processing.document_chunker - INFO - Created 672 total chunks: 0 spreadsheet rows, 492 semantic chunks, 0 sentence fallback chunks, 180 basic fallback chunks.
2025-04-13 20:50:22,519 - src.core.document_processing.document_chunker - INFO - Average chunk size: 881.6 characters.
2025-04-13 20:50:22,520 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.94 GB, VMS: 42.02 GB
2025-04-13 20:50:22,521 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.97 GB, Total: 8.00 GB
2025-04-13 20:50:22,522 - __main__ - INFO - Created 672 chunks for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 20:50:22,523 - __main__ - INFO - Shutting down chunking model...
2025-04-13 20:50:22,524 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 20:50:22,525 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-13 20:50:22,526 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-13 20:50:22,526 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-13 20:50:22,532 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-13 20:50:23,177 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-13 20:50:23,179 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.94 GB, VMS: 42.02 GB
2025-04-13 20:50:23,180 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 20:50:23,181 - __main__ - INFO - Total chunks generated: 672
2025-04-13 20:50:23,182 - __main__ - INFO - Creating entity extractor with model Qwen/Qwen2.5-7B-Instruct
2025-04-13 20:50:23,183 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with model=Qwen/Qwen2.5-7B-Instruct, debug=True, using advanced deduplication.
2025-04-13 20:50:23,184 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.94 GB, VMS: 42.02 GB
2025-04-13 20:50:23,185 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 20:50:23,186 - __main__ - INFO - Starting entity extraction on 672 chunks (0 visual chunks)
2025-04-13 20:50:23,187 - src.core.extraction.entity_extractor - INFO - Adding 672 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-13 20:50:23,189 - src.core.extraction.entity_extractor - INFO - Added 672 chunks to queue. Processing now.
2025-04-13 20:50:23,190 - src.core.extraction.entity_extractor - INFO - Processing all 672 chunks...
2025-04-13 20:50:23,191 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.94 GB, VMS: 42.02 GB
2025-04-13 20:50:23,192 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 20:50:23,194 - src.core.extraction.entity_extractor - INFO - Loading designated extraction model: Qwen/Qwen2.5-7B-Instruct
2025-04-13 20:54:33,669 - src.core.extraction.entity_extractor - INFO - Model Qwen/Qwen2.5-7B-Instruct loaded successfully for extraction.
2025-04-13 20:54:33,671 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks (0 spreadsheet rows)
2025-04-13 20:54:33,672 - src.core.extraction.entity_extractor - INFO - Processing in 1 batches of size 1024
2025-04-13 20:54:33,673 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (672 chunks)
2025-04-13 20:54:33,689 - src.core.extraction.entity_extractor - INFO - Sending batch of 672 prompts to service
2025-04-13 21:22:21,312 - src.core.extraction.entity_extractor - INFO - Received response from service
2025-04-13 21:22:21,324 - src.core.extraction.entity_extractor - INFO - Service request/response took 1667.63s
2025-04-13 21:22:21,343 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 9a2703b6-ac75-428e-a66c-bf124a59fcad: Unterminated string starting at: line 1 column 7911 (char 7910). Content: '{ "entity_relationship_list": [ { "from_entity_type": "NGO", "from_entity_name": "NCA", "relationshi...'
2025-04-13 21:22:21,347 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk f67f553a-f186-4c0c-939b-5652bb3bc8b1: Unterminated string starting at: line 1 column 7642 (char 7641). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 21:22:21,351 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 7dafeba4-e963-4ac8-a809-23a8433e3ddc: Unterminated string starting at: line 1 column 7346 (char 7345). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 21:22:21,355 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 95d8c938-8a16-42af-8986-b22d7e95b370: Unterminated string starting at: line 1 column 7417 (char 7416). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 21:22:21,358 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 471ca3d9-a629-4452-912a-b8fee70924a5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,360 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 471ca3d9-a629-4452-912a-b8fee70924a5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='judge' to_entity_type='POSITION'
2025-04-13 21:22:21,361 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 471ca3d9-a629-4452-912a-b8fee70924a5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='PFO' to_entity_type='ASSET'
2025-04-13 21:22:21,363 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 471ca3d9-a629-4452-912a-b8fee70924a5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Disclosure Order' to_entity_type='ASSET'
2025-04-13 21:22:21,364 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 471ca3d9-a629-4452-912a-b8fee70924a5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='financial institutions, law firms and other relevant third parties' to_entity_type='NGO'
2025-04-13 21:22:21,367 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 38b2c836-2214-485b-a3dc-590e2bed056a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,369 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 38b2c836-2214-485b-a3dc-590e2bed056a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,370 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 38b2c836-2214-485b-a3dc-590e2bed056a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,372 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 38b2c836-2214-485b-a3dc-590e2bed056a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,373 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8f637f83-d6c7-47e6-90dc-a43a16f3856e: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,374 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8f637f83-d6c7-47e6-90dc-a43a16f3856e: from_entity_type='ASSET' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,376 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 2359e6fc-4391-44b2-9988-1094914a358a: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='LOCATED_IN' relationship_description='Used to hold bank accounts' to_entity_name='a number of jurisdictions' to_entity_type='LOCATION'
2025-04-13 21:22:21,380 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk ce387e48-cd1a-40c8-b507-0fea61f15914: Expecting value: line 1 column 7144 (char 7143). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "IBA", ...'
2025-04-13 21:22:21,382 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 793b8aac-e80c-4ea4-87a8-b344f760bd3b: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='provided an income for' to_entity_name='Zamira HAJIYEVA' to_entity_type='PERSON'
2025-04-13 21:22:21,386 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk e1e8fa72-1901-4684-8ee2-2c1833e33109: Unterminated string starting at: line 1 column 8603 (char 8602). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 21:22:21,390 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 4093c35b-ab10-4ff8-9212-8e0810dac312: Unterminated string starting at: line 1 column 7920 (char 7919). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 21:22:21,395 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk b13243ca-5d31-49f2-aa25-6432d1b62e08: Unterminated string starting at: line 1 column 7522 (char 7521). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 21:22:21,397 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0e474513-0ceb-4255-90d9-1a7f50a0f59e: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,398 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0e474513-0ceb-4255-90d9-1a7f50a0f59e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,401 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk be12e400-d574-4594-a78e-4632abd4a238: Unterminated string starting at: line 1 column 7301 (char 7300). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 21:22:21,402 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 31e62b94-2c33-4ecf-8950-4b9cc855c34e: Unterminated string starting at: line 1 column 7725 (char 7724). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 21:22:21,403 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6594ebf3-3bb3-435d-906f-39739c4a76ab: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,406 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 526ecabf-1fca-4554-97e9-27aec13498ce: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='correspond to the dates and amounts of' to_entity_name='promissory notes and loan agreements' to_entity_type='ASSET'
2025-04-13 21:22:21,411 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 18aa2f7d-e99c-4242-a19a-30d28e520fbb: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,418 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 19509f19-d0d5-4b2a-a57f-82f59acc4126: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,423 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk fe481490-98b1-4f96-a3cc-45c1dfbd3e17: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OCCRP' to_entity_type='NGO'
2025-04-13 21:22:21,429 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 15cbfde2-e782-4082-af8a-9dd8c4e25dff: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,434 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 41d0cbfe-f184-441d-9382-dfe0032a257e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,438 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 55f5138c-0330-418a-bb7f-728b18851915: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,440 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 55f5138c-0330-418a-bb7f-728b18851915: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,443 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk cd928c16-f2aa-4274-9b15-460bed3dfb94: from_entity_type=None from_entity_name='Estonia' relationship_type=None relationship_description=None to_entity_name='Cyprus' to_entity_type='LOCATION'
2025-04-13 21:22:21,444 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk cd928c16-f2aa-4274-9b15-460bed3dfb94: from_entity_type=None from_entity_name='Estonia' relationship_type=None relationship_description=None to_entity_name='Latvia' to_entity_type='LOCATION'
2025-04-13 21:22:21,448 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk ee1e07d5-1313-4e85-bb73-2cdf41a04e3e: Unterminated string starting at: line 1 column 8193 (char 8192). Content: '{"entity_relationship_list": [{"from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "rel...'
2025-04-13 21:22:21,450 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 4d72a2db-adb0-4c8d-b765-2229a0efd74b: Expecting property name enclosed in double quotes: line 1 column 7882 (char 7881). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 6,...'
2025-04-13 21:22:21,456 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 086bf206-d51e-4d6f-818f-e3a523d40778: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='FATF Report on Concealment of Beneficial Ownership' to_entity_type='EVENT'
2025-04-13 21:22:21,457 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 086bf206-d51e-4d6f-818f-e3a523d40778: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OECD Report on Ending the Shell Game' to_entity_type='EVENT'
2025-04-13 21:22:21,459 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 086bf206-d51e-4d6f-818f-e3a523d40778: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='FATF Report on Beneficial Ownership of Legal Persons' to_entity_type='EVENT'
2025-04-13 21:22:21,465 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0301d59f-8646-47e2-8073-72c573872657: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='loan' to_entity_type='MONEY'
2025-04-13 21:22:21,468 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 61b36a4b-ef00-4eb5-9fbf-d704bb8606cb: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,473 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c6c659e1-bb8c-4006-85d7-960cfb17d3d0: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,475 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 5d27ef68-e6c4-42b4-9c62-50ae552935c0: Expecting property name enclosed in double quotes: line 1 column 8214 (char 8213). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 21:22:21,477 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e4861b3f-1a9e-42e4-bfe1-822089c90f3c: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,480 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 72cd6408-906f-402f-97bc-383401d8f18e: Unterminated string starting at: line 1 column 7827 (char 7826). Content: '{ "entity_relationship_list": [ { "from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "Ang...'
2025-04-13 21:22:21,482 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7af2de0b-686c-44fc-beeb-2e7f40b6c91b: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='DH Leasing' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 21:22:21,486 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 543018bb-271b-4018-a07e-0090618c686a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Isle of Man' to_entity_type='LOCATION'
2025-04-13 21:22:21,490 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4cbe6524-de45-4f35-8565-f94b566c98f7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='IBA-Moscow' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 21:22:21,491 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4cbe6524-de45-4f35-8565-f94b566c98f7: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='transactions' to_entity_type='ASSET'
2025-04-13 21:22:21,493 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b205d929-dfec-49e3-83e9-658a8cda1477: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,494 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b205d929-dfec-49e3-83e9-658a8cda1477: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,498 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 50cacb3f-5949-4660-8e7e-5bae6062f288: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Regulated firms were required to carry out due diligence' to_entity_name='regulated firms' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 21:22:21,499 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 50cacb3f-5949-4660-8e7e-5bae6062f288: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Source of funds and source of wealth' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 21:22:21,501 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 50cacb3f-5949-4660-8e7e-5bae6062f288: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Income' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 21:22:21,502 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 50cacb3f-5949-4660-8e7e-5bae6062f288: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Sources of evidence' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 21:22:21,503 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 50cacb3f-5949-4660-8e7e-5bae6062f288: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 21:22:21,504 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 50cacb3f-5949-4660-8e7e-5bae6062f288: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Income' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 21:22:21,505 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 50cacb3f-5949-4660-8e7e-5bae6062f288: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Explanations and sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 21:22:21,507 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 50cacb3f-5949-4660-8e7e-5bae6062f288: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Explanations and sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 21:22:21,508 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 50cacb3f-5949-4660-8e7e-5bae6062f288: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Explanations and sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 21:22:21,509 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e5fd6772-e2eb-45ce-bb9d-8d629c9ad4b5: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Employment' to_entity_name='Tab C1' to_entity_type='LOCATION'
2025-04-13 21:22:21,511 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 2d2b0198-92fe-47ef-8529-c63dd1333061: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='IBA' to_entity_type='GOVERNMENT_BODY'
2025-04-13 21:22:21,517 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c4ffa0ea-28c9-452f-96e0-92538d9f151e: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,522 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0fa107ce-76e6-4732-87d2-be6a8560e18b: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description="Income is from Mr Hajiyev's professional activity" to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 21:22:21,527 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0fa107ce-76e6-4732-87d2-be6a8560e18b: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description="Income is from Mr Hajiyev's professional activity" to_entity_name='Mrs Hajiyev' to_entity_type='PERSON'
2025-04-13 21:22:21,528 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0fa107ce-76e6-4732-87d2-be6a8560e18b: from_entity_type='LOCATION' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,531 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk df972f53-ad4c-42fd-bf10-6f657aec5b76: from_entity_type=None from_entity_name='Tea Construction' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,533 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk df972f53-ad4c-42fd-bf10-6f657aec5b76: from_entity_type=None from_entity_name='Eroil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,534 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk df972f53-ad4c-42fd-bf10-6f657aec5b76: from_entity_type=None from_entity_name='Mea Oil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,535 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk df972f53-ad4c-42fd-bf10-6f657aec5b76: from_entity_type=None from_entity_name='TPD Trading Petrol and Drilling' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,537 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk df972f53-ad4c-42fd-bf10-6f657aec5b76: from_entity_type=None from_entity_name='Tiara' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,538 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk df972f53-ad4c-42fd-bf10-6f657aec5b76: from_entity_type=None from_entity_name='Migao Corporation' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,539 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk df972f53-ad4c-42fd-bf10-6f657aec5b76: from_entity_type=None from_entity_name='Anglo Asian Mining Plc' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,541 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ac0bcfcd-aca0-4683-b55a-b8670b85e9bb: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='BVI Financial Investigation Agency' to_entity_type='GOVERNMENT_BODY'
2025-04-13 21:22:21,543 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 4cc6e129-dd87-452c-8733-5ab9343a6a7b: Unterminated string starting at: line 1 column 6476 (char 6475). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 21:22:21,547 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 84aff8f8-3886-4554-8236-26aa7604bc47: Unterminated string starting at: line 1 column 6983 (char 6982). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 21:22:21,549 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9e95c0ef-a33f-4beb-a5e1-ef13fe52d79b: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,551 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 9e95c0ef-a33f-4beb-a5e1-ef13fe52d79b: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,552 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8ca11670-c635-4d6d-ba38-c84ac0412e49: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,554 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 02c59935-8a55-4f08-8b12-253ca284a659: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Azerbaijan' to_entity_type='LOCATION'
2025-04-13 21:22:21,557 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e56bf497-291c-421d-afe2-0b9fe92a63cd: from_entity_type=None from_entity_name='Cyprus' relationship_type='LOCATED_IN' relationship_description="One of the jurisdictions where Mr Bashirov's accounts are controlled" to_entity_name=None to_entity_type='LOCATION'
2025-04-13 21:22:21,562 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c88ce0f0-80df-4916-b2d3-8e4575f9ac46: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,571 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk d829d0c1-dd3a-493f-848a-b437b6041173: Unterminated string starting at: line 1 column 6374 (char 6373). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 6,...'
2025-04-13 21:22:21,576 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 7782b057-f5de-454b-9c79-820cd55a9863: Unterminated string starting at: line 1 column 7734 (char 7733). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 21:22:21,582 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk adb786c4-417f-451d-8b4c-49daf6a9fe97: from_entity_type='PERSON' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,586 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk adb786c4-417f-451d-8b4c-49daf6a9fe97: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,591 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e7b34db8-b782-4145-a823-14efc426c078: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,593 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 860ae82a-95d9-434b-a10f-e8c921b3b0d4: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,595 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 9c25815d-fb2d-44cb-b1ad-786de1bdf3c3: Unterminated string starting at: line 1 column 7519 (char 7518). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "credit...'
2025-04-13 21:22:21,596 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e60c1477-147e-4b17-8c83-5eb499942829: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='legal charge' to_entity_name='12-14 Walton Street' to_entity_type='ASSET'
2025-04-13 21:22:21,597 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e60c1477-147e-4b17-8c83-5eb499942829: from_entity_type='EVENT' from_entity_name=None relationship_type='WORKS_FOR' relationship_description=None to_entity_name='Barclays Wealth' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 21:22:21,598 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e60c1477-147e-4b17-8c83-5eb499942829: from_entity_type='EVENT' from_entity_name=None relationship_type='CONNECTED_TO' relationship_description='email confirmation' to_entity_name='Mishcon' to_entity_type='PERSON'
2025-04-13 21:22:21,604 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 2ecbe210-9b32-450c-b0bc-59af40b7a78e: Unterminated string starting at: line 1 column 7819 (char 7818). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Mateos", "re...'
2025-04-13 21:22:21,605 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 3f3677c7-0681-44e0-80a2-d9529fac9733: Expecting value: line 1 column 7637 (char 7636). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 21:22:21,607 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5a0f64a7-58e2-4a40-bd7b-99d92f511f19: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,609 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5a0f64a7-58e2-4a40-bd7b-99d92f511f19: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,611 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 8de38c39-2649-4f7a-bc89-7cd7866b26b5: Unterminated string starting at: line 1 column 7961 (char 7960). Content: '{"entity_relationship_list": [{"from_entity_type": "NGO", "from_entity_name": null, "relationship_ty...'
2025-04-13 21:22:21,612 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8b4b3354-4905-49e0-931f-47bd32c54cb7: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,613 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8b4b3354-4905-49e0-931f-47bd32c54cb7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,615 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 0e43ea2f-9488-4240-b579-ba64ec41d5f1: Unterminated string starting at: line 1 column 7755 (char 7754). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Georgiou", "...'
2025-04-13 21:22:21,616 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 71ae216c-e81f-4b4b-b356-6df5c04f22d2: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,617 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 71ae216c-e81f-4b4b-b356-6df5c04f22d2: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Mill Ride Golf Club' to_entity_type='ASSET'
2025-04-13 21:22:21,619 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 171051d2-0b6a-455b-84f3-0797b7ca2f06: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,620 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk de04f01e-1910-4423-99b9-9d881a27e419: Unterminated string starting at: line 1 column 7213 (char 7212). Content: '{ "entity_relationship_list": [ { "from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "VES...'
2025-04-13 21:22:21,624 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3ecfd74e-ad2e-46db-a329-82a0f6d0c6d7: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='account number LU190023192776665200' to_entity_type='ASSET'
2025-04-13 21:22:21,625 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk eb569b66-7635-44cc-b952-3882bb0ca8b7: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,627 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk eb569b66-7635-44cc-b952-3882bb0ca8b7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,630 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 5c6033e0-85d8-4405-9f3c-caec5f4e35a3: Unterminated string starting at: line 1 column 7625 (char 7624). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Ahmadov", "r...'
2025-04-13 21:22:21,632 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 06c1adbe-e575-4e52-acf3-85ffe30bb7f7: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,633 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 06c1adbe-e575-4e52-acf3-85ffe30bb7f7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,636 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0ce639de-1856-433b-9988-f063e39f732a: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 21:22:21,638 - src.core.extraction.entity_extractor - INFO - Processed batch results in 0.31s. Total batch time: 1667.96s
2025-04-13 21:22:21,639 - src.core.extraction.entity_extractor - INFO - Batch Stats: Success=647, Parse Errors=25, Missing Outputs=0
2025-04-13 21:22:21,649 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 1667.98s
2025-04-13 21:22:21,658 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-13 21:22:21,659 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 4631 entities, 1279 relationships.
2025-04-13 21:22:21,660 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-13 21:22:21,661 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 4631 raw entities...
2025-04-13 21:22:21,754 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-13 21:22:21,895 - src.core.extraction.entity_extractor - WARNING - Removed 11 entities with empty normalized names.
2025-04-13 21:22:21,896 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-13 21:22:22,426 - src.core.extraction.entity_extractor - INFO - Generated 163238 candidate pairs across all types.
2025-04-13 21:22:22,428 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-13 21:22:38,495 - src.core.extraction.entity_extractor - INFO - Found 136777 potential duplicate pairs after comparison.
2025-04-13 21:22:38,497 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-13 21:22:43,794 - src.core.extraction.entity_extractor - INFO - Found 1427 clusters (including singletons).
2025-04-13 21:22:43,795 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-13 21:22:43,997 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 1427.
2025-04-13 21:22:44,039 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs based on entity deduplication map...
2025-04-13 21:22:44,041 - src.core.extraction.entity_extractor - INFO - Updating 1279 raw relationships with canonical entity IDs...
2025-04-13 21:22:44,044 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 1254, Updated IDs in 1163, Skipped 25 (self-loops or missing mappings).
2025-04-13 21:22:44,045 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-13 21:22:44,046 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-13 21:22:44,049 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 127 duplicates. Final count: 1127.
2025-04-13 21:22:44,050 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 1427 entities, 1127 relationships.
2025-04-13 21:22:44,087 - src.core.extraction.entity_extractor - INFO - Saved 1427 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-13 21:22:44,101 - src.core.extraction.entity_extractor - INFO - Saved 1127 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-13 21:22:44,102 - __main__ - INFO - Entity extraction complete. Modified chunks: 672
2025-04-13 21:22:44,343 - __main__ - INFO - QueryEngine LLM model updated to: Qwen/Qwen2.5-7B-Instruct
2025-04-13 21:22:44,347 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-13 21:22:44,349 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 64
2025-04-13 21:22:44,351 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 21:22:44,352 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-13 21:22:44,353 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-13 21:22:44,354 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-13 21:22:44,355 - src.core.indexing.document_indexer - INFO -     - Timeout: 900s
2025-04-13 21:22:44,356 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-13 21:22:44,357 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: True
2025-04-13 21:22:44,358 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-13 21:22:44,359 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-13 21:22:44,361 - __main__ - ERROR - Fatal error processing documents: log_memory_usage() takes 1 positional argument but 2 were given
Traceback (most recent call last):
  File "/home/t/lm_rag/src/ui/app.py", line 864, in process_documents_with_spreadsheet_options
    document_indexer = DocumentIndexer()
                       ^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/src/core/indexing/document_indexer.py", line 158, in __init__
    log_memory_usage(logger, "After Indexer Init")
TypeError: log_memory_usage() takes 1 positional argument but 2 were given
2025-04-13 21:22:44,391 - __main__ - INFO - Document processing call completed
2025-04-13 21:32:08,573 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 21:32:08,612 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 21:32:08,616 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 21:32:08,617 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 21:32:08,620 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 21:32:08,623 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 21:32:08,624 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 21:32:08,625 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 21:32:08,626 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 21:32:08,627 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 21:32:08,628 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 21:32:08,629 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 21:32:08,630 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 21:32:08,631 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.34 GB, VMS: 37.55 GB
2025-04-13 21:32:08,740 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 21:32:08,742 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 21:32:09,491 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 21:32:09,495 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 21:32:13,236 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 21:32:13,240 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 21:32:13,244 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 21:32:13,245 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 21:32:13,248 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 21:32:13,250 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 21:32:13,251 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 21:32:13,252 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 21:32:13,253 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 21:32:13,254 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 21:32:13,255 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 21:32:13,256 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 21:32:13,257 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 21:32:13,258 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.41 GB, VMS: 37.63 GB
2025-04-13 21:32:13,260 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 21:32:13,261 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 21:32:13,703 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 21:32:13,705 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 21:32:19,823 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 21:32:23,594 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 21:32:25,140 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 21:32:25,209 - __main__ - INFO - Storing selected LLM for session: Qwen/Qwen2.5-7B-Instruct
2025-04-13 21:32:25,211 - __main__ - INFO - Starting document processing for 1 files
2025-04-13 21:32:25,213 - __main__ - INFO - Starting document processing with spreadsheet options. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']
2025-04-13 21:32:25,215 - __main__ - INFO - Starting Aphrodite service for document processing
2025-04-13 21:32:38,832 - __main__ - INFO - Aphrodite service started successfully
2025-04-13 21:32:38,834 - __main__ - INFO - Saved Aphrodite process info: PID=59826
2025-04-13 21:32:38,835 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-13 21:32:38,836 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-13 21:32:38,844 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-13 21:32:38,859 - __main__ - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 21:32:38,860 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-13 21:32:38,861 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 21:32:38,862 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-13 21:35:01,032 - src.core.document_processing.document_loader - INFO - Exporting Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf content to Markdown...
2025-04-13 21:35:30,638 - src.core.document_processing.document_loader - INFO - Docling processing successful for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf. Word count: 94174, Page count: 246
2025-04-13 21:35:30,747 - __main__ - INFO - Document loaded: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf, Content items: 1
2025-04-13 21:35:30,749 - __main__ - INFO - All documents loaded. Shutting down document loader (Docling) to free resources...
2025-04-13 21:35:30,750 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-13 21:35:30,751 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.84 GB, VMS: 40.83 GB
2025-04-13 21:35:30,753 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-13 21:35:30,753 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-13 21:35:30,755 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-13 21:35:30,756 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-13 21:35:31,166 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-13 21:35:31,167 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-13 21:35:31,190 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-13 21:35:31,191 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-13 21:35:31,193 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.78 GB, VMS: 40.77 GB
2025-04-13 21:35:31,194 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 21:35:31,195 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-13 21:35:31,597 - __main__ - INFO - Document loader shut down complete.
2025-04-13 21:35:31,599 - __main__ - INFO - Process memory - RSS: 2.78 GB, VMS: 40.77 GB
2025-04-13 21:35:31,600 - __main__ - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 21:35:31,601 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-13 21:35:31,602 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-13 21:35:31,603 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.78 GB, VMS: 40.77 GB
2025-04-13 21:35:31,604 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 21:35:31,605 - __main__ - INFO - Loading chunking model...
2025-04-13 21:35:31,606 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 21:35:31,607 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-13 21:35:31,607 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-13 21:35:31,608 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-13 21:35:31,609 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-13 21:35:37,842 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-13 21:35:37,843 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 6.23 seconds
2025-04-13 21:35:37,844 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.92 GB, VMS: 42.06 GB
2025-04-13 21:35:37,845 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 21:35:37,846 - __main__ - INFO - Chunking document 1/1: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 21:35:37,847 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (ID: 7188d46e-eaf6-4e16-a74b-81fbf1c02b16, Type: .pdf)
2025-04-13 21:35:37,848 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf.
2025-04-13 21:35:37,849 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 608866 chars) using Markdown Header + Semantic chunking.
2025-04-13 21:35:37,868 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 244 initial structural chunks.
2025-04-13 21:35:45,564 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 502 potential chunks.
2025-04-13 21:35:45,565 - src.core.document_processing.document_chunker - WARNING - Chunk (length 8299) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 21:35:45,566 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 21:35:45,567 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6564) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 21:35:45,568 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 21:35:45,569 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6017) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 21:35:45,571 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 21:35:45,572 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5972) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 21:35:45,573 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 21:35:45,573 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7518) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 21:35:45,574 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 21 basic chunks.
2025-04-13 21:35:45,575 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7098) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 21:35:45,576 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 21:35:45,577 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7084) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 21:35:45,578 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 19 basic chunks.
2025-04-13 21:35:45,579 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5166) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 21:35:45,582 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 15 basic chunks.
2025-04-13 21:35:45,582 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5469) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 21:35:45,583 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 14 basic chunks.
2025-04-13 21:35:45,584 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5139) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 21:35:45,585 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 13 basic chunks.
2025-04-13 21:35:45,586 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 10 oversized chunks.
2025-04-13 21:35:45,587 - src.core.document_processing.document_chunker - INFO - Final processing created 672 chunks from text of length 608866.
2025-04-13 21:35:45,591 - src.core.document_processing.document_chunker - INFO - Chunking for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf completed in 7.74s.
2025-04-13 21:35:45,592 - src.core.document_processing.document_chunker - INFO - Created 672 total chunks: 0 spreadsheet rows, 492 semantic chunks, 0 sentence fallback chunks, 180 basic fallback chunks.
2025-04-13 21:35:45,593 - src.core.document_processing.document_chunker - INFO - Average chunk size: 881.6 characters.
2025-04-13 21:35:45,594 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.92 GB, VMS: 42.04 GB
2025-04-13 21:35:45,595 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.97 GB, Total: 8.00 GB
2025-04-13 21:35:45,596 - __main__ - INFO - Created 672 chunks for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 21:35:45,597 - __main__ - INFO - Shutting down chunking model...
2025-04-13 21:35:45,598 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 21:35:45,599 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-13 21:35:45,600 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-13 21:35:45,601 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-13 21:35:45,607 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-13 21:35:46,251 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-13 21:35:46,255 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.92 GB, VMS: 42.04 GB
2025-04-13 21:35:46,256 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 21:35:46,257 - __main__ - INFO - Total chunks generated: 672
2025-04-13 21:35:46,258 - __main__ - INFO - Creating entity extractor with model Qwen/Qwen2.5-7B-Instruct
2025-04-13 21:35:46,259 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with model=Qwen/Qwen2.5-7B-Instruct, debug=True, using advanced deduplication.
2025-04-13 21:35:46,260 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.92 GB, VMS: 42.04 GB
2025-04-13 21:35:46,262 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 21:35:46,263 - __main__ - INFO - Starting entity extraction on 672 chunks (0 visual chunks)
2025-04-13 21:35:46,264 - src.core.extraction.entity_extractor - INFO - Adding 672 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-13 21:35:46,266 - src.core.extraction.entity_extractor - INFO - Added 672 chunks to queue. Processing now.
2025-04-13 21:35:46,266 - src.core.extraction.entity_extractor - INFO - Processing all 672 chunks...
2025-04-13 21:35:46,267 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.92 GB, VMS: 42.04 GB
2025-04-13 21:35:46,268 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 21:35:46,271 - src.core.extraction.entity_extractor - INFO - Loading designated extraction model: Qwen/Qwen2.5-7B-Instruct
2025-04-13 21:40:12,567 - src.core.extraction.entity_extractor - INFO - Model Qwen/Qwen2.5-7B-Instruct loaded successfully for extraction.
2025-04-13 21:40:12,570 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks (0 spreadsheet rows)
2025-04-13 21:40:12,570 - src.core.extraction.entity_extractor - INFO - Processing in 1 batches of size 1024
2025-04-13 21:40:12,571 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (672 chunks)
2025-04-13 21:40:12,574 - src.core.extraction.entity_extractor - INFO - Sending batch of 672 prompts to service
2025-04-13 22:07:35,656 - src.core.extraction.entity_extractor - INFO - Received response from service
2025-04-13 22:07:35,665 - src.core.extraction.entity_extractor - INFO - Service request/response took 1643.09s
2025-04-13 22:07:35,683 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 381eaa87-c35d-423d-ab43-012c730675d4: Unterminated string starting at: line 1 column 7911 (char 7910). Content: '{ "entity_relationship_list": [ { "from_entity_type": "NGO", "from_entity_name": "NCA", "relationshi...'
2025-04-13 22:07:35,694 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 4adbcd70-5091-4da1-a213-f07b7ddc6855: Unterminated string starting at: line 1 column 7642 (char 7641). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 22:07:35,697 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 07e37206-ab64-43ae-8df0-9a41a7ca3188: Unterminated string starting at: line 1 column 7346 (char 7345). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 22:07:35,699 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk d96de105-1eb0-4119-9523-77d46f9e912c: Unterminated string starting at: line 1 column 7417 (char 7416). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 22:07:35,701 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a9663d48-5dad-4a46-bc8b-da9366117cfe: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,704 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a9663d48-5dad-4a46-bc8b-da9366117cfe: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='judge' to_entity_type='POSITION'
2025-04-13 22:07:35,705 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a9663d48-5dad-4a46-bc8b-da9366117cfe: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='PFO' to_entity_type='ASSET'
2025-04-13 22:07:35,706 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a9663d48-5dad-4a46-bc8b-da9366117cfe: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Disclosure Order' to_entity_type='ASSET'
2025-04-13 22:07:35,707 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a9663d48-5dad-4a46-bc8b-da9366117cfe: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='financial institutions, law firms and other relevant third parties' to_entity_type='NGO'
2025-04-13 22:07:35,709 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8dcd0d15-f58d-4f9d-ad58-ee58376ada08: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,711 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8dcd0d15-f58d-4f9d-ad58-ee58376ada08: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,712 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8dcd0d15-f58d-4f9d-ad58-ee58376ada08: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,713 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8dcd0d15-f58d-4f9d-ad58-ee58376ada08: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,715 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk cc333144-70ea-4378-bdcf-93611fea29b1: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,716 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk cc333144-70ea-4378-bdcf-93611fea29b1: from_entity_type='ASSET' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,718 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f46854c6-36c0-44b2-be97-82265e530d1a: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='LOCATED_IN' relationship_description='Used to hold bank accounts' to_entity_name='a number of jurisdictions' to_entity_type='LOCATION'
2025-04-13 22:07:35,721 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk a183f0c7-2f79-4295-9670-6ceaed83e8dc: Expecting value: line 1 column 7144 (char 7143). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "IBA", ...'
2025-04-13 22:07:35,724 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6b6ef452-e1d0-4e05-8c01-3cae3765b4a5: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='provided an income for' to_entity_name='Zamira HAJIYEVA' to_entity_type='PERSON'
2025-04-13 22:07:35,727 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk ddbc7fd4-5c2e-4c33-bff5-df9c15a1ecf0: Unterminated string starting at: line 1 column 8603 (char 8602). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 22:07:35,731 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 6828a549-aa24-44a5-8eaf-25e6b0fc0b34: Unterminated string starting at: line 1 column 7920 (char 7919). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 22:07:35,736 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk c06cba2f-ac02-46cf-96d2-37d70840a731: Unterminated string starting at: line 1 column 7522 (char 7521). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 22:07:35,739 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1d97512c-42ed-49e5-b246-8ec662f08e0c: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,740 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1d97512c-42ed-49e5-b246-8ec662f08e0c: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,742 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 16a153d3-3f79-4601-a847-2d0821f34f04: Unterminated string starting at: line 1 column 7301 (char 7300). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 22:07:35,743 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 7ebf7e96-7829-4980-b070-018b49ebbdeb: Unterminated string starting at: line 1 column 7725 (char 7724). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 22:07:35,745 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c8a1813e-8e67-4ef9-9d5f-8ed402d6ffb7: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,748 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c37188f8-89ab-49e7-a06f-04458e8e2652: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='correspond to the dates and amounts of' to_entity_name='promissory notes and loan agreements' to_entity_type='ASSET'
2025-04-13 22:07:35,753 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f69cdc42-eb1d-4034-b43b-aaaad456fcbd: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,760 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0b3eaa0b-65ce-416c-9bb1-fc4313cb7d0b: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,764 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ea395cce-16f9-4437-8eb0-e29805da3286: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OCCRP' to_entity_type='NGO'
2025-04-13 22:07:35,769 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b6115368-a75d-4278-96ae-45b5ddbacd0a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,774 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6a064674-ce39-416f-a380-a6b621c9d1d2: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,776 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ecfa701f-5506-4911-ad21-ad0cb72d72fb: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,777 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ecfa701f-5506-4911-ad21-ad0cb72d72fb: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,780 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk fe40b0bd-e920-4c60-974d-5a21e15fcb0d: from_entity_type=None from_entity_name='Estonia' relationship_type=None relationship_description=None to_entity_name='Cyprus' to_entity_type='LOCATION'
2025-04-13 22:07:35,781 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk fe40b0bd-e920-4c60-974d-5a21e15fcb0d: from_entity_type=None from_entity_name='Estonia' relationship_type=None relationship_description=None to_entity_name='Latvia' to_entity_type='LOCATION'
2025-04-13 22:07:35,787 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 1cfc02f1-6a6d-4b09-8c37-c4f20d17ea6e: Unterminated string starting at: line 1 column 8193 (char 8192). Content: '{"entity_relationship_list": [{"from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "rel...'
2025-04-13 22:07:35,789 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 95093ce8-25d9-4c21-b49c-ea380c34bffe: Expecting property name enclosed in double quotes: line 1 column 7882 (char 7881). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 6,...'
2025-04-13 22:07:35,792 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 37d48320-2d28-4dbb-becf-756fa8d49549: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='FATF Report on Concealment of Beneficial Ownership' to_entity_type='EVENT'
2025-04-13 22:07:35,794 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 37d48320-2d28-4dbb-becf-756fa8d49549: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OECD Report on Ending the Shell Game' to_entity_type='EVENT'
2025-04-13 22:07:35,795 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 37d48320-2d28-4dbb-becf-756fa8d49549: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='FATF Report on Beneficial Ownership of Legal Persons' to_entity_type='EVENT'
2025-04-13 22:07:35,802 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 1aaf53c5-8bcd-47db-879f-1cd797359f71: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='loan' to_entity_type='MONEY'
2025-04-13 22:07:35,806 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk aefa7054-87b3-4ba0-aa44-29f74f65260e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,809 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk de4fb00f-bf39-4369-9e46-c6be2c62caf6: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,812 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 2db68739-73c6-4075-9f84-19a0ec300c79: Expecting property name enclosed in double quotes: line 1 column 8214 (char 8213). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 22:07:35,813 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 00606dda-d9bd-43ac-a652-fce837b480c4: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,816 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk e5a524a7-9463-48ca-82eb-bb94540d04a5: Unterminated string starting at: line 1 column 7827 (char 7826). Content: '{ "entity_relationship_list": [ { "from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "Ang...'
2025-04-13 22:07:35,819 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3846946c-b396-419d-84e0-1fdaca0bc21b: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='DH Leasing' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 22:07:35,822 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d582ba70-c238-4d80-8413-0137499ca473: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Isle of Man' to_entity_type='LOCATION'
2025-04-13 22:07:35,826 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 50cad15c-cab0-4065-a7f7-2cba85923ef8: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='IBA-Moscow' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 22:07:35,828 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 50cad15c-cab0-4065-a7f7-2cba85923ef8: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='transactions' to_entity_type='ASSET'
2025-04-13 22:07:35,830 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk cda00c7a-bd24-4ebc-a940-80be6a2c7d64: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,831 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk cda00c7a-bd24-4ebc-a940-80be6a2c7d64: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,834 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a1de62ae-71b1-4cc7-82f5-4b780debba39: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Regulated firms were required to carry out due diligence' to_entity_name='regulated firms' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 22:07:35,836 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a1de62ae-71b1-4cc7-82f5-4b780debba39: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Source of funds and source of wealth' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 22:07:35,838 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a1de62ae-71b1-4cc7-82f5-4b780debba39: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Income' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 22:07:35,839 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a1de62ae-71b1-4cc7-82f5-4b780debba39: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Sources of evidence' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 22:07:35,840 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a1de62ae-71b1-4cc7-82f5-4b780debba39: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 22:07:35,841 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a1de62ae-71b1-4cc7-82f5-4b780debba39: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Income' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 22:07:35,843 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a1de62ae-71b1-4cc7-82f5-4b780debba39: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Explanations and sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 22:07:35,844 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a1de62ae-71b1-4cc7-82f5-4b780debba39: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Explanations and sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 22:07:35,845 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a1de62ae-71b1-4cc7-82f5-4b780debba39: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Explanations and sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 22:07:35,846 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c3e7e536-f5b2-4f38-8d38-9b469c4d5d3f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Employment' to_entity_name='Tab C1' to_entity_type='LOCATION'
2025-04-13 22:07:35,848 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk fa094501-178c-4fce-94b9-9fc18cf6ff86: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='IBA' to_entity_type='GOVERNMENT_BODY'
2025-04-13 22:07:35,853 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d402a788-40cd-403b-bdad-05576a80223a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,859 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0db4d013-643f-4050-88d7-dd460601b3c3: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description="Income is from Mr Hajiyev's professional activity" to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 22:07:35,862 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0db4d013-643f-4050-88d7-dd460601b3c3: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description="Income is from Mr Hajiyev's professional activity" to_entity_name='Mrs Hajiyev' to_entity_type='PERSON'
2025-04-13 22:07:35,864 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0db4d013-643f-4050-88d7-dd460601b3c3: from_entity_type='LOCATION' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,867 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3ac48f7c-64d2-49d8-bfdd-666b4c0a4cb0: from_entity_type=None from_entity_name='Tea Construction' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,868 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3ac48f7c-64d2-49d8-bfdd-666b4c0a4cb0: from_entity_type=None from_entity_name='Eroil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,869 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3ac48f7c-64d2-49d8-bfdd-666b4c0a4cb0: from_entity_type=None from_entity_name='Mea Oil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,871 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3ac48f7c-64d2-49d8-bfdd-666b4c0a4cb0: from_entity_type=None from_entity_name='TPD Trading Petrol and Drilling' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,872 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3ac48f7c-64d2-49d8-bfdd-666b4c0a4cb0: from_entity_type=None from_entity_name='Tiara' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,873 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3ac48f7c-64d2-49d8-bfdd-666b4c0a4cb0: from_entity_type=None from_entity_name='Migao Corporation' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,874 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3ac48f7c-64d2-49d8-bfdd-666b4c0a4cb0: from_entity_type=None from_entity_name='Anglo Asian Mining Plc' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,876 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 821420bd-43e3-4001-9098-82c7f705f81e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='BVI Financial Investigation Agency' to_entity_type='GOVERNMENT_BODY'
2025-04-13 22:07:35,878 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk b3383439-518c-4b3b-81c7-d0c960f48215: Unterminated string starting at: line 1 column 6476 (char 6475). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 22:07:35,882 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 8ab60532-fa56-4fc5-91a2-399a8cee07df: Unterminated string starting at: line 1 column 6983 (char 6982). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 22:07:35,884 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7b4bb41f-9d0d-44b3-a04e-6554975234d4: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,886 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7b4bb41f-9d0d-44b3-a04e-6554975234d4: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,887 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4a6093f5-b45b-4022-ac46-e28c5db26e97: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,889 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 36a04e15-21eb-45e0-9b14-d91bc68e1eee: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Azerbaijan' to_entity_type='LOCATION'
2025-04-13 22:07:35,891 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 88acd16c-ad59-4435-8499-793b016cf02d: from_entity_type=None from_entity_name='Cyprus' relationship_type='LOCATED_IN' relationship_description="One of the jurisdictions where Mr Bashirov's accounts are controlled" to_entity_name=None to_entity_type='LOCATION'
2025-04-13 22:07:35,895 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk aee56906-c30d-48ec-a964-dc4a7924e4df: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,899 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 90ea6c41-cd1a-44e3-acd6-0c097a5fc520: Unterminated string starting at: line 1 column 6374 (char 6373). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 6,...'
2025-04-13 22:07:35,901 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk a9a9e73b-6437-4421-84e5-380573f46c79: Unterminated string starting at: line 1 column 7734 (char 7733). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 22:07:35,903 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7cfae0f2-37bb-4797-8b82-7640c0a99848: from_entity_type='PERSON' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,904 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7cfae0f2-37bb-4797-8b82-7640c0a99848: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,906 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d4554a13-cc4b-4858-b77e-002527088320: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,908 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4c5548e0-2c10-4a3f-8233-a49a419990d6: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,909 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk a5049e4a-811b-467e-8dc4-dca72ec7cf6d: Unterminated string starting at: line 1 column 7519 (char 7518). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "credit...'
2025-04-13 22:07:35,911 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 24538c9d-ab84-43da-848e-e0fbfd55c74d: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='legal charge' to_entity_name='12-14 Walton Street' to_entity_type='ASSET'
2025-04-13 22:07:35,913 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 24538c9d-ab84-43da-848e-e0fbfd55c74d: from_entity_type='EVENT' from_entity_name=None relationship_type='WORKS_FOR' relationship_description=None to_entity_name='Barclays Wealth' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 22:07:35,914 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 24538c9d-ab84-43da-848e-e0fbfd55c74d: from_entity_type='EVENT' from_entity_name=None relationship_type='CONNECTED_TO' relationship_description='email confirmation' to_entity_name='Mishcon' to_entity_type='PERSON'
2025-04-13 22:07:35,919 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 0dd4c4ff-4399-4556-ab47-c335488e7eb8: Unterminated string starting at: line 1 column 7819 (char 7818). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Mateos", "re...'
2025-04-13 22:07:35,921 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk d769b935-2ab7-418f-9044-fa7193d386b0: Expecting value: line 1 column 7637 (char 7636). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 22:07:35,923 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d35f71f0-cdde-4050-8cfd-648c1978303e: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,924 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d35f71f0-cdde-4050-8cfd-648c1978303e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,925 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk cc22e839-c02b-487f-91e4-5e1c6d62f5ac: Unterminated string starting at: line 1 column 7961 (char 7960). Content: '{"entity_relationship_list": [{"from_entity_type": "NGO", "from_entity_name": null, "relationship_ty...'
2025-04-13 22:07:35,927 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3ff815ec-4c70-40ad-82f6-babd769a3eb4: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,928 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 3ff815ec-4c70-40ad-82f6-babd769a3eb4: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,929 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 709fb36f-f6fa-4a3d-8146-4b87ea3dab1b: Unterminated string starting at: line 1 column 7755 (char 7754). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Georgiou", "...'
2025-04-13 22:07:35,931 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ac407e91-1ef8-4f1e-b4d8-30321e6ba6eb: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,933 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ac407e91-1ef8-4f1e-b4d8-30321e6ba6eb: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Mill Ride Golf Club' to_entity_type='ASSET'
2025-04-13 22:07:35,934 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 2aa8ecf4-9d22-4fac-902f-226c42eb1f13: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,936 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk a2d8e230-e2f8-4126-880d-76ce2567ca6f: Unterminated string starting at: line 1 column 7213 (char 7212). Content: '{ "entity_relationship_list": [ { "from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "VES...'
2025-04-13 22:07:35,939 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4808b10b-4eed-45a0-9d09-9904a2f434e8: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='account number LU190023192776665200' to_entity_type='ASSET'
2025-04-13 22:07:35,940 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5a0bdffe-419d-448c-9fb0-6feb7d5c06c1: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,942 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5a0bdffe-419d-448c-9fb0-6feb7d5c06c1: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,947 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk c81d760d-cdf6-423c-8b8f-544a6b21190d: Unterminated string starting at: line 1 column 7625 (char 7624). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Ahmadov", "r...'
2025-04-13 22:07:35,948 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 95a72860-5d8b-4818-9560-5b0e9d8d60eb: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,950 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 95a72860-5d8b-4818-9560-5b0e9d8d60eb: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,952 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 22ccd6c8-44ce-4807-aa56-4413b4b76478: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 22:07:35,955 - src.core.extraction.entity_extractor - INFO - Processed batch results in 0.29s. Total batch time: 1643.38s
2025-04-13 22:07:35,956 - src.core.extraction.entity_extractor - INFO - Batch Stats: Success=647, Parse Errors=25, Missing Outputs=0
2025-04-13 22:07:35,970 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 1643.40s
2025-04-13 22:07:35,978 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-13 22:07:35,979 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 4631 entities, 1279 relationships.
2025-04-13 22:07:35,980 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-13 22:07:35,981 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 4631 raw entities...
2025-04-13 22:07:36,069 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-13 22:07:36,204 - src.core.extraction.entity_extractor - WARNING - Removed 11 entities with empty normalized names.
2025-04-13 22:07:36,206 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-13 22:07:36,741 - src.core.extraction.entity_extractor - INFO - Generated 163238 candidate pairs across all types.
2025-04-13 22:07:36,742 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-13 22:07:53,634 - src.core.extraction.entity_extractor - INFO - Found 136777 potential duplicate pairs after comparison.
2025-04-13 22:07:53,635 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-13 22:07:58,822 - src.core.extraction.entity_extractor - INFO - Found 1427 clusters (including singletons).
2025-04-13 22:07:58,824 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-13 22:07:59,017 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 1427.
2025-04-13 22:07:59,054 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs based on entity deduplication map...
2025-04-13 22:07:59,055 - src.core.extraction.entity_extractor - INFO - Updating 1279 raw relationships with canonical entity IDs...
2025-04-13 22:07:59,058 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 1254, Updated IDs in 1167, Skipped 25 (self-loops or missing mappings).
2025-04-13 22:07:59,059 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-13 22:07:59,060 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-13 22:07:59,062 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 127 duplicates. Final count: 1127.
2025-04-13 22:07:59,064 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 1427 entities, 1127 relationships.
2025-04-13 22:07:59,108 - src.core.extraction.entity_extractor - INFO - Saved 1427 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-13 22:07:59,128 - src.core.extraction.entity_extractor - INFO - Saved 1127 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-13 22:07:59,130 - __main__ - INFO - Entity extraction complete. Modified chunks: 672
2025-04-13 22:07:59,360 - __main__ - INFO - QueryEngine LLM model updated to: Qwen/Qwen2.5-7B-Instruct
2025-04-13 22:07:59,364 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-13 22:07:59,365 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 64
2025-04-13 22:07:59,367 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 22:07:59,369 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-13 22:07:59,370 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-13 22:07:59,371 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-13 22:07:59,372 - src.core.indexing.document_indexer - INFO -     - Timeout: 900s
2025-04-13 22:07:59,373 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-13 22:07:59,374 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: True
2025-04-13 22:07:59,375 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-13 22:07:59,376 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-13 22:07:59,380 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.89 GB, VMS: 42.04 GB
2025-04-13 22:07:59,384 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 22:07:59,385 - __main__ - INFO - Loading indexing model...
2025-04-13 22:07:59,386 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-13 22:07:59,387 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-13 22:07:59,388 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-13 22:08:01,998 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-13 22:08:02,000 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 2.61 seconds
2025-04-13 22:08:02,001 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.92 GB, VMS: 44.15 GB
2025-04-13 22:08:02,002 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 22:08:02,073 - __main__ - INFO - Indexing 672 chunks
2025-04-13 22:08:02,075 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 672 CHUNKS =====
2025-04-13 22:08:02,076 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-13 22:08:02,077 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-13 22:08:02,078 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 672 chunks...
2025-04-13 22:08:02,094 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-13 22:08:02,592 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-13 22:08:02,608 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-13 22:08:02,611 - src.core.indexing.document_indexer - INFO - Saving BM25 index and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-13 22:08:02,625 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (672 documents).
2025-04-13 22:08:02,630 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.55s (Success: True)
2025-04-13 22:08:02,691 - src.core.indexing.document_indexer - INFO - Collection 'anticorruption_rag_e5_instruct' exists. Verifying configuration...
2025-04-13 22:08:02,700 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=True
2025-04-13 22:08:05,650 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 64...
2025-04-13 22:08:05,653 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/11 (64 chunks) ---
2025-04-13 22:08:05,654 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 64 chunks...
2025-04-13 22:08:05,655 - src.core.indexing.document_indexer - INFO - Generating embeddings for 64 texts using BAAI/bge-m3...
2025-04-13 22:08:14,099 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 8.44s
2025-04-13 22:08:14,101 - src.core.indexing.document_indexer - INFO - Preparing 64 points for Qdrant upsert...
2025-04-13 22:08:16,433 - src.core.indexing.document_indexer - INFO - Point preparation finished in 2.33s. Prepared: 64, Skipped: 0
2025-04-13 22:08:16,523 - src.core.indexing.document_indexer - INFO - Upserting 64 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 22:08:16,527 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (64 points), starting with ID: 74efd6bd-f126-4f07-a685-72b3575a1ca1...
2025-04-13 22:22:56,088 - src.core.indexing.document_indexer - ERROR - NETWORK/TIMEOUT ERROR upserting Qdrant client batch 1: ResponseHandlingException - timed out
Traceback (most recent call last):
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
    raise exc
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_sync/http11.py", line 88, in handle_request
    self._send_request_body(**kwargs)
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_sync/http11.py", line 159, in _send_request_body
    self._send_event(event, timeout=timeout)
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_sync/http11.py", line 166, in _send_event
    self._network_stream.write(bytes_to_send, timeout=timeout)
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_backends/sync.py", line 135, in write
    with map_exceptions(exc_map):
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api_client.py", line 116, in send_inner
    response = self._client.send(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/t/lm_rag/src/core/indexing/document_indexer.py", line 462, in _process_and_index_qdrant_batch
    response = client.upsert(collection_name=self.qdrant_collection, points=client_batch, wait=True)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/qdrant_client.py", line 1567, in upsert
    return self._client.upsert(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/qdrant_remote.py", line 1908, in upsert
    http_result = self.openapi_client.points_api.upsert_points(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api/points_api.py", line 987, in upsert_points
    return self._build_for_upsert_points(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api/points_api.py", line 512, in _build_for_upsert_points
    return self.api_client.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api_client.py", line 89, in request
    return self.send(request, type_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api_client.py", line 106, in send
    response = self.middleware(request, self.send_inner)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api_client.py", line 215, in __call__
    return call_next(request)
           ^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api_client.py", line 118, in send_inner
    raise ResponseHandlingException(e)
qdrant_client.http.exceptions.ResponseHandlingException: timed out
2025-04-13 22:22:56,136 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 4.25 GB, VMS: 43.81 GB
2025-04-13 22:22:56,139 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.58 GB, Total: 8.00 GB
2025-04-13 22:22:57,183 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 891.53s. Overall success for this batch: False
2025-04-13 22:22:57,312 - src.core.indexing.document_indexer - ERROR - Failed to process Qdrant batch 1. Check logs for details.
2025-04-13 22:22:57,315 - src.core.indexing.document_indexer - WARNING - Fallback to BM25 is enabled. Continuing with next batch despite Qdrant failure.
2025-04-13 22:22:57,318 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 2/11 (64 chunks) ---
2025-04-13 22:22:57,319 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 64 chunks...
2025-04-13 22:22:57,320 - src.core.indexing.document_indexer - INFO - Generating embeddings for 64 texts using BAAI/bge-m3...
2025-04-13 22:22:58,797 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 1.48s
2025-04-13 22:22:58,798 - src.core.indexing.document_indexer - INFO - Preparing 64 points for Qdrant upsert...
2025-04-13 22:23:00,019 - src.core.indexing.document_indexer - INFO - Point preparation finished in 1.22s. Prepared: 64, Skipped: 0
2025-04-13 22:23:00,083 - src.core.indexing.document_indexer - INFO - Upserting 64 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 22:23:00,084 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (64 points), starting with ID: 8dcd0d15-f58d-4f9d-ad58-ee58376ada08...
2025-04-13 22:37:41,223 - src.core.indexing.document_indexer - ERROR - NETWORK/TIMEOUT ERROR upserting Qdrant client batch 1: ResponseHandlingException - timed out
Traceback (most recent call last):
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
    raise exc
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_sync/http11.py", line 88, in handle_request
    self._send_request_body(**kwargs)
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_sync/http11.py", line 159, in _send_request_body
    self._send_event(event, timeout=timeout)
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_sync/http11.py", line 166, in _send_event
    self._network_stream.write(bytes_to_send, timeout=timeout)
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_backends/sync.py", line 135, in write
    with map_exceptions(exc_map):
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api_client.py", line 116, in send_inner
    response = self._client.send(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/t/lm_rag/src/core/indexing/document_indexer.py", line 462, in _process_and_index_qdrant_batch
    response = client.upsert(collection_name=self.qdrant_collection, points=client_batch, wait=True)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/qdrant_client.py", line 1567, in upsert
    return self._client.upsert(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/qdrant_remote.py", line 1908, in upsert
    http_result = self.openapi_client.points_api.upsert_points(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api/points_api.py", line 987, in upsert_points
    return self._build_for_upsert_points(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api/points_api.py", line 512, in _build_for_upsert_points
    return self.api_client.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api_client.py", line 89, in request
    return self.send(request, type_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api_client.py", line 106, in send
    response = self.middleware(request, self.send_inner)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api_client.py", line 215, in __call__
    return call_next(request)
           ^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api_client.py", line 118, in send_inner
    raise ResponseHandlingException(e)
qdrant_client.http.exceptions.ResponseHandlingException: timed out
2025-04-13 22:37:41,240 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 4.71 GB, VMS: 44.60 GB
2025-04-13 22:37:41,243 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.80 GB, Total: 8.00 GB
2025-04-13 22:37:42,045 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 884.73s. Overall success for this batch: False
2025-04-13 22:37:42,213 - src.core.indexing.document_indexer - ERROR - Failed to process Qdrant batch 2. Check logs for details.
2025-04-13 22:37:42,215 - src.core.indexing.document_indexer - WARNING - Fallback to BM25 is enabled. Continuing with next batch despite Qdrant failure.
2025-04-13 22:37:42,217 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 3/11 (64 chunks) ---
2025-04-13 22:37:42,217 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 64 chunks...
2025-04-13 22:37:42,218 - src.core.indexing.document_indexer - INFO - Generating embeddings for 64 texts using BAAI/bge-m3...
2025-04-13 22:37:43,738 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 1.52s
2025-04-13 22:37:43,739 - src.core.indexing.document_indexer - INFO - Preparing 64 points for Qdrant upsert...
2025-04-13 22:37:45,061 - src.core.indexing.document_indexer - INFO - Point preparation finished in 1.32s. Prepared: 64, Skipped: 0
2025-04-13 22:37:45,138 - src.core.indexing.document_indexer - INFO - Upserting 64 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 22:37:45,140 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (64 points), starting with ID: acec0e46-d225-4c8c-b013-23153a6bc32e...
2025-04-13 22:55:47,253 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 22:55:47,254 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 22:55:47,253 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 22:55:47,254 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 22:55:47,293 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 22:55:47,293 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 22:55:47,294 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 22:55:47,294 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 22:55:47,301 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 22:55:47,301 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 22:55:47,303 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 22:55:47,304 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 22:55:47,317 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 22:55:47,318 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 22:55:47,320 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 22:55:47,322 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 22:55:47,320 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 22:55:47,323 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 22:55:47,322 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 22:55:47,325 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 22:55:47,326 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 22:55:47,327 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 22:55:47,328 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 22:55:47,329 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 22:55:47,331 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 22:55:47,332 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 22:55:47,333 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 22:55:47,334 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 22:55:47,336 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 22:55:47,337 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 22:55:47,338 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 22:55:47,339 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 22:55:47,341 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.33 GB, VMS: 37.62 GB
2025-04-13 22:55:47,343 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.33 GB, VMS: 37.62 GB
2025-04-13 22:55:47,441 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 22:55:47,441 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 22:55:47,443 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 22:55:47,444 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 22:55:48,041 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 22:55:48,349 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 22:55:48,352 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 22:55:48,353 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 22:55:48,352 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 22:55:48,353 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 22:57:22,957 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 22:57:23,058 - __main__ - INFO - Clearing all indexed and extracted data...
2025-04-13 22:57:23,477 - src.core.query_system.query_engine - INFO - Qdrant collection 'anticorruption_rag_e5_instruct' deleted
2025-04-13 22:57:24,482 - src.core.query_system.query_engine - INFO - BM25 index file deleted: /home/t/lm_rag/data/bm25/index.pkl
2025-04-13 22:57:24,485 - src.core.query_system.query_engine - INFO - Entities file deleted: /home/t/lm_rag/data/extracted/entities.json
2025-04-13 22:57:24,487 - src.core.query_system.query_engine - INFO - Relationships file deleted: /home/t/lm_rag/data/extracted/relationships.json
2025-04-13 22:57:24,488 - __main__ - INFO - Data clearing successful.
2025-04-13 22:57:24,546 - __main__ - INFO - Collection info after clearing: {'exists': False}
2025-04-13 22:57:24,979 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 22:59:19,545 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 22:59:19,545 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 22:59:19,556 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 22:59:19,556 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 22:59:19,592 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 22:59:19,592 - __main__ - INFO - Initializing ConversationStore...
2025-04-13 22:59:20,003 - src.utils.conversation_store - INFO - Conversation storage initialized at: /home/t/lm_rag/data/conversations
2025-04-13 22:59:20,004 - src.utils.conversation_store - INFO - Loading conversations from: /home/t/lm_rag/data/conversations
2025-04-13 22:59:20,012 - src.utils.conversation_store - INFO - Successfully loaded 13 conversations into memory.
2025-04-13 22:59:20,015 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 22:59:20,015 - __main__ - INFO - Creating new QueryEngine instance.
2025-04-13 22:59:20,016 - src.core.query_system.query_engine - INFO - Initializing QueryEngine:
2025-04-13 22:59:20,017 - src.core.query_system.query_engine - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 22:59:20,018 - src.core.query_system.query_engine - INFO -   - Reranking Model: BAAI/bge-reranker-v2-m3
2025-04-13 22:59:20,019 - src.core.query_system.query_engine - INFO -   - LLM (Chat) Model: Qwen/Qwen2.5-3B-Instruct
2025-04-13 22:59:20,020 - src.core.query_system.query_engine - INFO -   - Qdrant: localhost:6333, Collection: anticorruption_rag_e5_instruct
2025-04-13 22:59:20,021 - src.core.query_system.query_engine - INFO -   - Cross-Encoder Reranking Enabled: True
2025-04-13 22:59:20,022 - src.core.query_system.query_engine - INFO -   - BGE-M3 Prefetch Limit: 100
2025-04-13 22:59:20,023 - src.core.query_system.query_engine - INFO - Process memory - RSS: 1.33 GB, VMS: 37.61 GB
2025-04-13 22:59:20,105 - src.core.query_system.query_engine - INFO - GPU memory - Allocated: 0.00 GB, Reserved: 0.00 GB, Total: 8.00 GB
2025-04-13 22:59:20,106 - src.core.query_system.query_engine - INFO - Loading chat tokenizer for LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 22:59:20,669 - src.core.query_system.query_engine - INFO - Chat tokenizer for Qwen/Qwen2.5-3B-Instruct loaded successfully.
2025-04-13 22:59:20,673 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 22:59:20,673 - __main__ - INFO - QueryEngine created, using default LLM: Qwen/Qwen2.5-3B-Instruct
2025-04-13 22:59:28,971 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 22:59:30,966 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 22:59:40,043 - __main__ - INFO - Multiprocessing start method already set to 'spawn'.
2025-04-13 22:59:40,110 - __main__ - INFO - Storing selected LLM for session: Qwen/Qwen2.5-7B-Instruct
2025-04-13 22:59:40,113 - __main__ - INFO - Starting document processing for 1 files
2025-04-13 22:59:40,114 - __main__ - INFO - Starting document processing with spreadsheet options. Files: ['Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf']
2025-04-13 22:59:40,116 - __main__ - INFO - Starting Aphrodite service for document processing
2025-04-13 22:59:51,575 - __main__ - INFO - Aphrodite service started successfully
2025-04-13 22:59:51,576 - __main__ - INFO - Saved Aphrodite process info: PID=69492
2025-04-13 22:59:51,577 - src.core.document_processing.document_loader - INFO - Initializing DocumentLoader
2025-04-13 22:59:51,578 - src.core.document_processing.document_loader - INFO - Configuring Docling: Artifacts Path='None', Device='AcceleratorDevice.AUTO', Threads=-1
2025-04-13 22:59:51,582 - src.core.document_processing.document_loader - INFO - Docling DocumentConverter initialized successfully.
2025-04-13 22:59:51,588 - __main__ - INFO - Loading regular document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 22:59:51,590 - src.core.document_processing.document_loader - INFO - Loading document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (Type: .pdf)
2025-04-13 22:59:51,590 - src.core.document_processing.document_loader - INFO - Processing with Docling: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 22:59:51,591 - src.core.document_processing.document_loader - INFO - Starting Docling conversion for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf...
2025-04-13 23:02:14,314 - src.core.document_processing.document_loader - INFO - Exporting Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf content to Markdown...
2025-04-13 23:02:42,634 - src.core.document_processing.document_loader - INFO - Docling processing successful for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf. Word count: 94174, Page count: 246
2025-04-13 23:02:42,741 - __main__ - INFO - Document loaded: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf, Content items: 1
2025-04-13 23:02:42,743 - __main__ - INFO - All documents loaded. Shutting down document loader (Docling) to free resources...
2025-04-13 23:02:42,744 - src.core.document_processing.document_loader - INFO - ===== SHUTTING DOWN DocumentLoader and Unloading Docling Models =====
2025-04-13 23:02:42,745 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.76 GB, VMS: 40.68 GB
2025-04-13 23:02:42,746 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.46 GB, Reserved: 0.76 GB, Total: 8.00 GB
2025-04-13 23:02:42,747 - src.core.document_processing.document_loader - INFO - Unloading Docling DocumentConverter instance...
2025-04-13 23:02:42,749 - src.core.document_processing.document_loader - INFO - Docling converter reference removed.
2025-04-13 23:02:42,750 - src.core.document_processing.document_loader - INFO - Running garbage collection...
2025-04-13 23:02:43,160 - src.core.document_processing.document_loader - INFO - Garbage collection finished.
2025-04-13 23:02:43,162 - src.core.document_processing.document_loader - INFO - CUDA is available. Clearing PyTorch CUDA cache...
2025-04-13 23:02:43,184 - src.core.document_processing.document_loader - INFO - PyTorch CUDA cache cleared.
2025-04-13 23:02:43,186 - src.core.document_processing.document_loader - INFO - Docling models should now be unloaded from memory.
2025-04-13 23:02:43,187 - src.core.document_processing.document_loader - INFO - Process memory - RSS: 2.72 GB, VMS: 40.64 GB
2025-04-13 23:02:43,188 - src.core.document_processing.document_loader - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 23:02:43,189 - src.core.document_processing.document_loader - INFO - DocumentLoader shutdown complete.
2025-04-13 23:02:43,589 - __main__ - INFO - Document loader shut down complete.
2025-04-13 23:02:43,591 - __main__ - INFO - Process memory - RSS: 2.72 GB, VMS: 40.64 GB
2025-04-13 23:02:43,592 - __main__ - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 23:02:43,593 - src.core.document_processing.document_chunker - INFO - Initializing DocumentChunker with chunk_size=512, chunk_overlap=100, embedding_model=intfloat/multilingual-e5-small, semantic_threshold=95
2025-04-13 23:02:43,594 - src.core.document_processing.document_chunker - INFO - Markdown headers to split on: [('#', 'header_1'), ('##', 'header_2'), ('###', 'header_3'), ('####', 'header_4'), ('#####', 'header_5'), ('######', 'header_6')]
2025-04-13 23:02:43,595 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.72 GB, VMS: 40.64 GB
2025-04-13 23:02:43,596 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.02 GB, Total: 8.00 GB
2025-04-13 23:02:43,596 - __main__ - INFO - Loading chunking model...
2025-04-13 23:02:43,597 - src.core.document_processing.document_chunker - INFO - ===== LOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 23:02:43,598 - src.core.document_processing.document_chunker - INFO - Loading embedding model for semantic chunking: intfloat/multilingual-e5-small...
2025-04-13 23:02:43,599 - src.core.document_processing.document_chunker - INFO - Using Hugging Face cache directory: /home/t/.cache/huggingface
2025-04-13 23:02:43,599 - src.core.document_processing.document_chunker - INFO - Using Transformers cache directory: /home/t/.cache/huggingface/hub
2025-04-13 23:02:43,600 - src.core.document_processing.document_chunker - INFO - Using device: cuda
2025-04-13 23:02:47,672 - src.core.document_processing.document_chunker - INFO - Test embedding generated successfully.
2025-04-13 23:02:47,673 - src.core.document_processing.document_chunker - INFO - Semantic chunking embedding model loaded successfully in 4.07 seconds
2025-04-13 23:02:47,675 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.88 GB, VMS: 41.92 GB
2025-04-13 23:02:47,676 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 23:02:47,677 - __main__ - INFO - Chunking document 1/1: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 23:02:47,678 - src.core.document_processing.document_chunker - INFO - Starting chunking for document: Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf (ID: abbf89e0-6d4f-4781-84fb-e71d8704e84f, Type: .pdf)
2025-04-13 23:02:47,679 - src.core.document_processing.document_chunker - INFO - Processing 1 content item(s) for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf.
2025-04-13 23:02:47,680 - src.core.document_processing.document_chunker - INFO - Processing content item 1/1 (length: 608866 chars) using Markdown Header + Semantic chunking.
2025-04-13 23:02:47,699 - src.core.document_processing.document_chunker - INFO - MarkdownHeaderTextSplitter created 244 initial structural chunks.
2025-04-13 23:02:55,219 - src.core.document_processing.document_chunker - INFO - Markdown header + semantic splitting resulted in 502 potential chunks.
2025-04-13 23:02:55,221 - src.core.document_processing.document_chunker - WARNING - Chunk (length 8299) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 23:02:55,222 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 23:02:55,223 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6564) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 23:02:55,224 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 23:02:55,224 - src.core.document_processing.document_chunker - WARNING - Chunk (length 6017) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 23:02:55,226 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 23:02:55,227 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5972) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 23:02:55,228 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 18 basic chunks.
2025-04-13 23:02:55,229 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7518) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 23:02:55,230 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 21 basic chunks.
2025-04-13 23:02:55,231 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7098) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 23:02:55,232 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 22 basic chunks.
2025-04-13 23:02:55,232 - src.core.document_processing.document_chunker - WARNING - Chunk (length 7084) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 23:02:55,233 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 19 basic chunks.
2025-04-13 23:02:55,234 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5166) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 23:02:55,237 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 15 basic chunks.
2025-04-13 23:02:55,238 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5469) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 23:02:55,239 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 14 basic chunks.
2025-04-13 23:02:55,240 - src.core.document_processing.document_chunker - WARNING - Chunk (length 5139) still exceeds size limit (5120) after semantic split. Applying basic chunking fallback.
2025-04-13 23:02:55,241 - src.core.document_processing.document_chunker - INFO - RecursiveCharacterTextSplitter created 13 basic chunks.
2025-04-13 23:02:55,241 - src.core.document_processing.document_chunker - INFO - Applied basic chunking fallback to 10 oversized chunks.
2025-04-13 23:02:55,242 - src.core.document_processing.document_chunker - INFO - Final processing created 672 chunks from text of length 608866.
2025-04-13 23:02:55,246 - src.core.document_processing.document_chunker - INFO - Chunking for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf completed in 7.57s.
2025-04-13 23:02:55,247 - src.core.document_processing.document_chunker - INFO - Created 672 total chunks: 0 spreadsheet rows, 492 semantic chunks, 0 sentence fallback chunks, 180 basic fallback chunks.
2025-04-13 23:02:55,248 - src.core.document_processing.document_chunker - INFO - Average chunk size: 881.6 characters.
2025-04-13 23:02:55,249 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.87 GB, VMS: 41.90 GB
2025-04-13 23:02:55,250 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.45 GB, Reserved: 0.97 GB, Total: 8.00 GB
2025-04-13 23:02:55,251 - __main__ - INFO - Created 672 chunks for Witness_Statement_of_Nicola_Bartlett_dated_12_June_2023.pdf
2025-04-13 23:02:55,252 - __main__ - INFO - Shutting down chunking model...
2025-04-13 23:02:55,253 - src.core.document_processing.document_chunker - INFO - ===== UNLOADING SEMANTIC CHUNKING MODEL =====
2025-04-13 23:02:55,254 - src.core.document_processing.document_chunker - INFO - Model was on device: cuda
2025-04-13 23:02:55,255 - src.core.document_processing.document_chunker - INFO - Deleting model reference...
2025-04-13 23:02:55,256 - src.core.document_processing.document_chunker - INFO - Clearing CUDA cache...
2025-04-13 23:02:55,262 - src.core.document_processing.document_chunker - INFO - Running garbage collection...
2025-04-13 23:02:55,831 - src.core.document_processing.document_chunker - INFO - Semantic chunking model unloaded.
2025-04-13 23:02:55,833 - src.core.document_processing.document_chunker - INFO - Process memory - RSS: 2.87 GB, VMS: 41.90 GB
2025-04-13 23:02:55,834 - src.core.document_processing.document_chunker - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 23:02:55,835 - __main__ - INFO - Total chunks generated: 672
2025-04-13 23:02:55,836 - __main__ - INFO - Creating entity extractor with model Qwen/Qwen2.5-7B-Instruct
2025-04-13 23:02:55,837 - src.core.extraction.entity_extractor - INFO - Initialized EntityExtractor with model=Qwen/Qwen2.5-7B-Instruct, debug=True, using advanced deduplication.
2025-04-13 23:02:55,838 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.87 GB, VMS: 41.90 GB
2025-04-13 23:02:55,839 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 23:02:55,839 - __main__ - INFO - Starting entity extraction on 672 chunks (0 visual chunks)
2025-04-13 23:02:55,840 - src.core.extraction.entity_extractor - INFO - Adding 672 chunks for batch processing (0 spreadsheet rows, 0 visual)
2025-04-13 23:02:55,842 - src.core.extraction.entity_extractor - INFO - Added 672 chunks to queue. Processing now.
2025-04-13 23:02:55,842 - src.core.extraction.entity_extractor - INFO - Processing all 672 chunks...
2025-04-13 23:02:55,843 - src.core.extraction.entity_extractor - INFO - Process memory - RSS: 2.87 GB, VMS: 41.90 GB
2025-04-13 23:02:55,844 - src.core.extraction.entity_extractor - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 23:02:55,847 - src.core.extraction.entity_extractor - INFO - Loading designated extraction model: Qwen/Qwen2.5-7B-Instruct
2025-04-13 23:07:06,640 - src.core.extraction.entity_extractor - INFO - Model Qwen/Qwen2.5-7B-Instruct loaded successfully for extraction.
2025-04-13 23:07:06,643 - src.core.extraction.entity_extractor - INFO - Processing 672 chunks (0 spreadsheet rows)
2025-04-13 23:07:06,644 - src.core.extraction.entity_extractor - INFO - Processing in 1 batches of size 1024
2025-04-13 23:07:06,645 - src.core.extraction.entity_extractor - INFO - Processing batch 1/1 (672 chunks)
2025-04-13 23:07:06,654 - src.core.extraction.entity_extractor - INFO - Sending batch of 672 prompts to service
2025-04-13 23:34:53,965 - src.core.extraction.entity_extractor - INFO - Received response from service
2025-04-13 23:34:53,974 - src.core.extraction.entity_extractor - INFO - Service request/response took 1667.32s
2025-04-13 23:34:53,993 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 9f71d2a1-8c12-4fef-b67b-2674c855da38: Unterminated string starting at: line 1 column 7911 (char 7910). Content: '{ "entity_relationship_list": [ { "from_entity_type": "NGO", "from_entity_name": "NCA", "relationshi...'
2025-04-13 23:34:54,004 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk b636dbeb-45ba-4088-9c73-e6774491355b: Unterminated string starting at: line 1 column 7642 (char 7641). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 23:34:54,007 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 2db9981c-7315-49cc-913e-eda4f79d33ff: Unterminated string starting at: line 1 column 7346 (char 7345). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 23:34:54,010 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 4fc08407-19ea-49b6-8e93-ffefe3a6bfd2: Unterminated string starting at: line 1 column 7417 (char 7416). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 23:34:54,012 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk de7eeb7a-ba34-44c3-9eb1-74a808e0b9ff: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,014 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk de7eeb7a-ba34-44c3-9eb1-74a808e0b9ff: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='judge' to_entity_type='POSITION'
2025-04-13 23:34:54,015 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk de7eeb7a-ba34-44c3-9eb1-74a808e0b9ff: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='PFO' to_entity_type='ASSET'
2025-04-13 23:34:54,017 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk de7eeb7a-ba34-44c3-9eb1-74a808e0b9ff: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Disclosure Order' to_entity_type='ASSET'
2025-04-13 23:34:54,019 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk de7eeb7a-ba34-44c3-9eb1-74a808e0b9ff: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='financial institutions, law firms and other relevant third parties' to_entity_type='NGO'
2025-04-13 23:34:54,021 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c01b479c-1a12-464e-8e0f-1c6550f88c46: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,022 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c01b479c-1a12-464e-8e0f-1c6550f88c46: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,023 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c01b479c-1a12-464e-8e0f-1c6550f88c46: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,025 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c01b479c-1a12-464e-8e0f-1c6550f88c46: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,027 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 36ba16c6-a17c-47a0-85f7-f5a957af5abb: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,029 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 36ba16c6-a17c-47a0-85f7-f5a957af5abb: from_entity_type='ASSET' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,031 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 48442a62-c02f-4b96-aa03-ed0af3903b58: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type='LOCATED_IN' relationship_description='Used to hold bank accounts' to_entity_name='a number of jurisdictions' to_entity_type='LOCATION'
2025-04-13 23:34:54,035 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 9047d9f1-a143-41f7-a093-db44c40ece5d: Expecting value: line 1 column 7144 (char 7143). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "IBA", ...'
2025-04-13 23:34:54,038 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f99bf6c9-2ee5-4d6a-8a40-e09d404b55f9: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='provided an income for' to_entity_name='Zamira HAJIYEVA' to_entity_type='PERSON'
2025-04-13 23:34:54,042 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 8f732133-83b6-4547-8bd7-8d777a997905: Unterminated string starting at: line 1 column 8603 (char 8602). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 23:34:54,046 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 34e80583-767b-4d9f-96b7-5fdc131b414b: Unterminated string starting at: line 1 column 7920 (char 7919). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 23:34:54,052 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 78ed0fd0-9386-45d0-915c-6744d924d518: Unterminated string starting at: line 1 column 7522 (char 7521). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": "NCA", ...'
2025-04-13 23:34:54,054 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 30f8769d-c5bd-4b6a-9d6a-5d95be633815: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,056 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 30f8769d-c5bd-4b6a-9d6a-5d95be633815: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,058 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk c280e94c-fde3-4d48-8717-2e5d2e65d0b5: Unterminated string starting at: line 1 column 7301 (char 7300). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 23:34:54,060 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk a17f0484-acee-4306-91e3-5c0208cc7274: Unterminated string starting at: line 1 column 7725 (char 7724). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Bashirov", "...'
2025-04-13 23:34:54,062 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 106e3505-d009-413c-98de-7ff6f5402cb9: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,066 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 2ccf42a9-aa19-4961-b002-6a1ac152af6e: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='correspond to the dates and amounts of' to_entity_name='promissory notes and loan agreements' to_entity_type='ASSET'
2025-04-13 23:34:54,071 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 330908c6-0c48-435b-82af-45cd0a6c7568: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,078 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 76e114f9-0fdd-419e-8570-73bea2812db4: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,084 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk cb698ec6-7960-487f-9195-1e76b8e4aa08: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OCCRP' to_entity_type='NGO'
2025-04-13 23:34:54,091 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7cd93a72-1ed0-49ac-ba1b-52c08a3cd009: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,098 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6cbbc7ea-8f37-4d20-b155-bf1fe85e92af: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,101 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f06857f3-4e58-4094-9a46-b5bbd630775a: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,104 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f06857f3-4e58-4094-9a46-b5bbd630775a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,107 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 60b455d7-a426-4a80-891a-f2c414f3bfa0: from_entity_type=None from_entity_name='Estonia' relationship_type=None relationship_description=None to_entity_name='Cyprus' to_entity_type='LOCATION'
2025-04-13 23:34:54,110 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 60b455d7-a426-4a80-891a-f2c414f3bfa0: from_entity_type=None from_entity_name='Estonia' relationship_type=None relationship_description=None to_entity_name='Latvia' to_entity_type='LOCATION'
2025-04-13 23:34:54,114 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 6e2e3951-6754-4e81-ae58-ba98d736f4d2: Unterminated string starting at: line 1 column 8193 (char 8192). Content: '{"entity_relationship_list": [{"from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "rel...'
2025-04-13 23:34:54,116 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 842989ed-906b-4e7e-8d53-0aefc66123cf: Expecting property name enclosed in double quotes: line 1 column 7882 (char 7881). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 6,...'
2025-04-13 23:34:54,120 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c2354076-81e3-4d49-b0b5-009a98c35f0f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='FATF Report on Concealment of Beneficial Ownership' to_entity_type='EVENT'
2025-04-13 23:34:54,122 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c2354076-81e3-4d49-b0b5-009a98c35f0f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='OECD Report on Ending the Shell Game' to_entity_type='EVENT'
2025-04-13 23:34:54,123 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk c2354076-81e3-4d49-b0b5-009a98c35f0f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='FATF Report on Beneficial Ownership of Legal Persons' to_entity_type='EVENT'
2025-04-13 23:34:54,130 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk f0aee53a-7bf6-48d5-b3d8-f434e6add274: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='loan' to_entity_type='MONEY'
2025-04-13 23:34:54,134 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 7212ac91-e1bb-4569-8658-cee7a0347959: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,141 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk aa5cc713-1133-4b80-b29d-62ab69556b1f: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,144 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 4f9c9433-dd3f-4d6a-b94c-e0c64b5a48e7: Expecting property name enclosed in double quotes: line 1 column 8214 (char 8213). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 23:34:54,146 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d8eef6a2-2af4-42d5-9615-016eae4baf74: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,150 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk aa7a384f-1c1d-4951-b300-1f9a3bbb98bb: Unterminated string starting at: line 1 column 7827 (char 7826). Content: '{ "entity_relationship_list": [ { "from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "Ang...'
2025-04-13 23:34:54,152 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 93ea9613-fc36-4604-ba5c-c1ced2d8d210: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='DH Leasing' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 23:34:54,155 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d9b26928-0cf1-4fc7-b26a-3efc17275dd0: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Isle of Man' to_entity_type='LOCATION'
2025-04-13 23:34:54,159 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4128ceb6-f712-477f-a90d-4ba211f31835: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='IBA-Moscow' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 23:34:54,161 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4128ceb6-f712-477f-a90d-4ba211f31835: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='transactions' to_entity_type='ASSET'
2025-04-13 23:34:54,163 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6e03360a-29e2-49db-97c1-3b7e7a14d582: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,164 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 6e03360a-29e2-49db-97c1-3b7e7a14d582: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,167 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 52530bdc-d5b6-4473-8684-8312a5b7ee1a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Regulated firms were required to carry out due diligence' to_entity_name='regulated firms' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 23:34:54,169 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 52530bdc-d5b6-4473-8684-8312a5b7ee1a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Source of funds and source of wealth' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 23:34:54,170 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 52530bdc-d5b6-4473-8684-8312a5b7ee1a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Income' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 23:34:54,172 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 52530bdc-d5b6-4473-8684-8312a5b7ee1a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Sources of evidence' to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 23:34:54,173 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 52530bdc-d5b6-4473-8684-8312a5b7ee1a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 23:34:54,174 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 52530bdc-d5b6-4473-8684-8312a5b7ee1a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Income' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 23:34:54,175 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 52530bdc-d5b6-4473-8684-8312a5b7ee1a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Explanations and sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 23:34:54,176 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 52530bdc-d5b6-4473-8684-8312a5b7ee1a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Explanations and sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 23:34:54,177 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 52530bdc-d5b6-4473-8684-8312a5b7ee1a: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='Explanations and sources of evidence' to_entity_name='Mrs Hajiyeva' to_entity_type='PERSON'
2025-04-13 23:34:54,179 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a96bca4c-5450-4b35-890f-98c91746862e: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type='WORKS_FOR' relationship_description='Employment' to_entity_name='Tab C1' to_entity_type='LOCATION'
2025-04-13 23:34:54,181 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 74972317-1bdf-433e-bc39-2145de301caf: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='IBA' to_entity_type='GOVERNMENT_BODY'
2025-04-13 23:34:54,186 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 5573e64d-f2d8-40bf-9724-dcd576540e8e: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,192 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d8c44d00-d3fd-4ffe-acae-e8f57b622e45: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description="Income is from Mr Hajiyev's professional activity" to_entity_name='Mr Hajiyev' to_entity_type='PERSON'
2025-04-13 23:34:54,194 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d8c44d00-d3fd-4ffe-acae-e8f57b622e45: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description="Income is from Mr Hajiyev's professional activity" to_entity_name='Mrs Hajiyev' to_entity_type='PERSON'
2025-04-13 23:34:54,196 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk d8c44d00-d3fd-4ffe-acae-e8f57b622e45: from_entity_type='LOCATION' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,198 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4607da9c-37c4-40dc-a564-37a2d7f4fdb6: from_entity_type=None from_entity_name='Tea Construction' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,200 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4607da9c-37c4-40dc-a564-37a2d7f4fdb6: from_entity_type=None from_entity_name='Eroil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,201 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4607da9c-37c4-40dc-a564-37a2d7f4fdb6: from_entity_type=None from_entity_name='Mea Oil' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,202 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4607da9c-37c4-40dc-a564-37a2d7f4fdb6: from_entity_type=None from_entity_name='TPD Trading Petrol and Drilling' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,203 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4607da9c-37c4-40dc-a564-37a2d7f4fdb6: from_entity_type=None from_entity_name='Tiara' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,204 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4607da9c-37c4-40dc-a564-37a2d7f4fdb6: from_entity_type=None from_entity_name='Migao Corporation' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,205 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4607da9c-37c4-40dc-a564-37a2d7f4fdb6: from_entity_type=None from_entity_name='Anglo Asian Mining Plc' relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,207 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk a888ed79-40f3-4bbc-80b8-4f7e92f88fb7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='BVI Financial Investigation Agency' to_entity_type='GOVERNMENT_BODY'
2025-04-13 23:34:54,209 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk abe2dd23-409d-4d79-942b-fee7b15ed4a8: Unterminated string starting at: line 1 column 6476 (char 6475). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mrs Hajiyeva", ...'
2025-04-13 23:34:54,213 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 2a83fbd9-7bcb-41d2-bfb7-c4c96805c10f: Unterminated string starting at: line 1 column 6983 (char 6982). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 23:34:54,215 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0c78cac6-a25d-43e4-b649-45eb1af1d9ca: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,217 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 0c78cac6-a25d-43e4-b649-45eb1af1d9ca: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,218 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 8cceec3f-14e1-4b1d-b72a-a01892bc3438: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,220 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 2f6a4b10-ba44-47f7-934c-a142ec8eab65: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Azerbaijan' to_entity_type='LOCATION'
2025-04-13 23:34:54,223 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk fddf3681-7ce0-4adf-be1f-17bccfec2799: from_entity_type=None from_entity_name='Cyprus' relationship_type='LOCATED_IN' relationship_description="One of the jurisdictions where Mr Bashirov's accounts are controlled" to_entity_name=None to_entity_type='LOCATION'
2025-04-13 23:34:54,235 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 96e0babf-e17e-49c6-821d-a70025422458: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,239 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk c393bd62-8836-404c-8c2b-8d60bae1d9b7: Unterminated string starting at: line 1 column 6374 (char 6373). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "GBP 6,...'
2025-04-13 23:34:54,241 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 88dd20c3-740d-475c-a21b-68eb323a087a: Unterminated string starting at: line 1 column 7734 (char 7733). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 23:34:54,243 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 86bde2ed-d1f3-45af-af85-ac78fed53332: from_entity_type='PERSON' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,244 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 86bde2ed-d1f3-45af-af85-ac78fed53332: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,246 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk ca6f9e7c-4c75-4533-a7a9-8a4c49941361: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,247 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 606a0f3d-b859-4861-af03-56bcaf9bbac0: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,249 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 94f909e4-c08a-4389-8b5a-c77ee9cee389: Unterminated string starting at: line 1 column 7519 (char 7518). Content: '{ "entity_relationship_list": [ { "from_entity_type": "MONETARY_AMOUNT", "from_entity_name": "credit...'
2025-04-13 23:34:54,250 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e4fac571-690a-45a4-ba80-afea5ac50d2e: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description='legal charge' to_entity_name='12-14 Walton Street' to_entity_type='ASSET'
2025-04-13 23:34:54,252 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e4fac571-690a-45a4-ba80-afea5ac50d2e: from_entity_type='EVENT' from_entity_name=None relationship_type='WORKS_FOR' relationship_description=None to_entity_name='Barclays Wealth' to_entity_type='COMMERCIAL_COMPANY'
2025-04-13 23:34:54,253 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e4fac571-690a-45a4-ba80-afea5ac50d2e: from_entity_type='EVENT' from_entity_name=None relationship_type='CONNECTED_TO' relationship_description='email confirmation' to_entity_name='Mishcon' to_entity_type='PERSON'
2025-04-13 23:34:54,258 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 71822c53-aff2-4279-94fa-feea572b081c: Unterminated string starting at: line 1 column 7819 (char 7818). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Mateos", "re...'
2025-04-13 23:34:54,259 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 0ccd708f-14c4-453a-8dc3-7001666db724: Expecting value: line 1 column 7637 (char 7636). Content: '{ "entity_relationship_list": [ { "from_entity_type": "GOVERNMENT_BODY", "from_entity_name": null, "...'
2025-04-13 23:34:54,261 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 928a3297-1b84-4b6c-b837-a5b7e427a283: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,262 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 928a3297-1b84-4b6c-b837-a5b7e427a283: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,264 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk fce3794e-f983-4cba-92a1-8e5811c47bda: Unterminated string starting at: line 1 column 7961 (char 7960). Content: '{"entity_relationship_list": [{"from_entity_type": "NGO", "from_entity_name": null, "relationship_ty...'
2025-04-13 23:34:54,265 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e288ac29-fc2f-4919-a4f9-1b5f4348001a: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,267 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e288ac29-fc2f-4919-a4f9-1b5f4348001a: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,269 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk 32a9a5e9-2058-47c6-a96e-975dfb441c89: Unterminated string starting at: line 1 column 7755 (char 7754). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Ms Georgiou", "...'
2025-04-13 23:34:54,270 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e784a29e-c17c-48de-aa90-1dd4324d0194: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,272 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk e784a29e-c17c-48de-aa90-1dd4324d0194: from_entity_type='COMMERCIAL_COMPANY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='Mill Ride Golf Club' to_entity_type='ASSET'
2025-04-13 23:34:54,273 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 927fdf4d-c2ff-42cb-aebc-d8ee17ac28c7: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,274 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk ba75313c-47ac-4075-90eb-f32dbfd7a032: Unterminated string starting at: line 1 column 7213 (char 7212). Content: '{ "entity_relationship_list": [ { "from_entity_type": "COMMERCIAL_COMPANY", "from_entity_name": "VES...'
2025-04-13 23:34:54,277 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 86b78142-48df-4692-b708-b14c720f4204: from_entity_type='MONETARY_AMOUNT' from_entity_name=None relationship_type=None relationship_description=None to_entity_name='account number LU190023192776665200' to_entity_type='ASSET'
2025-04-13 23:34:54,278 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b12245e8-627b-4b76-9243-3ba6bba5a164: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,280 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk b12245e8-627b-4b76-9243-3ba6bba5a164: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,283 - src.core.extraction.entity_extractor - WARNING - Error parsing result for chunk e50fe88c-86dc-43d4-aadd-f2b3493fde74: Unterminated string starting at: line 1 column 7625 (char 7624). Content: '{ "entity_relationship_list": [ { "from_entity_type": "PERSON", "from_entity_name": "Mr Ahmadov", "r...'
2025-04-13 23:34:54,285 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4e633e5c-61de-4ccf-938c-08ea4cd5c532: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,286 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 4e633e5c-61de-4ccf-938c-08ea4cd5c532: from_entity_type='GOVERNMENT_BODY' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,289 - src.core.extraction.entity_extractor - WARNING - Skipping item with missing from_entity details in chunk 27ad5cc9-b845-410d-afc8-44da5e97d8ee: from_entity_type='NGO' from_entity_name=None relationship_type=None relationship_description=None to_entity_name=None to_entity_type=None
2025-04-13 23:34:54,291 - src.core.extraction.entity_extractor - INFO - Processed batch results in 0.31s. Total batch time: 1667.64s
2025-04-13 23:34:54,292 - src.core.extraction.entity_extractor - INFO - Batch Stats: Success=647, Parse Errors=25, Missing Outputs=0
2025-04-13 23:34:54,304 - src.core.extraction.entity_extractor - INFO - All batch processing completed in 1667.66s
2025-04-13 23:34:54,313 - src.core.extraction.entity_extractor - INFO - Starting final processing and saving...
2025-04-13 23:34:54,315 - src.core.extraction.entity_extractor - INFO - Raw counts before deduplication: 4631 entities, 1279 relationships.
2025-04-13 23:34:54,316 - src.core.extraction.entity_extractor - INFO - Running enhanced entity deduplication...
2025-04-13 23:34:54,317 - src.core.extraction.entity_extractor - INFO - Starting enhanced entity deduplication on 4631 raw entities...
2025-04-13 23:34:54,400 - src.core.extraction.entity_extractor - INFO - Normalizing entity names...
2025-04-13 23:34:54,542 - src.core.extraction.entity_extractor - WARNING - Removed 11 entities with empty normalized names.
2025-04-13 23:34:54,543 - src.core.extraction.entity_extractor - INFO - Generating candidate pairs using blocking...
2025-04-13 23:34:55,131 - src.core.extraction.entity_extractor - INFO - Generated 163238 candidate pairs across all types.
2025-04-13 23:34:55,132 - src.core.extraction.entity_extractor - INFO - Comparing candidate pairs...
2025-04-13 23:35:11,166 - src.core.extraction.entity_extractor - INFO - Found 136777 potential duplicate pairs after comparison.
2025-04-13 23:35:11,167 - src.core.extraction.entity_extractor - INFO - Clustering duplicate pairs...
2025-04-13 23:35:16,379 - src.core.extraction.entity_extractor - INFO - Found 1427 clusters (including singletons).
2025-04-13 23:35:16,381 - src.core.extraction.entity_extractor - INFO - Choosing canonical entities and merging context...
2025-04-13 23:35:16,580 - src.core.extraction.entity_extractor - INFO - Enhanced entity deduplication complete. Final entity count: 1427.
2025-04-13 23:35:16,617 - src.core.extraction.entity_extractor - INFO - Updating relationship IDs based on entity deduplication map...
2025-04-13 23:35:16,619 - src.core.extraction.entity_extractor - INFO - Updating 1279 raw relationships with canonical entity IDs...
2025-04-13 23:35:16,623 - src.core.extraction.entity_extractor - INFO - Relationship ID update complete. Kept 1254, Updated IDs in 1173, Skipped 25 (self-loops or missing mappings).
2025-04-13 23:35:16,624 - src.core.extraction.entity_extractor - INFO - Running relationship deduplication...
2025-04-13 23:35:16,625 - src.core.extraction.entity_extractor - INFO - Starting relationship deduplication...
2025-04-13 23:35:16,626 - src.core.extraction.entity_extractor - INFO - Relationship deduplication complete. Removed 127 duplicates. Final count: 1127.
2025-04-13 23:35:16,628 - src.core.extraction.entity_extractor - INFO - Final counts after deduplication: 1427 entities, 1127 relationships.
2025-04-13 23:35:16,658 - src.core.extraction.entity_extractor - INFO - Saved 1427 deduplicated entities to /home/t/lm_rag/data/extracted/entities.json
2025-04-13 23:35:16,674 - src.core.extraction.entity_extractor - INFO - Saved 1127 deduplicated relationships to /home/t/lm_rag/data/extracted/relationships.json
2025-04-13 23:35:16,675 - __main__ - INFO - Entity extraction complete. Modified chunks: 672
2025-04-13 23:35:16,875 - __main__ - INFO - QueryEngine LLM model updated to: Qwen/Qwen2.5-7B-Instruct
2025-04-13 23:35:16,879 - src.core.indexing.document_indexer - INFO - Initializing DocumentIndexer:
2025-04-13 23:35:16,881 - src.core.indexing.document_indexer - INFO -   - Processing Batch Size: 2
2025-04-13 23:35:16,882 - src.core.indexing.document_indexer - INFO -   - Embedding Model: BAAI/bge-m3 (BGE-M3 Mode)
2025-04-13 23:35:16,883 - src.core.indexing.document_indexer - INFO -   - Qdrant:
2025-04-13 23:35:16,884 - src.core.indexing.document_indexer - INFO -     - Host: localhost:6333
2025-04-13 23:35:16,885 - src.core.indexing.document_indexer - INFO -     - Collection: anticorruption_rag_e5_instruct
2025-04-13 23:35:16,886 - src.core.indexing.document_indexer - INFO -     - Timeout: 90000s
2025-04-13 23:35:16,887 - src.core.indexing.document_indexer - INFO -     - Upsert Batch Size: 128
2025-04-13 23:35:16,888 - src.core.indexing.document_indexer - INFO -     - Sparse On Disk: False
2025-04-13 23:35:16,890 - src.core.indexing.document_indexer - INFO -   - Expected Vector Size: 1024
2025-04-13 23:35:16,890 - src.core.indexing.document_indexer - INFO -   - Debug Mode: False
2025-04-13 23:35:16,894 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 41.90 GB
2025-04-13 23:35:16,898 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 23:35:16,899 - __main__ - INFO - Loading indexing model...
2025-04-13 23:35:16,900 - src.core.indexing.document_indexer - INFO - ===== LOADING EMBEDDING MODEL: BAAI/bge-m3 =====
2025-04-13 23:35:16,901 - src.core.indexing.document_indexer - INFO - Using device: cuda
2025-04-13 23:35:16,902 - src.core.indexing.document_indexer - INFO - Loading BGE-M3 with use_fp16=True
2025-04-13 23:35:19,480 - src.core.indexing.document_indexer - INFO - Loaded BGE-M3 model using FlagEmbedding.
2025-04-13 23:35:19,481 - src.core.indexing.document_indexer - INFO - Embedding model loaded in 2.58 seconds
2025-04-13 23:35:19,482 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.86 GB, VMS: 44.08 GB
2025-04-13 23:35:19,484 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 0.01 GB, Reserved: 0.47 GB, Total: 8.00 GB
2025-04-13 23:35:19,547 - __main__ - INFO - Indexing 672 chunks
2025-04-13 23:35:19,549 - src.core.indexing.document_indexer - INFO - ===== STARTING INDEXING PROCESS FOR 672 CHUNKS =====
2025-04-13 23:35:19,550 - src.core.indexing.document_indexer - INFO - Embedding model (BAAI/bge-m3) already loaded.
2025-04-13 23:35:19,551 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing...
2025-04-13 23:35:19,552 - src.core.indexing.document_indexer - INFO - Starting BM25 indexing for 672 chunks...
2025-04-13 23:35:19,569 - src.core.indexing.document_indexer - INFO - Tokenizing texts for BM25...
2025-04-13 23:35:20,056 - src.core.indexing.document_indexer - INFO - Creating BM25 index object...
2025-04-13 23:35:20,071 - src.core.indexing.document_indexer - INFO - Preparing BM25 metadata...
2025-04-13 23:35:20,073 - src.core.indexing.document_indexer - INFO - Saving BM25 index and metadata to /home/t/lm_rag/data/bm25/index.pkl
2025-04-13 23:35:20,101 - src.core.indexing.document_indexer - INFO - BM25 index saved successfully (672 documents).
2025-04-13 23:35:20,106 - src.core.indexing.document_indexer - INFO - BM25 indexing took 0.55s (Success: True)
2025-04-13 23:35:20,173 - src.core.indexing.document_indexer - INFO - Creating collection 'anticorruption_rag_e5_instruct'...
2025-04-13 23:35:20,175 - src.core.indexing.document_indexer - INFO - Configuring sparse vectors with on_disk=False
2025-04-13 23:35:20,680 - src.core.indexing.document_indexer - INFO - Collection created.
2025-04-13 23:35:23,859 - src.core.indexing.document_indexer - INFO - Starting Qdrant processing in batches of 2...
2025-04-13 23:35:23,862 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 1/336 (2 chunks) ---
2025-04-13 23:35:23,863 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:23,863 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:29,859 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 6.00s
2025-04-13 23:35:29,863 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:29,882 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.02s. Prepared: 2, Skipped: 0
2025-04-13 23:35:29,962 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:29,964 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 53d365b9-db23-4127-bea2-f54e5eb44124...
2025-04-13 23:35:30,193 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.23s
2025-04-13 23:35:30,195 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.79 GB, VMS: 42.21 GB
2025-04-13 23:35:30,197 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.12 GB, Total: 8.00 GB
2025-04-13 23:35:30,673 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 6.81s. Overall success for this batch: True
2025-04-13 23:35:30,679 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 2/336 (2 chunks) ---
2025-04-13 23:35:30,680 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:30,681 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:30,749 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.07s
2025-04-13 23:35:30,751 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:30,762 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:30,821 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:30,824 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 98e2f916-0ed4-4e6d-b50b-b1b29cf0b3db...
2025-04-13 23:35:31,024 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.20s
2025-04-13 23:35:31,026 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.80 GB, VMS: 42.21 GB
2025-04-13 23:35:31,027 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.12 GB, Total: 8.00 GB
2025-04-13 23:35:31,460 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.78s. Overall success for this batch: True
2025-04-13 23:35:31,466 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 3/336 (2 chunks) ---
2025-04-13 23:35:31,468 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:31,469 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:31,532 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:35:31,533 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:31,543 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:31,596 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:31,599 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 826217e5-5aa6-4143-aeb5-5ab2aed92079...
2025-04-13 23:35:31,752 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.15s
2025-04-13 23:35:31,753 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.80 GB, VMS: 42.21 GB
2025-04-13 23:35:31,754 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.12 GB, Total: 8.00 GB
2025-04-13 23:35:32,196 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.73s. Overall success for this batch: True
2025-04-13 23:35:32,201 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 4/336 (2 chunks) ---
2025-04-13 23:35:32,203 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:32,204 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:32,251 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:35:32,253 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:32,258 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-13 23:35:32,311 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:32,312 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 0ddd9d30-43fd-420c-ae34-7e016d57dbbb...
2025-04-13 23:35:32,433 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.12s
2025-04-13 23:35:32,434 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.80 GB, VMS: 42.21 GB
2025-04-13 23:35:32,435 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.12 GB, Total: 8.00 GB
2025-04-13 23:35:32,872 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.67s. Overall success for this batch: True
2025-04-13 23:35:32,877 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 5/336 (2 chunks) ---
2025-04-13 23:35:32,878 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:32,879 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:32,926 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:35:32,927 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:32,933 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.00s. Prepared: 2, Skipped: 0
2025-04-13 23:35:32,981 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:32,983 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 24ac3c40-073d-4ad1-acc0-04210bf7e7c9...
2025-04-13 23:35:33,107 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.12s
2025-04-13 23:35:33,109 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.80 GB, VMS: 42.21 GB
2025-04-13 23:35:33,110 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.12 GB, Total: 8.00 GB
2025-04-13 23:35:33,547 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.67s. Overall success for this batch: True
2025-04-13 23:35:33,553 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 6/336 (2 chunks) ---
2025-04-13 23:35:33,554 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:33,555 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:33,602 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:35:33,603 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:33,609 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:33,664 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:33,665 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 1a09d9d2-715c-4aa8-92eb-05fb0719684c...
2025-04-13 23:35:33,807 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.14s
2025-04-13 23:35:33,808 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.80 GB, VMS: 42.21 GB
2025-04-13 23:35:33,809 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.12 GB, Total: 8.00 GB
2025-04-13 23:35:34,250 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.70s. Overall success for this batch: True
2025-04-13 23:35:34,256 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 7/336 (2 chunks) ---
2025-04-13 23:35:34,258 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:34,260 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:34,338 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.08s
2025-04-13 23:35:34,339 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:34,346 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:34,405 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:34,406 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 3b75daa4-7c14-4371-bc87-c04394129798...
2025-04-13 23:35:34,578 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.17s
2025-04-13 23:35:34,580 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.80 GB, VMS: 42.21 GB
2025-04-13 23:35:34,581 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.12 GB, Total: 8.00 GB
2025-04-13 23:35:35,096 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.84s. Overall success for this batch: True
2025-04-13 23:35:35,102 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 8/336 (2 chunks) ---
2025-04-13 23:35:35,103 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:35,104 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:35,171 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.07s
2025-04-13 23:35:35,172 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:35,178 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:35,241 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:35,242 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 987b62b5-fc7e-4a8b-a32c-d9bef2759730...
2025-04-13 23:35:35,370 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.13s
2025-04-13 23:35:35,372 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.80 GB, VMS: 42.21 GB
2025-04-13 23:35:35,373 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.12 GB, Total: 8.00 GB
2025-04-13 23:35:35,880 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.78s. Overall success for this batch: True
2025-04-13 23:35:35,887 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 9/336 (2 chunks) ---
2025-04-13 23:35:35,888 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:35,889 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:35,942 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:35:35,943 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:35,951 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:36,004 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:36,005 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: a7fecc1c-a676-4872-ba5f-dc600a65018c...
2025-04-13 23:35:36,138 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.13s
2025-04-13 23:35:36,140 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.80 GB, VMS: 42.21 GB
2025-04-13 23:35:36,141 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.12 GB, Total: 8.00 GB
2025-04-13 23:35:36,637 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.75s. Overall success for this batch: True
2025-04-13 23:35:36,645 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 10/336 (2 chunks) ---
2025-04-13 23:35:36,647 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:36,648 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:36,721 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.07s
2025-04-13 23:35:36,722 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:36,728 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:36,780 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:36,781 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 71b528bc-09e1-4e33-826b-abc421620453...
2025-04-13 23:35:36,906 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.12s
2025-04-13 23:35:36,908 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.80 GB, VMS: 42.21 GB
2025-04-13 23:35:36,909 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.12 GB, Total: 8.00 GB
2025-04-13 23:35:37,407 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.76s. Overall success for this batch: True
2025-04-13 23:35:37,414 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 11/336 (2 chunks) ---
2025-04-13 23:35:37,416 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:37,417 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:37,477 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:35:37,478 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:37,487 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:37,546 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:37,549 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: af5dfa01-b1af-4245-b609-901eb74a503a...
2025-04-13 23:35:37,752 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.20s
2025-04-13 23:35:37,753 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.80 GB, VMS: 42.21 GB
2025-04-13 23:35:37,754 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.12 GB, Total: 8.00 GB
2025-04-13 23:35:38,193 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.78s. Overall success for this batch: True
2025-04-13 23:35:38,199 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 12/336 (2 chunks) ---
2025-04-13 23:35:38,200 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:38,201 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:38,265 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:35:38,267 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:38,276 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:38,329 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:38,332 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 5426f1a5-5947-4148-95ed-19083ad2708d...
2025-04-13 23:35:38,554 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.22s
2025-04-13 23:35:38,556 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.80 GB, VMS: 42.21 GB
2025-04-13 23:35:38,557 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.12 GB, Total: 8.00 GB
2025-04-13 23:35:38,990 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.79s. Overall success for this batch: True
2025-04-13 23:35:38,997 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 13/336 (2 chunks) ---
2025-04-13 23:35:38,999 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:39,000 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:39,064 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:35:39,065 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:39,085 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.02s. Prepared: 2, Skipped: 0
2025-04-13 23:35:39,132 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:39,134 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 43273e8e-a39c-4bbf-8e69-f5297b18fe3a...
2025-04-13 23:35:39,412 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.28s
2025-04-13 23:35:39,413 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.81 GB, VMS: 42.21 GB
2025-04-13 23:35:39,414 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.12 GB, Total: 8.00 GB
2025-04-13 23:35:39,928 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.93s. Overall success for this batch: True
2025-04-13 23:35:39,939 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 14/336 (2 chunks) ---
2025-04-13 23:35:39,941 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:39,942 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:40,116 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.17s
2025-04-13 23:35:40,117 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:40,177 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.06s. Prepared: 2, Skipped: 0
2025-04-13 23:35:40,229 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:40,231 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 4d31b4ac-e38c-41dc-9237-654478a3cced...
2025-04-13 23:35:40,932 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.70s
2025-04-13 23:35:40,934 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:40,935 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.17 GB, Total: 8.00 GB
2025-04-13 23:35:41,459 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 1.52s. Overall success for this batch: True
2025-04-13 23:35:41,475 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 15/336 (2 chunks) ---
2025-04-13 23:35:41,478 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:41,479 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:41,552 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.07s
2025-04-13 23:35:41,553 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:41,562 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:41,617 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:41,618 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: f6b5c000-d3ad-4141-9b36-ff02ee69bd4d...
2025-04-13 23:35:41,787 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.17s
2025-04-13 23:35:41,788 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:41,789 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.17 GB, Total: 8.00 GB
2025-04-13 23:35:42,284 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.81s. Overall success for this batch: True
2025-04-13 23:35:42,293 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 16/336 (2 chunks) ---
2025-04-13 23:35:42,296 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:42,298 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:42,379 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.08s
2025-04-13 23:35:42,381 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:42,393 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:42,474 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:42,475 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 41ad2ba0-898f-434f-bc02-816374f10c5f...
2025-04-13 23:35:42,570 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.09s
2025-04-13 23:35:42,571 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:42,572 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.17 GB, Total: 8.00 GB
2025-04-13 23:35:43,070 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.77s. Overall success for this batch: True
2025-04-13 23:35:43,077 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 17/336 (2 chunks) ---
2025-04-13 23:35:43,079 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:43,080 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:43,132 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:35:43,133 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:43,141 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:43,197 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:43,199 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 56e3da8f-25c2-461a-95f4-2e81a07d8816...
2025-04-13 23:35:43,287 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.09s
2025-04-13 23:35:43,289 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:43,290 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.17 GB, Total: 8.00 GB
2025-04-13 23:35:43,739 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.66s. Overall success for this batch: True
2025-04-13 23:35:43,745 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 18/336 (2 chunks) ---
2025-04-13 23:35:43,746 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:43,747 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:43,852 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.10s
2025-04-13 23:35:43,853 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:43,883 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.03s. Prepared: 2, Skipped: 0
2025-04-13 23:35:43,935 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:43,937 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 360222de-2a3f-4c11-9ef3-192b8a83a109...
2025-04-13 23:35:44,278 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.34s
2025-04-13 23:35:44,279 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:44,281 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.17 GB, Total: 8.00 GB
2025-04-13 23:35:44,776 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 1.03s. Overall success for this batch: True
2025-04-13 23:35:44,788 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 19/336 (2 chunks) ---
2025-04-13 23:35:44,790 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:44,791 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:44,883 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.09s
2025-04-13 23:35:44,884 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:44,911 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.03s. Prepared: 2, Skipped: 0
2025-04-13 23:35:44,967 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:44,968 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 2379e3b2-1aa3-4fa6-b7c6-715b2ff5ac0d...
2025-04-13 23:35:45,280 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.31s
2025-04-13 23:35:45,282 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:45,283 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.17 GB, Total: 8.00 GB
2025-04-13 23:35:45,813 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 1.02s. Overall success for this batch: True
2025-04-13 23:35:45,824 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 20/336 (2 chunks) ---
2025-04-13 23:35:45,826 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:45,828 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:45,983 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.16s
2025-04-13 23:35:45,985 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:46,033 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.05s. Prepared: 2, Skipped: 0
2025-04-13 23:35:46,083 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:46,085 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 7ebb9804-376a-4323-99be-e7b5f2d6b319...
2025-04-13 23:35:46,562 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.48s
2025-04-13 23:35:46,564 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:46,565 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.17 GB, Total: 8.00 GB
2025-04-13 23:35:47,098 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 1.27s. Overall success for this batch: True
2025-04-13 23:35:47,114 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 21/336 (2 chunks) ---
2025-04-13 23:35:47,116 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:47,117 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:47,174 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:35:47,175 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:47,187 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:47,251 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:47,255 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 80a5d789-12f6-4240-9f8a-e6ab82189417...
2025-04-13 23:35:47,486 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.23s
2025-04-13 23:35:47,487 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:47,488 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.17 GB, Total: 8.00 GB
2025-04-13 23:35:47,997 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.88s. Overall success for this batch: True
2025-04-13 23:35:48,006 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 22/336 (2 chunks) ---
2025-04-13 23:35:48,009 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:48,011 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:48,123 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.11s
2025-04-13 23:35:48,124 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:48,167 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.04s. Prepared: 2, Skipped: 0
2025-04-13 23:35:48,218 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:48,219 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 06791011-5025-48af-aead-32cc33346a7f...
2025-04-13 23:35:48,696 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.48s
2025-04-13 23:35:48,698 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.80 GB, VMS: 42.20 GB
2025-04-13 23:35:48,699 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.17 GB, Total: 8.00 GB
2025-04-13 23:35:49,231 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 1.22s. Overall success for this batch: True
2025-04-13 23:35:49,243 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 23/336 (2 chunks) ---
2025-04-13 23:35:49,245 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:49,246 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:49,320 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.07s
2025-04-13 23:35:49,321 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:49,341 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.02s. Prepared: 2, Skipped: 0
2025-04-13 23:35:49,392 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:49,394 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 0785719d-d7bf-4ef9-9eb0-08f7aaebeacb...
2025-04-13 23:35:49,653 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.26s
2025-04-13 23:35:49,655 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.79 GB, VMS: 42.20 GB
2025-04-13 23:35:49,656 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.17 GB, Total: 8.00 GB
2025-04-13 23:35:50,144 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.90s. Overall success for this batch: True
2025-04-13 23:35:50,152 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 24/336 (2 chunks) ---
2025-04-13 23:35:50,154 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:50,155 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:50,215 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:35:50,216 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:50,234 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.02s. Prepared: 2, Skipped: 0
2025-04-13 23:35:50,283 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:50,284 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 50596a1f-1ec8-44ea-a3aa-339f7a530181...
2025-04-13 23:35:50,515 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.23s
2025-04-13 23:35:50,516 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.79 GB, VMS: 42.20 GB
2025-04-13 23:35:50,517 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.17 GB, Total: 8.00 GB
2025-04-13 23:35:51,009 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.86s. Overall success for this batch: True
2025-04-13 23:35:51,019 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 25/336 (2 chunks) ---
2025-04-13 23:35:51,021 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:51,022 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:51,176 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.15s
2025-04-13 23:35:51,178 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:51,215 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.04s. Prepared: 2, Skipped: 0
2025-04-13 23:35:51,264 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:51,266 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: f43a087d-336b-4233-a472-123f31309cf6...
2025-04-13 23:35:51,633 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.37s
2025-04-13 23:35:51,635 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.83 GB, VMS: 42.23 GB
2025-04-13 23:35:51,636 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.17 GB, Total: 8.00 GB
2025-04-13 23:35:52,084 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 1.06s. Overall success for this batch: True
2025-04-13 23:35:52,093 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 26/336 (2 chunks) ---
2025-04-13 23:35:52,095 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:52,096 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:52,173 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.08s
2025-04-13 23:35:52,174 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:52,202 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.03s. Prepared: 2, Skipped: 0
2025-04-13 23:35:52,255 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:52,258 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 7311cbf0-4e28-4d64-b263-4df5b34aa287...
2025-04-13 23:35:52,623 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.36s
2025-04-13 23:35:52,625 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.83 GB, VMS: 42.23 GB
2025-04-13 23:35:52,626 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.17 GB, Total: 8.00 GB
2025-04-13 23:35:53,064 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.97s. Overall success for this batch: True
2025-04-13 23:35:53,076 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 27/336 (2 chunks) ---
2025-04-13 23:35:53,078 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:53,079 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:53,277 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.20s
2025-04-13 23:35:53,278 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:53,332 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.05s. Prepared: 2, Skipped: 0
2025-04-13 23:35:53,386 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:53,388 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 2db9981c-7315-49cc-913e-eda4f79d33ff...
2025-04-13 23:35:53,826 - src.core.indexing.document_indexer - ERROR - NETWORK/TIMEOUT ERROR upserting Qdrant client batch 1: UnexpectedResponse - Unexpected Response: 422 (Unprocessable Entity)
Raw response content:
b'{"status":{"error":"Validation error in JSON body: [points[0].vector.?.data: Total size of all vectors (1079296) must be less than 1048576]"},"time":0.0}'
Traceback (most recent call last):
  File "/home/t/lm_rag/src/core/indexing/document_indexer.py", line 462, in _process_and_index_qdrant_batch
    response = client.upsert(collection_name=self.qdrant_collection, points=client_batch, wait=True)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/qdrant_client.py", line 1567, in upsert
    return self._client.upsert(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/qdrant_remote.py", line 1908, in upsert
    http_result = self.openapi_client.points_api.upsert_points(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api/points_api.py", line 987, in upsert_points
    return self._build_for_upsert_points(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api/points_api.py", line 512, in _build_for_upsert_points
    return self.api_client.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api_client.py", line 89, in request
    return self.send(request, type_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/t/lm_rag/venv/lib/python3.12/site-packages/qdrant_client/http/api_client.py", line 112, in send
    raise UnexpectedResponse.for_response(response)
qdrant_client.http.exceptions.UnexpectedResponse: Unexpected Response: 422 (Unprocessable Entity)
Raw response content:
b'{"status":{"error":"Validation error in JSON body: [points[0].vector.?.data: Total size of all vectors (1079296) must be less than 1048576]"},"time":0.0}'
2025-04-13 23:35:53,848 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.89 GB, VMS: 42.29 GB
2025-04-13 23:35:53,850 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:35:54,309 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 1.23s. Overall success for this batch: False
2025-04-13 23:35:54,323 - src.core.indexing.document_indexer - ERROR - Failed to process Qdrant batch 27. Check logs for details.
2025-04-13 23:35:54,325 - src.core.indexing.document_indexer - WARNING - Fallback to BM25 is enabled. Continuing with next batch despite Qdrant failure.
2025-04-13 23:35:54,326 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 28/336 (2 chunks) ---
2025-04-13 23:35:54,327 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:54,328 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:54,394 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.07s
2025-04-13 23:35:54,395 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:54,415 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.02s. Prepared: 2, Skipped: 0
2025-04-13 23:35:54,463 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:54,465 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 4477e83e-967e-43aa-b262-7f267f636534...
2025-04-13 23:35:54,675 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.21s
2025-04-13 23:35:54,677 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:54,678 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:35:55,122 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.79s. Overall success for this batch: True
2025-04-13 23:35:55,129 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 29/336 (2 chunks) ---
2025-04-13 23:35:55,131 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:55,132 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:55,189 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:35:55,190 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:55,202 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:55,252 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:55,254 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 06717d32-3b28-4c08-934e-3ceaa8cfe68e...
2025-04-13 23:35:55,421 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.17s
2025-04-13 23:35:55,422 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:55,423 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:35:55,855 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.72s. Overall success for this batch: True
2025-04-13 23:35:55,863 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 30/336 (2 chunks) ---
2025-04-13 23:35:55,864 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:55,865 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:55,912 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:35:55,913 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:55,923 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:35:55,997 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:56,000 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 94998874-a1fd-45fc-8245-23accf256f42...
2025-04-13 23:35:56,152 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.15s
2025-04-13 23:35:56,153 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:56,154 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:35:56,621 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.76s. Overall success for this batch: True
2025-04-13 23:35:56,628 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 31/336 (2 chunks) ---
2025-04-13 23:35:56,630 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:56,631 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:56,732 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.10s
2025-04-13 23:35:56,733 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:56,760 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.03s. Prepared: 2, Skipped: 0
2025-04-13 23:35:56,811 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:56,813 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: cd542a80-7e16-4337-8894-094e998293b8...
2025-04-13 23:35:57,147 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.33s
2025-04-13 23:35:57,148 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:57,150 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:35:57,643 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 1.01s. Overall success for this batch: True
2025-04-13 23:35:57,657 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 32/336 (2 chunks) ---
2025-04-13 23:35:57,658 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:57,659 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:57,777 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.12s
2025-04-13 23:35:57,780 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:57,815 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.03s. Prepared: 2, Skipped: 0
2025-04-13 23:35:57,878 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:57,881 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 42d46678-8b4f-40c9-b058-813e0f8fb3c2...
2025-04-13 23:35:58,218 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.34s
2025-04-13 23:35:58,220 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:58,221 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:35:58,672 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 1.01s. Overall success for this batch: True
2025-04-13 23:35:58,684 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 33/336 (2 chunks) ---
2025-04-13 23:35:58,686 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:58,686 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:58,746 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:35:58,747 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:58,767 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.02s. Prepared: 2, Skipped: 0
2025-04-13 23:35:58,817 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:58,819 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: c01b479c-1a12-464e-8e0f-1c6550f88c46...
2025-04-13 23:35:59,009 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.19s
2025-04-13 23:35:59,010 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:59,011 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:35:59,458 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.77s. Overall success for this batch: True
2025-04-13 23:35:59,467 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 34/336 (2 chunks) ---
2025-04-13 23:35:59,468 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:59,469 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:59,520 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:35:59,521 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:59,539 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.02s. Prepared: 2, Skipped: 0
2025-04-13 23:35:59,588 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:59,590 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: ee4d94d5-d066-472f-be69-8adcb4275c4a...
2025-04-13 23:35:58,662 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in -0.93s
2025-04-13 23:35:58,663 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:58,664 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:35:59,111 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in -0.36s. Overall success for this batch: True
2025-04-13 23:35:59,118 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 35/336 (2 chunks) ---
2025-04-13 23:35:59,120 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:59,121 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:59,183 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:35:59,184 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:59,203 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.02s. Prepared: 2, Skipped: 0
2025-04-13 23:35:59,251 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:35:59,252 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 36ba16c6-a17c-47a0-85f7-f5a957af5abb...
2025-04-13 23:35:59,445 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.19s
2025-04-13 23:35:59,446 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:35:59,447 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:35:59,882 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.76s. Overall success for this batch: True
2025-04-13 23:35:59,890 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 36/336 (2 chunks) ---
2025-04-13 23:35:59,891 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:35:59,892 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:35:59,947 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:35:59,948 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:35:59,965 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.02s. Prepared: 2, Skipped: 0
2025-04-13 23:36:00,013 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:00,014 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 110e15ac-f465-4298-813e-766ff7625486...
2025-04-13 23:36:00,179 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.16s
2025-04-13 23:36:00,180 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:00,182 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:00,618 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.73s. Overall success for this batch: True
2025-04-13 23:36:00,625 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 37/336 (2 chunks) ---
2025-04-13 23:36:00,627 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:00,628 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:00,683 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:36:00,685 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:00,708 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.02s. Prepared: 2, Skipped: 0
2025-04-13 23:36:00,765 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:00,766 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: d5a2f261-4002-45c4-9eed-011bac71216e...
2025-04-13 23:36:01,023 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.26s
2025-04-13 23:36:01,025 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:01,026 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:01,454 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.83s. Overall success for this batch: True
2025-04-13 23:36:01,462 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 38/336 (2 chunks) ---
2025-04-13 23:36:01,464 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:01,465 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:01,523 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:36:01,524 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:01,537 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:36:01,590 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:01,592 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 5d922b98-cc2c-4db2-b891-185bca0d3c7d...
2025-04-13 23:36:01,725 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.13s
2025-04-13 23:36:01,727 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:01,728 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:02,171 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.71s. Overall success for this batch: True
2025-04-13 23:36:02,178 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 39/336 (2 chunks) ---
2025-04-13 23:36:02,180 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:02,181 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:02,235 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:36:02,237 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:02,255 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.02s. Prepared: 2, Skipped: 0
2025-04-13 23:36:02,304 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:02,305 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 82c9cfc7-80b0-45b5-b648-6862dd64c02a...
2025-04-13 23:36:02,461 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.15s
2025-04-13 23:36:02,463 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:02,464 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:02,900 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.72s. Overall success for this batch: True
2025-04-13 23:36:02,908 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 40/336 (2 chunks) ---
2025-04-13 23:36:02,909 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:02,910 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:02,969 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:36:02,970 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:02,991 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.02s. Prepared: 2, Skipped: 0
2025-04-13 23:36:03,046 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:03,048 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: c8a78f12-6587-4810-9d2d-280f18e5b9e5...
2025-04-13 23:36:03,214 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.17s
2025-04-13 23:36:03,216 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:03,217 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:03,723 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.81s. Overall success for this batch: True
2025-04-13 23:36:03,732 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 41/336 (2 chunks) ---
2025-04-13 23:36:03,734 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:03,735 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:03,794 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:36:03,795 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:03,817 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.02s. Prepared: 2, Skipped: 0
2025-04-13 23:36:03,869 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:03,870 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 8ef4e277-9cf6-4a84-9e0c-c9e5aad9c4cc...
2025-04-13 23:36:04,039 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.17s
2025-04-13 23:36:04,041 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:04,042 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:04,490 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.76s. Overall success for this batch: True
2025-04-13 23:36:04,498 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 42/336 (2 chunks) ---
2025-04-13 23:36:04,500 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:04,502 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:04,596 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.09s
2025-04-13 23:36:04,598 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:04,626 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.03s. Prepared: 2, Skipped: 0
2025-04-13 23:36:04,674 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:04,675 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 9f131a76-08c8-4cbd-bb59-f826c5a805e0...
2025-04-13 23:36:04,911 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.23s
2025-04-13 23:36:04,912 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:04,913 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:05,379 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.88s. Overall success for this batch: True
2025-04-13 23:36:05,390 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 43/336 (2 chunks) ---
2025-04-13 23:36:05,392 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:05,392 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:05,443 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:36:05,445 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:05,455 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:36:05,507 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:05,510 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: a0954083-02bb-45c0-9194-28cbf1201752...
2025-04-13 23:36:05,646 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.14s
2025-04-13 23:36:05,648 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.29 GB
2025-04-13 23:36:05,649 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:06,092 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.70s. Overall success for this batch: True
2025-04-13 23:36:06,098 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 44/336 (2 chunks) ---
2025-04-13 23:36:06,100 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:06,101 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:06,149 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:36:06,150 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:06,160 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:36:06,214 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:06,215 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 4e76d78e-4e7f-4db4-a8f3-adeee6feb4df...
2025-04-13 23:36:06,319 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.10s
2025-04-13 23:36:06,321 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:06,322 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:06,782 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.68s. Overall success for this batch: True
2025-04-13 23:36:06,787 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 45/336 (2 chunks) ---
2025-04-13 23:36:06,789 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:06,790 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:06,847 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:36:06,848 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:06,858 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:36:06,908 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:06,911 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 72bff3e9-4f34-4e61-8482-504f5cedfac3...
2025-04-13 23:36:07,048 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.14s
2025-04-13 23:36:07,050 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:07,051 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:07,492 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.70s. Overall success for this batch: True
2025-04-13 23:36:07,500 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 46/336 (2 chunks) ---
2025-04-13 23:36:07,502 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:07,502 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:07,557 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:36:07,558 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:07,571 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:36:07,637 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:07,640 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 601c0cc3-3543-4a1b-9810-39b940f54131...
2025-04-13 23:36:07,753 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.11s
2025-04-13 23:36:07,755 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:07,756 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:08,199 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.70s. Overall success for this batch: True
2025-04-13 23:36:08,205 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 47/336 (2 chunks) ---
2025-04-13 23:36:08,207 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:08,207 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:08,254 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:36:08,255 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:08,264 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:36:08,314 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:08,315 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 054212b8-31cd-47f3-9584-ed308cf17779...
2025-04-13 23:36:08,425 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.11s
2025-04-13 23:36:08,426 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:08,428 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:08,872 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.67s. Overall success for this batch: True
2025-04-13 23:36:08,878 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 48/336 (2 chunks) ---
2025-04-13 23:36:08,880 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:08,881 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:08,929 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:36:08,930 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:08,940 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:36:08,999 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:09,001 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 0a74af51-32af-48b2-a41d-e75f2ef8961c...
2025-04-13 23:36:09,103 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.10s
2025-04-13 23:36:09,105 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:09,106 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:09,547 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.67s. Overall success for this batch: True
2025-04-13 23:36:09,554 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 49/336 (2 chunks) ---
2025-04-13 23:36:09,555 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:09,556 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:09,606 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:36:09,608 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:09,617 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:36:09,668 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:09,670 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 152f961b-1c70-45ef-a11e-31e0547c9e47...
2025-04-13 23:36:09,787 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.12s
2025-04-13 23:36:09,789 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:09,790 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:10,226 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.67s. Overall success for this batch: True
2025-04-13 23:36:10,233 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 50/336 (2 chunks) ---
2025-04-13 23:36:10,234 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:10,235 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:10,297 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:36:10,299 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:10,309 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:36:10,362 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:10,364 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: f99bf6c9-2ee5-4d6a-8a40-e09d404b55f9...
2025-04-13 23:36:10,534 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.17s
2025-04-13 23:36:10,536 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:10,537 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:10,969 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.73s. Overall success for this batch: True
2025-04-13 23:36:10,975 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 51/336 (2 chunks) ---
2025-04-13 23:36:10,977 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:10,977 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:11,026 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.05s
2025-04-13 23:36:11,027 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:11,036 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:36:11,094 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:11,095 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: fb94f416-e671-4271-a33d-7d82b0afe8f3...
2025-04-13 23:36:11,218 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.12s
2025-04-13 23:36:11,220 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:11,222 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:11,714 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.74s. Overall success for this batch: True
2025-04-13 23:36:11,722 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 52/336 (2 chunks) ---
2025-04-13 23:36:11,724 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:11,725 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:11,796 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.07s
2025-04-13 23:36:11,797 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:11,807 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:36:11,861 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:11,864 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 0b11a863-a9a7-4a51-8f97-ff55c796f5fb...
2025-04-13 23:36:11,973 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.11s
2025-04-13 23:36:11,975 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:11,976 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:12,414 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.69s. Overall success for this batch: True
2025-04-13 23:36:12,421 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 53/336 (2 chunks) ---
2025-04-13 23:36:12,423 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:12,424 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:12,485 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.06s
2025-04-13 23:36:12,486 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:12,496 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.01s. Prepared: 2, Skipped: 0
2025-04-13 23:36:12,548 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:12,551 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 16f7bc90-dbfc-4d70-aa3e-814a475ff816...
2025-04-13 23:36:12,679 - src.core.indexing.document_indexer - INFO - <-- Successfully upserted Qdrant client batch 1 in 0.13s
2025-04-13 23:36:12,680 - src.core.indexing.document_indexer - INFO - Process memory - RSS: 2.84 GB, VMS: 42.23 GB
2025-04-13 23:36:12,681 - src.core.indexing.document_indexer - INFO - GPU memory - Allocated: 1.07 GB, Reserved: 1.19 GB, Total: 8.00 GB
2025-04-13 23:36:13,112 - src.core.indexing.document_indexer - INFO - Finished processing Qdrant batch in 0.69s. Overall success for this batch: True
2025-04-13 23:36:13,118 - src.core.indexing.document_indexer - INFO - --- Starting Processing Batch 54/336 (2 chunks) ---
2025-04-13 23:36:13,120 - src.core.indexing.document_indexer - INFO - Processing Qdrant batch with 2 chunks...
2025-04-13 23:36:13,121 - src.core.indexing.document_indexer - INFO - Generating embeddings for 2 texts using BAAI/bge-m3...
2025-04-13 23:36:13,340 - src.core.indexing.document_indexer - INFO - BGE-M3 embeddings generated in 0.22s
2025-04-13 23:36:13,341 - src.core.indexing.document_indexer - INFO - Preparing 2 points for Qdrant upsert...
2025-04-13 23:36:13,446 - src.core.indexing.document_indexer - INFO - Point preparation finished in 0.10s. Prepared: 2, Skipped: 0
2025-04-13 23:36:13,496 - src.core.indexing.document_indexer - INFO - Upserting 2 points to Qdrant server in 1 client batches (size: 128)...
2025-04-13 23:36:13,498 - src.core.indexing.document_indexer - INFO - --> Sending Qdrant client batch 1/1 (2 points), starting with ID: 6752f363-8919-4db5-8bf4-ca083f58bc71...
